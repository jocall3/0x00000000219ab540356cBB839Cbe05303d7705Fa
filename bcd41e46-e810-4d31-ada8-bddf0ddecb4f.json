{"info":{"_postman_id":"bcd41e46-e810-4d31-ada8-bddf0ddecb4f","name":"ðŸ‡ºðŸ‡¸ Mastercard Open Banking US APIs","description":"Postman Collection for Mastercard Open Banking APIs\n\n<img src=\"https://raw.githubusercontent.com/Mastercard/finicity-openapi/main/res/logo.png\">\n\nContact Support:  \nName: API Support  \nEmail: [apisupport@mastercard.com](https://mailto:apisupport@mastercard.com)","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Quick Start","item":[{"name":"Welcome Your First Customer","item":[{"name":"Step 1 - Create Access Token","event":[{"listen":"test","script":{"id":"6cae355f-fb74-4152-afe1-dd5d732540ae","exec":["if (pm.response.code == 403) {\r","    throw Error(\"HTTP 403. Make sure you are located in the US, UK or Canada.\")\r","}\r","pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})\r","\r","/* Store the token and expiry date in global variables */\r","const tokenValue = pm.response.json().token\r","const expiryDate = new Date()\r","expiryDate.setMinutes(expiryDate.getMinutes() + 90)\r","pm.globals.set(\"appToken\", tokenValue)\r","pm.globals.set(\"appTokenExpiry\", expiryDate)"],"type":"text/javascript"}}],"id":"455d5a7b-ef97-482b-be58-73361f9278bf","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"partnerSecret\": \"{{partnerSecret}}\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/authentication","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","authentication"]},"description":"Send Partner ID and Partner Secret to the Partner Authentication service to obtain a token for accessing Finicity APIs.\n* The token is valid for two hours and is required on all calls to the Finicity APIs\n* As a best practice, use a single token for all calls. Assign a timestamp for each token, and then check the current timestamp before making any calls. If the token is greater than 90 minutes, generate a new one.\n* âš ï¸ After five failed attempts to authenticate, your account will be locked. Contact [support@finicity.com](mailto:support@finicity.com) to get help resetting your account.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[]},{"name":"Step 2 - Add Testing Customer","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(201)\r","})\r","\r","/* Add the created customer ID to the environment */\r","const customerId = pm.response.json().id\r","pm.environment.set(\"customerId\", customerId)"],"type":"text/javascript","id":"78349997-d6f9-4456-bb26-e9c26f8c7522"}}],"id":"2962b127-7d41-46df-a18a-cef8db75443b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"username\": \"customer_{{$timestamp}}\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Smith\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/testing","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","testing"]},"description":"Enroll a testing customer ([Test Drive](https://signup.finicity.com/) accounts).\n\nFor using testing customers with FinBank OAuth, you must register a test application with your systems engineer or account manager. Then, use that testing `applicationId` when creating testing customers.\n\nTesting Customers can access FinBank profiles (except \"FinBank Billable\" profiles), and cannot access live financial institutions.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[]},{"name":"Step 3 - Generate Connect URL","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})\r","\r","/* Store the connect URL in global variables */\r","const url = pm.response.json().link\r","pm.globals.set(\"connectUrl\", url)\r",""],"type":"text/javascript","id":"9df9eb60-07fa-4106-92ef-d143693488fa"}}],"id":"3445d86a-c844-430a-9d96-2e27977cd031","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"customerId\": \"{{customerId}}\",\n    \"language\": \"en\",\n    \"consumerId\": \"0bf46322c167b562e6cbed9d40e19a4c\",\n    \"redirectUri\": \"https://www.finicity.com/connect/\",\n    \"webhookContentType\": \"application/json\",\n    \"webhookData\": {},\n    \"webhookHeaders\": {},\n    \"optionalConsumerInfo\": {\n        \"ssn\": \"999999999\",\n        \"dob\": 1607450357\n    },\n    \"singleUseUrl\": true,\n    \"institutionSettings\": {},\n    \"fromDate\": 1607450357,\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/connect/v2/generate","host":["{{baseUrl}}"],"path":["connect","v2","generate"]},"description":"Generate a Connect 2.0 URL link to add within your own applications.\n\nIn option, use the `experience` parameter to call Connect (per session) in the body of the request. Configure the `experience` parameter to change the brand color, logo, icon, which credit decisioning report to generate when the Connect application completes, and more.\n\nNote: contact your Sales Account Team to set up the `experience` parameter.\n\n \nMVS Developers: You can pre-populate the consumer's SSN on the \"Find employment records\" page at the beginning of the MVS payroll app. Pass the SSN value for the consumer in the body of the request call.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[]},{"name":"Step 4 - Sign-in to FinBank and submit accounts","id":"0d4b2f35-26e9-4ad0-b2ab-044b4d735924","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"Follow Step 4 here => https://mstr.cd/3Z1ekdU","protocol":"Follow Step 4 here => https","host":["mstr","cd"],"path":["3Z1ekdU"]},"description":"Follow [Step 4 - Sign-in to FinBank and submit accounts](https://mstr.cd/3Z1ekdU)"},"response":[]},{"name":"Step 5 - Refresh Customer Accounts","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"ddd9c3e9-60f0-4d7f-9af1-c35008d1aed5"}}],"id":"e11b4bbc-606a-40d0-8477-5b2eccf07252","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts"]},"description":"Refresh account and transaction data for all accounts associated with the  given `customerId` with a connection to the institution.\n\nClient apps are not permitted to automate calls to the Refresh services. Active accounts are automatically refreshed by Finicity once per day. Because many financial institutions only post transactions once per day, calling Refresh repeatedly is usually a waste of resources and is not recommended.\n\nApps may call Refresh services for a specific customer when there is a specific business case for the need of data that is up to date as of the moment. Please discuss with your account manager and systems engineer for further clarification.\n\nThe recommended timeout setting for this request is 120 seconds in order to receive a response. However, you can terminate the connection after making the call the operation will still complete. You will have to pull the account records to check for an updated aggregation attempt date to know when the refresh is complete.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[]}],"id":"07d9490e-3d81-4a26-bf9e-1cc7613f0e8c","description":"Steps from the [Quick Start Guide](https://developer.mastercard.com/open-banking-us/documentation/quick-start-guide/#2-welcome-your-first-customer) to create a test customer and share some test accounts with Mastercard Open Banking. The corresponding Customer ID can then be used for retrieving account and financial data."}],"id":"d985d0c9-c323-481f-be84-9da322ac0f40","description":"Steps from the [Quick Start Guide](https://developer.mastercard.com/open-banking-us/documentation/quick-start-guide/#2-welcome-your-first-customer) to create a test customer and share some test accounts with Mastercard Open Banking. The corresponding Customer ID can then be used for retrieving account and financial data."},{"name":"All APIs","item":[{"name":"Accounts","item":[{"name":"Get Customer Accounts by Institution Login ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"55f08f5d-f4cb-434e-bf8e-a29bf49b8c2c"}}],"id":"f5af5b8d-cd35-4f73-a51d-bf70b0b1ec05","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/institutionLogins/{{institutionLoginId}}/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","institutionLogins","{{institutionLoginId}}","accounts"]},"description":"Get all accounts associated with the given institution login. All accounts returned are accessible by a single set of credentials on a single institution.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"7c8bbd76-f06d-4e5c-a90d-5e768b339e61","name":"The account list was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"c326cd5d-ac0f-422f-b689-722a8be474b5","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"341a374b-56a6-4c86-ab6d-f8b94686d60c","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"3966479e-070a-4189-aa6f-e3796efcebbe","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Refresh Customer Accounts by Institution Login ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"9b3176c6-8fce-40f4-8281-0076c3768b08"}}],"id":"305282dc-2696-475e-ba06-5901d3c09058","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/institutionLogins/{{institutionLoginId}}/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","institutionLogins","{{institutionLoginId}}","accounts"]},"description":"Refresh account and transaction data for all accounts associated with a given `institutionLoginId` with a connection to the institution.\n\nClient apps are not permitted to automate calls to the Refresh services. Active accounts are automatically refreshed by Finicity once per day. Because many financial institutions only post transactions once per day, calling Refresh repeatedly is usually a waste of resources and is not recommended.\n\nApps may call Refresh services for a specific customer when there is a specific business case for the need of data that is up to date as of the moment. Please discuss with your account manager and systems engineer for further clarification.\n\nThe recommended timeout setting for this request is 120 seconds in order to receive a response. However, you can terminate the connection after making the call the operation will still complete. You will have to pull the account records to check for an updated aggregation attempt date to know when the refresh is complete.\n\nNote: This service is not available for all tiers of dynamic billing.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"9493f218-e448-4d0d-b791-eac2e79835cf","name":"The account list was successfully refreshed","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"7375dd1c-35a0-4c92-98d7-6ee951d3255a","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"1dfdc43c-ee99-4883-87a3-6087828f424d","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"69ab3afa-48d0-4cb6-9c39-655f19df1c36","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Refresh Customer Accounts by Institution Login ID for Dynamic Billing","id":"df788ab9-928d-4062-891f-c67b2a2fc68c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"default"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"default"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/{{customerId}}/institutionLogins/{{institutionLoginId}}/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","{{customerId}}","institutionLogins","{{institutionLoginId}}","accounts"]},"description":"Refresh account and transaction data for all accounts associated with a given 'institutionLoginId` with a connection to the institution. Client apps are not permitted to automate calls to the Refresh services. Active accounts are automatically refreshed by Finicity once per day.\n\nApps may call Refresh services for a specific customer when there is a specific business case for the need of data that is up to date as of the moment. Please discuss with your account manager and systems engineer for further clarification.\n\nNote: This service will be used for dynamic billing tiers ASD, AFD and ATD.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"d977d16c-e52c-4488-ab8d-d178743edbc6","name":"The account list was successfully refreshed","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"01aadafc-c6d4-4480-88ec-afaa07e762c3","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"8d703c17-42e6-49b2-9417-9c87df6eb54a","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"},{"id":"b781ac09-f45c-49ad-aad1-4fdd49d0861e","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/institutionLogins/:institutionLoginId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","institutionLogins",":institutionLoginId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Delete Customer Accounts by Institution Login ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(404)\r","})"],"type":"text/javascript","id":"6fe966e8-d94c-443e-9ede-b4fd120f151a"}}],"id":"cf2bd4d2-d57f-4918-90d5-eab3de3fba53","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/institutionLogins/1234","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","institutionLogins","1234"]},"description":"Remove from Finicity aggregation the set of accounts matching the institution login ID.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"055fa3df-8d84-4e1c-b5b5-38a72f00950d","name":"The customer accounts were successfully deleted","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"2287c546-0ab0-499e-97fa-8587cf131aee","name":"The request was rejected","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"9ab1db30-0f4c-44fb-8bb6-2e1100d4d9c6","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"fe7013af-3175-46c5-a874-50e6eeb01858","name":"The resource doesn't exist","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Customer Account by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"9c2a2dc0-dad2-469c-abe9-428b8bdea3cb"}}],"id":"c5ff62c5-8ee0-4459-9ca2-47b9218939af","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/{{customerId}}/accounts/{{accountId}}","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","{{customerId}}","accounts","{{accountId}}"]},"description":"Get a customer account by ID.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"5006fb86-f9da-48d1-8236-242c2ce2aed2","name":"The account was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"844b85d6-113d-40f4-a71c-e6daf85ed0dd","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"ab53ceb5-d619-4752-93ec-6ac6de9c21d2","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"200bcc7f-f84f-4b09-a9ac-d7321645f069","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Delete Customer Account by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(404)\r","})"],"type":"text/javascript","id":"8973074d-8a74-4748-9fce-1043c864888e"}}],"id":"a71031e3-95cc-46c3-a3fd-479c772abaad","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/1234","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","1234"]},"description":"Remove the given account from Finicity aggregation.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"dc63e8ae-b686-4477-ad92-318678ba3cd7","name":"The customer account was successfully deleted","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"8e28105f-c6d3-4387-944f-ced17ccc3163","name":"The request was rejected","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"2765d566-432f-445e-a82a-c82ca183ce86","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"bb65808d-64cf-42a3-8dfc-3df9049cf565","name":"The resource doesn't exist","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Customer Accounts","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"eadf6559-38e9-4878-88f0-713f4208941d"}}],"id":"1c6f73e7-fa83-4ac8-9213-60cdeafeb375","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts"],"query":[{"key":"status","value":"pending","description":"A filter to fetch account in the given status","disabled":true}]},"description":"Get all accounts owned by the given customer.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"15769731-1334-4d7e-a483-94d335f51081","name":"The account list was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts?status=pending","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts"],"query":[{"key":"status","value":"pending"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"aa70952d-773b-4e2d-8665-91a0167155a0","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts?status=pending","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts"],"query":[{"key":"status","value":"pending"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"3e77d4fd-8235-44b2-bced-da965554a846","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts?status=pending","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts"],"query":[{"key":"status","value":"pending"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"4959efee-81ac-42df-8eae-7df160032ac9","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts?status=pending","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts"],"query":[{"key":"status","value":"pending"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Refresh Customer Accounts","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"d9f05dca-46d4-4ffe-a61c-4eb732628d96"}}],"id":"5b9a0c3c-1c37-45fe-8e07-ba2699e6d12a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts"]},"description":"Refresh account and transaction data for all accounts associated with the  given `customerId` with a connection to the institution.\n\nClient apps are not permitted to automate calls to the Refresh services. Active accounts are automatically refreshed by Finicity once per day. Because many financial institutions only post transactions once per day, calling Refresh services repeatedly is usually a waste of resources and is not recommended.\n\nApps may call Refresh services for a specific customer when there is a specific business case for the need of data that is up to date as of the moment. Please discuss with your account manager and systems engineer for further clarification.\n\nThe recommended timeout setting for this request is 120 seconds in order to receive a response. However, you can terminate the connection after making the call the operation will still complete. You will have to pull the account records to check for an updated aggregation attempt date to know when the refresh is complete.\n\nNote: This service is not available for all tiers of dynamic billing.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"157278b9-771d-4c74-ad2f-86b11981dc1b","name":"The account list was successfully refreshed","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"bf2ed7c8-94cd-4f43-930f-d659c01c5f3d","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"dfdadd24-5685-4d68-aa37-46da33f31fe2","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"cdcbd837-9942-4dff-b0de-8fd5bce6c537","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Refresh Customer Accounts For Dynamic Billing","id":"7aa8bc66-dffb-47c2-a40c-898afd87f2d9","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"default"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"default"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/{{customerId}}/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","{{customerId}}","accounts"]},"description":"Refresh account and transaction data for all accounts associated with the  given `customerId` with a connection to the institution.\n\nClient apps are not permitted to automate calls to the Refresh services. Active accounts are automatically refreshed by Finicity once per day.\nApps may call Refresh services for a specific customer when there is a specific business case for the need of data that is up to date as of the moment. Please discuss with your account manager and systems engineer for further clarification.\n\nNote: This service will be used for dynamic billing tiers ASD, AFD and ATD.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"79126003-0eb4-42b2-9030-400cb4e7989b","name":"The account list was successfully refreshed","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"533fbd62-ee39-4ffb-a525-ced19fb8f021","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"d3fe058b-1816-409c-b7a8-eaa153d9acff","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"},{"id":"e835f919-09d5-417c-8c35-12d6736b34ce","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Customer Accounts by Institution ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"046d0230-e03f-42f5-9fa2-c85027a913fa"}}],"id":"96f69b39-88f5-4250-8969-6e9b428aa6e0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/institutions/{{institutionId}}/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","institutions","{{institutionId}}","accounts"]},"description":"Get all active accounts owned by the given customer at the given institution.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"aed27980-11f1-4e40-9304-8045fcbefe34","name":"The account list was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutions/:institutionId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutions",":institutionId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"179a90cd-ffc8-4438-8d06-dbe9b3f87524","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutions/:institutionId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutions",":institutionId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"d938533e-8be8-47dc-bc68-57081744342a","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutions/:institutionId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutions",":institutionId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"34f90587-c04f-40ab-acb0-4cd3500f9104","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutions/:institutionId/accounts","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutions",":institutionId","accounts"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"4e198cf6-12c9-44a6-b241-d3e7a16f0863","description":"Fetch or refresh customer accounts","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","","const institutionLoginId = pm.variables.get(\"institutionLoginId\")","const institutionId = pm.variables.get(\"institutionId\")","const accountId = pm.variables.get(\"accountId\")","if (institutionLoginId && institutionId && accountId) {","    return","}","","","console.log(\"Fetching account ID, institution ID and institution login ID ...\")","const options = {","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts\",","    method: 'GET',","    header: {","        \"Accept\": \"application/json\",","        \"Finicity-App-Key\": appKey,","        \"Finicity-App-Token\": appToken","    }","}","pm.sendRequest(options, function (err, response) {","    pm.expect(err).to.be.null","    pm.expect(response.code).to.equals(200)","    const account = response.json().accounts[0]","    pm.variables.set(\"institutionLoginId\", account.institutionLoginId)","    pm.variables.set(\"institutionId\", account.institutionId)","    pm.variables.set(\"accountId\", account.id)","})"],"id":"46082784-5504-4329-bfb7-ce9c11fe0818"}}]},{"name":"Accounts (Simple)","item":[{"name":"Get Customer Accounts by Institution ID (Simple)","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"55523e31-0b71-4e50-91c2-3c56e177659d"}}],"id":"ca642add-974e-4985-9aa6-a73f30502eb7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"default"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"default"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/institutions/{{institutionLoginId}}/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","institutions","{{institutionLoginId}}","accounts","simple"]},"description":"This API is a lighter version of Get Customer Accounts by Institution ID, returning only basic information of active accounts owned by the given customer at the given institution.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"b5267ca4-9a00-47a8-8141-85b8317b6dd7","name":"The account list was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutions/:institutionId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutions",":institutionId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"e75595a9-1977-49e7-b134-d59d8ef83591","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutions/:institutionId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutions",":institutionId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"b339b7d4-1459-4ae9-9d6f-b8386aefec4b","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutions/:institutionId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutions",":institutionId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"},{"id":"c9673128-fcce-40d0-a2a3-9cf68735aeec","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutions/:institutionId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutions",":institutionId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Customer Accounts by Institution Login ID (Simple)","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"6034957d-a0bb-4e8a-87a8-a0cbdccc8142"}}],"id":"60e8c935-7542-479a-b10d-34be5a9ffca7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/institutionLogins/{{institutionLoginId}}/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","institutionLogins","{{institutionLoginId}}","accounts","simple"]},"description":"This API is a lighter version of Get Customer Accounts by Institution Login ID, returning only basic information of all active accounts owned by the given customer at the given institution login ID.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"da7330d4-570a-46fe-af60-ea2834515981","name":"The account list was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"2dd48555-7328-498e-8726-1f49966f0284","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"6df90658-6eb9-476f-a1ac-5c9b063b5a0f","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"},{"id":"edb1d392-977c-48d5-8d64-138bc1f48f8a","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/institutionLogins/:institutionLoginId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","institutionLogins",":institutionLoginId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Customer Account by ID (Simple)","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"89353f27-8514-4470-b299-d49de867c21f"}}],"id":"39d257ac-2d40-44a6-8a35-ceabdf4b77a5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{accountId}}/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{accountId}}","simple"]},"description":"This API is a lighter version of Get Customer Accounts by ID, returning only basic information of a customer account.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"242fb911-2a1b-4bdc-9528-5c8038aeb968","name":"The account was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"d040cee7-80fd-4b30-ba8e-e67a479b1067","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"28d5a735-f55e-44e9-a406-6bf04ba0e4a5","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"},{"id":"258bb00f-15b1-45d9-9f11-4c378118a4b0","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Customer Accounts (Simple)","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"9eba0b5b-6b60-46eb-b486-ce56c8d20f86"}}],"id":"e667da80-b058-40a6-b495-b5bf91de6730","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","simple"]},"description":"This API is a lighter version of Get Customer Accounts, returning only basic information of all active customer accounts.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"607738e8-7e8e-4d1f-8ae0-067f874d26fa","name":"The account list was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"8cc644db-0001-475d-a158-943cef14daf9","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"c53cdd4f-7f97-42eb-992f-87b4771cdd8f","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"},{"id":"6db9bbc0-ea70-40b2-be8f-3715f9ef88ca","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/simple","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts","simple"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"78e4a272-283d-4332-b27a-57422269cdb0","description":"Fetch simple customer accounts","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","","const institutionLoginId = pm.variables.get(\"institutionLoginId\")","const institutionId = pm.variables.get(\"institutionId\")","const accountId = pm.variables.get(\"accountId\")","if (institutionLoginId && institutionId && accountId) {","    return","}","","","console.log(\"Fetching account ID, institution ID and institution login ID ...\")","const options = {","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts\",","    method: 'GET',","    header: {","        \"Accept\": \"application/json\",","        \"Finicity-App-Key\": appKey,","        \"Finicity-App-Token\": appToken","    }","}","pm.sendRequest(options, function (err, response) {","    pm.expect(err).to.be.null","    pm.expect(response.code).to.equals(200)","    const account = response.json().accounts[0]","    pm.variables.set(\"institutionLoginId\", account.institutionLoginId)","    pm.variables.set(\"institutionId\", account.institutionId)","    pm.variables.set(\"accountId\", account.id)","})"],"id":"6f96a873-8487-448c-96c2-8202f33e48d7"}}]},{"name":"Account Validation Assistance","item":[{"name":"Initiate Micro Entries","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","    pm.collectionVariables.set(\"avaAccountId\", pm.response.json().accountId)\r","})"],"type":"text/javascript","id":"33849f02-cb9b-4ac1-8c95-7945d8476a0f"}},{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","// Create a test customer\r","console.log(\"Creating test customer for AVA ...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v2/customers/testing\", \r","    method: 'POST',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Content-type\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    },\r","    body: JSON.stringify({\r","        \"username\": \"customer\" + pm.variables.replaceIn(\"{{$timestamp}}\"),\r","        \"firstName\": \"John\",\r","        \"lastName\": \"Smith\"\r","    })\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(201)\r","    pm.collectionVariables.set(\"avaCustomerId\", response.json().id)\r","})"],"type":"text/javascript","id":"c3de45d4-b906-4488-aa29-919fa5083702"}}],"id":"143138c2-f6be-47b6-bd13-ec1111c8d6b1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n  \"receiver\": {\n    \"routingNumber\": \"011000138\",\n    \"accountNumber\": \"5111111111\",\n    \"accountType\": \"Checking\",\n    \"name\": \"API client test\"\n  }\n}","options":{"raw":{"headerFamily":"json","language":"json"}}},"url":{"raw":"{{baseUrl}}/microentry/v1/customers/{{avaCustomerId}}","host":["{{baseUrl}}"],"path":["microentry","v1","customers","{{avaCustomerId}}"]},"description":"Initiate the micro entries to customer's account.\n\nTwo random micro amounts less than a dollar each will be deposited to provided customer's account.\n\n  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[]},{"name":"Verify Micro Entries","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"834652db-5592-4823-857b-551802cace18"}},{"listen":"prerequest","script":{"exec":["const avaCustomerId = pm.collectionVariables.get(\"avaCustomerId\")\r","const avaAccountId = pm.collectionVariables.get(\"avaAccountId\")\r","const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","var checkStatus = function() {\r","    console.log(\"Checking status ...\")\r","    const options = {\r","        url:  baseUrl + \"/microentry/v1/customers/\" + avaCustomerId + \"/accounts/\" + avaAccountId, \r","        method: 'GET',\r","        header: {\r","            \"Accept\": \"application/json\",\r","            \"Finicity-App-Key\": appKey,\r","            \"Finicity-App-Token\": appToken\r","        }\r","    }\r","    pm.sendRequest(options, function (err, response) {\r","        pm.expect(err).to.be.null\r","        pm.expect(response.code).to.equals(200)\r","        status = response.json().status\r","        if (status === \"Pending\") {\r","            checkStatus()\r","        }\r","    })\r","}\r","\r","checkStatus();"],"type":"text/javascript","id":"6eabd249-2a7c-4400-b392-d616ad5dc541"}}],"id":"226929a0-3e1b-4f53-8318-6bf5f50fecd9","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n  \"amounts\": [\n    \"0.01\",\n    \"0.02\"\n  ]\n}","options":{"raw":{"headerFamily":"json","language":"json"}}},"url":{"raw":"{{baseUrl}}/microentry/v1/customers/{{avaCustomerId}}/accounts/{{avaAccountId}}/amounts","host":["{{baseUrl}}"],"path":["microentry","v1","customers","{{avaCustomerId}}","accounts","{{avaAccountId}}","amounts"]},"description":"Verify the micro entries as received by customer in customer's account.\nCustomer needs to verify the micro amounts received in customer's account. `customerId` and `accountId` are the identifiers of the customer and account  receiving the micro entries.\n\n  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[]},{"name":"Get Micro Entries Details","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})\r","\r","const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const appToken = pm.globals.get(\"appToken\")\r","const avaCustomerId = pm.collectionVariables.get(\"avaCustomerId\")\r","\r","// Deleting the test customer\r","console.log(\"Deleting test customer for AVA ...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v1/customers/\" + avaCustomerId, \r","    method: 'DELETE',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    }\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(204)\r","})"],"type":"text/javascript","id":"bd720b0c-166d-439a-be3b-0baf3cf5c386"}}],"id":"f4704d9e-1023-41c5-8ba6-3cb854a9f7e7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"url":{"raw":"{{baseUrl}}/microentry/v1/customers/{{avaCustomerId}}/accounts/{{avaAccountId}}","host":["{{baseUrl}}"],"path":["microentry","v1","customers","{{avaCustomerId}}","accounts","{{avaAccountId}}"]},"description":"Fetch the micro entries details.\n`customerId` and `accountId` are the identifiers of the customer and account receiving the micro entries.\n\n  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[]}],"id":"7370046a-7c89-4ab7-9a00-f86ce8324371","description":"Micro entries and account verification","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":[""],"id":"6eb92528-1b36-429d-b8da-872fc638e57d"}},{"listen":"test","script":{"type":"text/javascript","exec":[""],"id":"8b675fde-8482-418d-960e-2d52f0376268"}}]},{"name":"App Registration","item":[{"name":"Register App","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(201)\r","})"],"type":"text/javascript","id":"4252b3e4-5a4c-4378-a633-0bde04d5f50e"}}],"id":"348ad933-251b-4d33-a059-a8e7e4bad012","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"appDescription\": \"The app that makes your budgeting experience awesome\",\n    \"appName\": \"Awesome Budget App_{{$guid}}\",\n    \"appUrl\": \"https://www.finicity.com/\",\n    \"ownerAddressLine1\": \"434 W Ascension Way\",\n    \"ownerAddressLine2\": \"Suite #200\",\n    \"ownerCity\": \"Murray\",\n    \"ownerCountry\": \"USA\",\n    \"ownerName\": \"Finicity\",\n    \"ownerPostalCode\": \"84123\",\n    \"ownerState\": \"UT\",\n    \"image\": \"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcgICAKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB2ZXJzaW9uPSIxLjEiCiAgIHZpZXdCb3g9IjAgMCAwIDAiCiAgIGhlaWdodD0iMCIKICAgd2lkdGg9IjAiPgogICAgPGcvPgo8L3N2Zz4K\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/applications","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","applications"]},"description":"Register a new application to access financial institutions using OAuth connections.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"2c1e243c-b720-45ee-a8a8-2c68031e4fa9","name":"The app registration was successfully created","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/applications","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","applications"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"aa542583-b49d-44c0-8981-6ffc841af501","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/applications","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","applications"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"7a274f9a-6a40-49fb-9089-0d79c50b63b6","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/applications","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","applications"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Modify App Registration","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200 )\r","})"],"type":"text/javascript","id":"c3d35e8f-70da-4ea8-9da7-efa288acde98"}},{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","// Register a test app we will update later\r","console.log(\"Registering test app ...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v1/partners/applications\", \r","    method: 'POST',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Content-type\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    },\r","    body: JSON.stringify({\r","        \"appDescription\": \"The app that makes your budgeting experience awesome\",\r","        \"appName\": \"Awesome Budget App_\" + pm.variables.replaceIn(\"{{$guid}}\"),\r","        \"appUrl\": \"https://www.finicity.com/\",\r","        \"ownerAddressLine1\": \"434 W Ascension Way\",\r","        \"ownerAddressLine2\": \"Suite #200\",\r","        \"ownerCity\": \"Murray\",\r","        \"ownerCountry\": \"USA\",\r","        \"ownerName\": \"Finicity\",\r","        \"ownerPostalCode\": \"84123\",\r","        \"ownerState\": \"UT\",\r","        \"image\": \"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcgICAKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB2ZXJzaW9uPSIxLjEiCiAgIHZpZXdCb3g9IjAgMCAwIDAiCiAgIGhlaWdodD0iMCIKICAgd2lkdGg9IjAiPgogICAgPGcvPgo8L3N2Zz4K\"\r","    })\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(201)\r","    pm.variables.set(\"preAppId\", response.json().preAppId)\r","})"],"type":"text/javascript","id":"820afc6e-a3aa-4df9-b44f-8732ed33a3ae"}}],"id":"bc7bd585-99c7-477c-b507-75b4ae973f1f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"appDescription\": \"The app that makes your budgeting experience awesome\",\n    \"appName\": \"Awesome Budget App_{{$guid}}\",\n    \"appUrl\": \"https://www.finicity.com/\",\n    \"ownerAddressLine1\": \"434 W Ascension Way\",\n    \"ownerAddressLine2\": \"Suite #200\",\n    \"ownerCity\": \"Murray\",\n    \"ownerCountry\": \"USA\",\n    \"ownerName\": \"Finicity\",\n    \"ownerPostalCode\": \"84123\",\n    \"ownerState\": \"UT\",\n    \"image\": \"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcgICAKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB2ZXJzaW9uPSIxLjEiCiAgIHZpZXdCb3g9IjAgMCAwIDAiCiAgIGhlaWdodD0iMCIKICAgd2lkdGg9IjAiPgogICAgPGcvPgo8L3N2Zz4K\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/applications/{{preAppId}}","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","applications","{{preAppId}}"]},"description":"Update a registered application.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"25c30971-f1c8-4fb6-915b-21d9e9e65225","name":"The app registration was updated","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/applications/:preAppId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","applications",":preAppId"],"variable":[{"key":"preAppId","value":"2581","description":"(Required) The application registration tracking ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"4ffda2bc-83a7-4cf0-b8c7-2da10d88ea57","name":"The request was rejected","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/applications/:preAppId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","applications",":preAppId"],"variable":[{"key":"preAppId","value":"2581","description":"(Required) The application registration tracking ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"97911954-cdc3-49ff-9e44-e38f683aef82","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/applications/:preAppId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","applications",":preAppId"],"variable":[{"key":"preAppId","value":"2581","description":"(Required) The application registration tracking ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"4bf95efb-ec5a-47a2-9511-08097f6ec748","name":"The resource doesn't exist","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/applications/:preAppId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","applications",":preAppId"],"variable":[{"key":"preAppId","value":"2581","description":"(Required) The application registration tracking ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get App Registration Status","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"242bc41a-a849-48fa-a9a2-f2aa08e3cd0b"}}],"id":"113b50da-4299-4502-8332-bf00466bba7f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/applications","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","applications"],"query":[{"key":"preAppId","value":"2581","description":"The application registration tracking ID","disabled":true},{"key":"applicationId","value":"123456789","description":"The application ID","disabled":true},{"key":"status","value":"P","description":"Look up app registration requests by status","disabled":true},{"key":"appName","value":"Awesome Budget App","description":"Look up app registration requests by app name","disabled":true},{"key":"submittedDate","value":"1607450357","description":"Look up app registration requests by the date they were submitted","disabled":true},{"key":"modifiedDate","value":"1607450357","description":"Look up app registration requests by the date the request was updated. This can be used to determine when a request was updated to \"A\" or \"R\".","disabled":true},{"key":"page","value":"1","description":"Index of the page of results to return","disabled":true},{"key":"pageSize","value":"20","description":"Maximum number of results per page","disabled":true}]},"description":"Get the status of your application registration(s).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"773858ec-49dc-424a-9785-0a0153df2a23","name":"The app registration statuses were returned","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/applications?preAppId=2581&applicationId=123456789&status=P&appName=Awesome Budget App&submittedDate=1607450357&modifiedDate=1607450357&page=1&pageSize=20","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","applications"],"query":[{"key":"preAppId","value":"2581"},{"key":"applicationId","value":"123456789"},{"key":"status","value":"P"},{"key":"appName","value":"Awesome Budget App"},{"key":"submittedDate","value":"1607450357"},{"key":"modifiedDate","value":"1607450357"},{"key":"page","value":"1"},{"key":"pageSize","value":"20"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"e6ca1db4-4bad-46a0-a047-30413046ed16","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/applications?preAppId=2581&applicationId=123456789&status=P&appName=Awesome Budget App&submittedDate=1607450357&modifiedDate=1607450357&page=1&pageSize=20","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","applications"],"query":[{"key":"preAppId","value":"2581"},{"key":"applicationId","value":"123456789"},{"key":"status","value":"P"},{"key":"appName","value":"Awesome Budget App"},{"key":"submittedDate","value":"1607450357"},{"key":"modifiedDate","value":"1607450357"},{"key":"page","value":"1"},{"key":"pageSize","value":"20"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"62c4ac44-6121-4a08-90c4-4514d2cba1d7","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/applications?preAppId=2581&applicationId=123456789&status=P&appName=Awesome Budget App&submittedDate=1607450357&modifiedDate=1607450357&page=1&pageSize=20","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","applications"],"query":[{"key":"preAppId","value":"2581"},{"key":"applicationId","value":"123456789"},{"key":"status","value":"P"},{"key":"appName","value":"Awesome Budget App"},{"key":"submittedDate","value":"1607450357"},{"key":"modifiedDate","value":"1607450357"},{"key":"page","value":"1"},{"key":"pageSize","value":"20"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"1811a54e-11de-4b9e-8a53-c226f255337c","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/applications?preAppId=2581&applicationId=123456789&status=P&appName=Awesome Budget App&submittedDate=1607450357&modifiedDate=1607450357&page=1&pageSize=20","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","applications"],"query":[{"key":"preAppId","value":"2581"},{"key":"applicationId","value":"123456789"},{"key":"status","value":"P"},{"key":"appName","value":"Awesome Budget App"},{"key":"submittedDate","value":"1607450357"},{"key":"modifiedDate","value":"1607450357"},{"key":"page","value":"1"},{"key":"pageSize","value":"20"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Set Customer App ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    // \"invalid application id\"\r","    pm.expect(pm.response.code).to.equals(400)\r","})"],"type":"text/javascript","id":"5b71804b-31fc-486e-94ce-cf18596da6b8"}}],"id":"e61dbdc5-59e0-463b-a387-195232ebb8b1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/applications/:applicationId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","applications",":applicationId"],"variable":[{"id":"ee8c50d2-95b0-457a-b95f-71a8d59fa17b","key":"applicationId","value":"1234"}]},"description":"If you have multiple applications for a single client, and you want to register their applications to access financial institutions using OAuth connections, then use this API to assign applications to an existing customer.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"01d786e6-1a09-47fd-bb1a-57eb44ad8918","name":"The app was successfully assigned","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/applications/:applicationId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","applications",":applicationId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"applicationId","value":"123456789","description":"(Required) The application ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"1a09de8d-a473-4dc7-b15e-43ba1a0c8e9c","name":"The request was rejected","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/applications/:applicationId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","applications",":applicationId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"applicationId","value":"123456789","description":"(Required) The application ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"26714355-9d35-418f-9f5e-12ec99b1452f","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/applications/:applicationId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","applications",":applicationId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"applicationId","value":"123456789","description":"(Required) The application ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"7d3880db-aed7-4a86-9550-9a783c4a39e0","name":"The resource doesn't exist","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/applications/:applicationId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","applications",":applicationId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"applicationId","value":"123456789","description":"(Required) The application ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Migrate Institution Login Accounts","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    // \"Customer does not have any accounts associated with institutionLoginId = (1234)\"\r","    pm.expect(pm.response.code).to.equals(404)\r","})"],"type":"text/javascript","id":"d7c8ae88-1fa8-4117-869a-a551640e3b33"}}],"id":"ffb2e734-8ceb-432e-9d90-8ff0b49b0eaf","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/{{customerId}}/institutionLogins/1234/migration","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","{{customerId}}","institutionLogins","1234","migration"]},"description":"The `institutionLoginId` parameter uses Finicity's internal FI mapping to move accounts from the current FI legacy connection to the new OAuth FI connection.\n\nThis API returns a list of accounts for the given institution login ID.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"8add34ef-fce7-46b8-bbef-3062243c358c","name":"The migration succeeded","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/institutionLogins/:institutionLoginId/migration","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","institutionLogins",":institutionLoginId","migration"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"9ab6c1cb-5492-4cb3-83be-659165cbb7e4","name":"The request was rejected","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/institutionLogins/:institutionLoginId/migration","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","institutionLogins",":institutionLoginId","migration"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"395763d4-3e16-4f02-93bc-551a62c4150e","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/institutionLogins/:institutionLoginId/migration","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","institutionLogins",":institutionLoginId","migration"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"84b94e57-7a6b-4b00-a122-c65d0c40e559","name":"The resource doesn't exist","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/institutionLogins/:institutionLoginId/migration","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","institutionLogins",":institutionLoginId","migration"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"institutionLoginId","value":"1007302745","description":"(Required) The institution login ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"159a2022-29de-4603-a983-c0f80a675f09","description":"Register and assign apps to customers"},{"name":"Assets","item":[{"name":"Get Asset by Customer and ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"b3035045-465e-4d75-be7b-273a47584d18"}},{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const customerId = pm.environment.get(\"customerId\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","const assetId = pm.variables.get(\"assetId\")\r","if (assetId) {\r","    return\r","}\r","\r","console.log(\"Creating asset ID ...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/payStatements\",\r","    method: 'POST',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Content-Type\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    },\r","    body: JSON.stringify({\r","        \"label\": \"lastPayPeriod\",\r","        \"statement\": \"VGhpcyBtdXN0IGJlIGFuIGltYWdl\"\r","    })\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(200)\r","    pm.variables.set(\"assetId\", response.json().assetId)\r","})"],"type":"text/javascript","id":"38bbe13c-2460-4c89-9412-87423567576a"}}],"id":"9e401816-7c20-4b23-9e4d-36b06172450e","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"*/*","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/assets/{{assetId}}","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","assets","{{assetId}}"]},"description":"Retrieve a binary file for the given asset ID.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"28c78239-1292-4d33-af20-1b8dcde30884","name":"The asset was successfully downloaded","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/assets/:assetId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","assets",":assetId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"assetId","value":"097545c5-1c2a-4f20-a5ef-77f0820344c9-2018601178","description":"(Required) The asset ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"application/octet-stream"}],"cookie":[],"responseTime":null,"body":""},{"id":"97597cd1-ad53-4229-b8d7-ac6a4b588b2b","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/assets/:assetId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","assets",":assetId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"assetId","value":"097545c5-1c2a-4f20-a5ef-77f0820344c9-2018601178","description":"(Required) The asset ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"05d92c4d-8eae-48d6-9f13-b88d36de067a","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/assets/:assetId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","assets",":assetId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"assetId","value":"097545c5-1c2a-4f20-a5ef-77f0820344c9-2018601178","description":"(Required) The asset ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"13f6a9f1-ae7a-4d65-9a62-50022a5e5221","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/assets/:assetId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","assets",":assetId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"assetId","value":"097545c5-1c2a-4f20-a5ef-77f0820344c9-2018601178","description":"(Required) The asset ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"3fb90099-0eea-4bf5-89ff-79244b2131b3","description":"Download asset files"},{"name":"Authentication","item":[{"name":"Create Access Token","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"40c472e7-a3d3-4b25-8210-934dd43219ce"}}],"id":"3a36a648-7ad7-4a4f-aac3-a6ee3fcd1cd5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"partnerSecret\": \"{{partnerSecret}}\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/authentication","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","authentication"]},"description":"Send Partner ID and Partner Secret to the Partner Authentication service to obtain a token for accessing Finicity APIs.\n* The token is valid for two hours and is required on all calls to the Finicity APIs\n* As a best practice, use a single token for all calls. Assign a timestamp for each token, and then check the current timestamp before making any calls. If the token is greater than 90 minutes, generate a new one.\n* âš ï¸ After five failed attempts to authenticate, your account will be locked. Contact [support@finicity.com](mailto:support@finicity.com) to get help resetting your account.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"de9c3c28-ff4d-45d1-840f-0c2327c428c8","name":"The access token was successfully created","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/authentication","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","authentication"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"2c9f4db6-28dc-4a28-85c2-c71165679831","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/authentication","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","authentication"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"3d0480ea-d5f5-4409-8015-00f2d920b902","name":"The request lacks valid authentication credentials. Check Partner ID, Partner Secret or Finicity-App-Key.","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/authentication","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","authentication"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10026,\n \"message\": \"Missing parameter (Finicity-App-Key)\"\n}"}]},{"name":"Modify Partner Secret","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(204)\r","})\r","\r","console.log(\"Request successful. Reverting partner secret ...\")\r","const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const partnerId = pm.environment.get(\"partnerId\")\r","const partnerSecret = pm.environment.get(\"partnerSecret\")\r","const appKey = pm.environment.get(\"appKey\")\r","const appToken = pm.collectionVariables.get(\"appToken\")\r","\r","const options = {\r","    url:  baseUrl + \"/aggregation/v2/partners/authentication\", \r","    method: 'PUT',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Content-type\": \"application/json\",\r","        \"Finicity-App-Key\": appKey\r","    },\r","    body: JSON.stringify({\r","            \"partnerId\": partnerId,\r","            \"partnerSecret\": partnerSecret + \"_updated\",\r","            \"newPartnerSecret\": partnerSecret\r","        })\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.test(\"Clean-up\", function () {\r","        pm.expect(err).to.be.null\r","        pm.expect(response.code).to.equal(204)\r","    })\r","})"],"type":"text/javascript","id":"bcbd3714-64e5-4b7d-98ff-331a37e28c55"}}],"id":"6acf50ec-9e9a-4c8b-becd-e3cb13877506","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"partnerSecret\": \"{{partnerSecret}}\",\n    \"newPartnerSecret\": \"{{partnerSecret}}_updated\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/authentication","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","authentication"]},"description":"Change the Partner Secret used to authenticate this partner.\n\nThe secret does not expire, but can be changed by calling this API. A valid Partner Secret may contain upper and lowercase characters, numbers, and the characters !, @, #, $, %, &, *, _, -, +. It must include at least one number and at least one letter, and its length should be between 12 and 255 characters.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"835e7fd8-9679-4313-ba98-d2ad742da8b8","name":"The Partner Secret was successfully updated","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/authentication","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","authentication"]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"ada89ceb-8af2-4f6e-a29a-be1eb3f77d6b","name":"The request was rejected","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/authentication","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","authentication"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 24437,\n \"message\": \"New password is not as per policy\"\n}"},{"id":"c652dc10-ce8a-489d-8fd8-0535692314f7","name":"The request lacks valid authentication credentials. Check Partner ID, Partner Secret or Finicity-App-Key.","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/partners/authentication","host":["{{baseUrl}}"],"path":["aggregation","v2","partners","authentication"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10026,\n \"message\": \"Missing parameter (Finicity-App-Key)\"\n}"}]}],"id":"39f5e658-eaa7-4338-914e-4033f438bc5c","description":"Generate authentication tokens and manage credentials"},{"name":"Balance Analytics","item":[{"name":"Generate Balance Analytics","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","\r","    /* Store the report ID */\r","    const reportId = pm.response.json().reportId\r","    pm.globals.set(\"obbReportId\", reportId)\r","})"],"type":"text/javascript","id":"842298dc-8d53-4a7b-a550-282e6bd77bfb"}}],"id":"3dc7d07a-5b29-41f1-8141-baad90e90e75","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/{{customerId}}?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer","{{customerId}}"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}]},"description":"Balance Analytics for Business analyzes bank balances over time to report metrics and identify behavior that may indicate risk.\n\nCalculated metrics include:\n* Current/available account balances\n* Minimum/maximum/average account balances over the requested time\n  period and broken down by month\n\n* Daily ending balance of accounts for each day in the requested time\n  period\n\n* Propensity of the customer's account balances to increase week over\n  week\n\n* Number of days in the requested time period ending with a negative\n  balance\n\n\nThis version of the API is intended for piloting and integration testing your application with the Balance Analytics product. It does not adhere to FCRA requirements, and should not be used for production/lending purposes. See _Generate Balance Analytics - FCRA_ for the FCRA compliant version of this API.\n\nA successful call to this API will generate analytics and store a report within Finicity. The report can be retrieved via _Get Balance Analytics Report_ (operation: _GetObbAnalyticsReport_).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"1f183856-2324-419c-a89b-7c572715839f","name":"Response given when balance analytics were generated successfully, providing the caller with a report ID which can be used to retrieve the report as JSON or a PDF.","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountIds\": [\n    10001,\n    10002,\n    10003\n  ],\n  \"businessId\": 123,\n  \"createdDate\": \"2022-02-10T05:00:00-07:00\",\n  \"customerId\": 10001,\n  \"reportId\": \"145cabe0-2b38-4175-9b7e-115431359839\",\n  \"reportPin\": \"qert\",\n  \"requesterName\": \"Mortage ABC LLC\",\n  \"title\": \"Finicity Balance Analytics\"\n}"},{"id":"abfe5704-e82c-435d-b413-08ff9c628178","name":"A bad request was provided","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 400,\n  \"message\": \"Missing required parameter 'customerId'\"\n}"},{"id":"9caed7e7-fa91-4513-9ff6-d00560cb1b32","name":"Unauthorized request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"b27d5018-123f-4f04-909f-8a431b23c6ce","name":"Access forbidden","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"2b5950eb-9590-4af6-86d4-c59285cf94ab","name":"Resource not found","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 404,\n  \"message\": \"Customer not found\"\n}"},{"id":"1e0c2912-e205-41f9-a529-d88f2ed4d721","name":"Resource conflict","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Conflict","code":409,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 409,\n  \"message\": \"Customer is not registered as a business\"\n}"}]},{"name":"Generate Balance Analytics - FCRA","event":[{"listen":"test","script":{"exec":["if (pm.response.code === 200) {\r","    /* Store the report ID */\r","    const reportId = pm.response.json().reportId\r","    pm.globals.set(\"obbFcraReportId\", reportId)\r","}"],"type":"text/javascript","id":"b85193ce-ca8d-4ec0-8e56-f8929cb8fe9f"}}],"id":"7b4336b7-f3b9-4b56-9d99-81a11e921492","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/{{customerId}}/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer","{{customerId}}","fcra"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}]},"description":"Balance Analytics for Business analyzes bank balances over time to report metrics and identify behavior that may indicate risk.\n\nCalculated metrics include:\n* Current/available account balances\n* Minimum/maximum/average account balances over the requested time\n  period and broken down by month\n\n* Daily ending balance of accounts for each day in the requested time\n  period\n\n* Propensity of the customer's account balances to increase week over\n  week\n\n* Number of days in the requested time period ending with a negative\n  balance\n\n\nThis version of the API is intended for production use. It maintains and enforces all compliance with FCRA rules and requirements.\n\n*Note:* this is a premium service, billable per every successful API call for non-testing customers.\n\nA successful call to this API will generate analytics and store a report within Finicity. The report can be retrieved via _Get Balance Analytics Report - FCRA_ (operation: _GetObbAnalyticsReportFCRA_).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"da9f05fa-f5f3-46b2-8fbe-4410425aca7a","name":"Response given when balance analytics (FCRA) were generated successfully, providing the caller with a report ID which can be used to retrieve the report as JSON or a PDF.","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountIds\": [\n    10001,\n    10002,\n    10003\n  ],\n  \"businessId\": 123,\n  \"createdDate\": \"2022-02-10T05:00:00-07:00\",\n  \"customerId\": 10001,\n  \"reportId\": \"145cabe0-2b38-4175-9b7e-115431359839\",\n  \"reportPin\": \"qert\",\n  \"requesterName\": \"Mortage ABC LLC\",\n  \"title\": \"Finicity Balance Analytics\"\n}"},{"id":"94dfef3d-168c-49a3-8a63-da4706029148","name":"A bad request was provided","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 400,\n  \"message\": \"Missing required parameter 'customerId'\"\n}"},{"id":"2ec75f15-ad8f-4e9e-bf7d-b23da4738fbf","name":"Unauthorized request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"e19f6b19-3608-4045-9b9e-22d54285edbf","name":"Access forbidden","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"cca78587-5b79-4d86-9a92-e115f66e4ac5","name":"Resource not found","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 404,\n  \"message\": \"Customer not found\"\n}"},{"id":"a0a7cc98-d901-436c-afbc-1b2502a2f9dd","name":"Resource conflict","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/balance/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","balance","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Conflict","code":409,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 409,\n  \"message\": \"Customer is not registered as a business\"\n}"}]},{"name":"Get OBB Analytics Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"550f37fe-d07f-4813-b6aa-c172dde9ae31"}}],"id":"80e0d47b-4542-48c8-aad1-5b55603a53f5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/{{obbReportId}}","host":["{{baseUrl}}"],"path":["analytics","data","v1","{{obbReportId}}"]},"description":"Retrieve the report saved by _Generate Balance Analytics_, _Generate Cash Flow Analytics_, or _Generate Payment History_. Requires the report ID generated by the previous call.\n\nReport data can either be retrieved as a JSON document or PDF file.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"564234eb-9267-48c8-a75e-3445df5145b2","name":"OBB Analytics report data as JSON or PDF","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountResults\": [\n    {\n      \"accountDetails\": {\n        \"accountNumberDisplay\": \"8888\",\n        \"accountOwner\": {\n          \"address\": \"123 Main St, Portland, OR 12345\",\n          \"name\": \"Johnny Appleseed\"\n        },\n        \"aggregationAttemptDate\": \"2022-03-30T14:47:19-07:00\",\n        \"aggregationStatusCode\": 0,\n        \"aggregationSuccessDate\": \"2022-03-30T14:47:19-07:00\",\n        \"currency\": \"USD\",\n        \"currentBalance\": 2239.22,\n        \"id\": \"1234902309er\",\n        \"institution\": {\n          \"institutionIconUrl\": \"https://prod-carpintero-branding.s3.us-west-2.amazonaws.com/101732/icon.svg\",\n          \"institutionId\": 12345,\n          \"institutionName\": \"Wells Fargo\",\n          \"institutionPrimaryColor\": \"#1B3E4A\"\n        },\n        \"institutionLoginId\": 1007302745,\n        \"name\": \"Super Checking\",\n        \"realAccountNumberLast4\": 5678,\n        \"status\": \"active\",\n        \"type\": \"checking\"\n      },\n      \"accountId\": 5001127492,\n      \"balanceAnalyticsMetrics\": {\n        \"availableBalance\": {\n          \"description\": \"Available Balance\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"availableBalanceDate\": {\n          \"description\": \"Available Balance date\",\n          \"example\": \"2022-02-18T02:34:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"averageDailyBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Daily Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"averageWeekdayBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Weekday Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n          {\n            \"count\": 5,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"currentRunningBalance\": {\n          \"description\": \"Current Running Balance Date\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"currentRunningBalanceDate\": {\n          \"description\": \"Current Running Balance date\",\n          \"example\": \"2022-02-10T05:00:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"dailyBalancesForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n          \"historicAverageWeeklyBalances\": [\n            {\n              \"amount\": 679.07,\n              \"fromDate\": \"2020-01-01\",\n              \"toDate\": \"2020-01-07\",\n              \"week\": 1\n            }\n          ],\n          \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n          \"historicNumberOfWeeksWithDataAvailable\": 4\n        },\n        \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n        \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n      },\n      \"currentReportRequest\": {\n        \"reportBeginDate\": \"2022-03-01\",\n        \"reportEndDate\": \"2022-03-30\",\n        \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n        \"requestedDaysForReport\": 90,\n        \"requestedReportBeginDate\": \"2022-01-01\"\n      },\n      \"historicDataAvailability\": {\n        \"historicAvailabilityBeginDate\": \"2022-03-01\",\n        \"historicAvailabilityEndDate\": \"2022-03-30\",\n        \"historicAvailableDays\": 30,\n        \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n      }\n    }\n  ],\n  \"businessId\": 4444,\n  \"businessSummary\": {\n    \"balanceAnalyticsMetrics\": {\n      \"availableBalance\": {\n        \"description\": \"Available Balance\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"availableBalanceDate\": {\n        \"description\": \"Available Balance date\",\n        \"example\": \"2022-02-18T02:34:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"averageDailyBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Daily Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"averageWeekdayBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Weekday Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n        {\n          \"count\": 5,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"currentRunningBalance\": {\n        \"description\": \"Current Running Balance Date\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"currentRunningBalanceDate\": {\n        \"description\": \"Current Running Balance date\",\n        \"example\": \"2022-02-10T05:00:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"dailyBalancesForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n        \"historicAverageWeeklyBalances\": [\n          {\n            \"amount\": 679.07,\n            \"fromDate\": \"2020-01-01\",\n            \"toDate\": \"2020-01-07\",\n            \"week\": 1\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n        \"historicNumberOfWeeksWithDataAvailable\": 4\n      },\n      \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n      \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n    },\n    \"currentReportRequest\": {\n      \"reportBeginDate\": \"2022-03-01\",\n      \"reportEndDate\": \"2022-03-30\",\n      \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n      \"requestedDaysForReport\": 90,\n      \"requestedReportBeginDate\": \"2022-01-01\"\n    },\n    \"historicDataAvailability\": {\n      \"historicAvailabilityBeginDate\": \"2022-03-01\",\n      \"historicAvailabilityEndDate\": \"2022-03-30\",\n      \"historicAvailableDays\": 30,\n      \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n    }\n  },\n  \"customerId\": 10001,\n  \"reportHeader\": {\n    \"businessAddress\": \"123 Main St\",\n    \"businessCity\": \"Portland\",\n    \"businessName\": \"B&G Construction\",\n    \"businessState\": \"OR\",\n    \"businessZip\": \"12345\",\n    \"referenceNumber\": \"32asdfaasd0823\",\n    \"reportDate\": \"2022-03-16T21:28:38-07:00\",\n    \"reportId\": \"8ff8b4b2-706f-45c3-8d66-857bdb516214\"\n  },\n  \"requesterName\": \"Mortgage ABC LLC\",\n  \"title\": \"Fincity Balance Analytics\"\n}"},{"id":"d59baee5-96e0-4e4e-a403-7b0597e2daa3","name":"Unauthorized request","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"3425b621-7210-4159-a215-3b6ee4e07f1b","name":"Access forbidden","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"868b2a20-db9b-4283-a294-2eb778f1e4af","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get OBB Analytics Report - FCRA","id":"479a0c1a-7725-4720-9814-7b94c669b9a5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/{{obbFcraReportId}}/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1","{{obbFcraReportId}}","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}]},"description":"Retrieve the report saved by _Generate Balance Analytics - FCRA_, _Generate Cash Flow Analytics - FCRA_, or _Generate Payment History - FCRA_. Requires the report ID generated by the previous call.\n\nReport data can either be retrieved as a JSON document or PDF file.\n\n_Note:_ this is a premium service, billable per every successful API call for non-testing customers.\n\n_Supported regions_:\n\n<img src=\"https://flagcdn.com/20x15/us.png\" alt=\"ðŸ‡ºðŸ‡¸\">"},"response":[{"id":"fdbf1c9b-ea1f-4db7-bfe0-5193aec8742a","name":"OBB Analytics FCRA report data as JSON or PDF","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountResults\": [\n    {\n      \"accountDetails\": {\n        \"accountNumberDisplay\": \"8888\",\n        \"accountOwner\": {\n          \"address\": \"123 Main St, Portland, OR 12345\",\n          \"name\": \"Johnny Appleseed\"\n        },\n        \"aggregationAttemptDate\": \"2022-03-30T14:47:19-07:00\",\n        \"aggregationStatusCode\": 0,\n        \"aggregationSuccessDate\": \"2022-03-30T14:47:19-07:00\",\n        \"currency\": \"USD\",\n        \"currentBalance\": 2239.22,\n        \"id\": \"1234902309er\",\n        \"institution\": {\n          \"institutionIconUrl\": \"https://prod-carpintero-branding.s3.us-west-2.amazonaws.com/101732/icon.svg\",\n          \"institutionId\": 12345,\n          \"institutionName\": \"Wells Fargo\",\n          \"institutionPrimaryColor\": \"#1B3E4A\"\n        },\n        \"institutionLoginId\": 1007302745,\n        \"name\": \"Super Checking\",\n        \"realAccountNumberLast4\": 5678,\n        \"status\": \"active\",\n        \"type\": \"checking\"\n      },\n      \"accountId\": 5001127492,\n      \"balanceAnalyticsMetrics\": {\n        \"availableBalance\": {\n          \"description\": \"Available Balance\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"availableBalanceDate\": {\n          \"description\": \"Available Balance date\",\n          \"example\": \"2022-02-18T02:34:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"averageDailyBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Daily Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"averageWeekdayBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Weekday Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n          {\n            \"count\": 5,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"currentRunningBalance\": {\n          \"description\": \"Current Running Balance Date\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"currentRunningBalanceDate\": {\n          \"description\": \"Current Running Balance date\",\n          \"example\": \"2022-02-10T05:00:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"dailyBalancesForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n          \"historicAverageWeeklyBalances\": [\n            {\n              \"amount\": 679.07,\n              \"fromDate\": \"2020-01-01\",\n              \"toDate\": \"2020-01-07\",\n              \"week\": 1\n            }\n          ],\n          \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n          \"historicNumberOfWeeksWithDataAvailable\": 4\n        },\n        \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n        \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n      },\n      \"currentReportRequest\": {\n        \"reportBeginDate\": \"2022-03-01\",\n        \"reportEndDate\": \"2022-03-30\",\n        \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n        \"requestedDaysForReport\": 90,\n        \"requestedReportBeginDate\": \"2022-01-01\"\n      },\n      \"historicDataAvailability\": {\n        \"historicAvailabilityBeginDate\": \"2022-03-01\",\n        \"historicAvailabilityEndDate\": \"2022-03-30\",\n        \"historicAvailableDays\": 30,\n        \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n      }\n    }\n  ],\n  \"businessId\": 4444,\n  \"businessSummary\": {\n    \"balanceAnalyticsMetrics\": {\n      \"availableBalance\": {\n        \"description\": \"Available Balance\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"availableBalanceDate\": {\n        \"description\": \"Available Balance date\",\n        \"example\": \"2022-02-18T02:34:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"averageDailyBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Daily Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"averageWeekdayBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Weekday Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n        {\n          \"count\": 5,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"currentRunningBalance\": {\n        \"description\": \"Current Running Balance Date\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"currentRunningBalanceDate\": {\n        \"description\": \"Current Running Balance date\",\n        \"example\": \"2022-02-10T05:00:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"dailyBalancesForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n        \"historicAverageWeeklyBalances\": [\n          {\n            \"amount\": 679.07,\n            \"fromDate\": \"2020-01-01\",\n            \"toDate\": \"2020-01-07\",\n            \"week\": 1\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n        \"historicNumberOfWeeksWithDataAvailable\": 4\n      },\n      \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n      \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n    },\n    \"currentReportRequest\": {\n      \"reportBeginDate\": \"2022-03-01\",\n      \"reportEndDate\": \"2022-03-30\",\n      \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n      \"requestedDaysForReport\": 90,\n      \"requestedReportBeginDate\": \"2022-01-01\"\n    },\n    \"historicDataAvailability\": {\n      \"historicAvailabilityBeginDate\": \"2022-03-01\",\n      \"historicAvailabilityEndDate\": \"2022-03-30\",\n      \"historicAvailableDays\": 30,\n      \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n    }\n  },\n  \"customerId\": 10001,\n  \"reportHeader\": {\n    \"businessAddress\": \"123 Main St\",\n    \"businessCity\": \"Portland\",\n    \"businessName\": \"B&G Construction\",\n    \"businessState\": \"OR\",\n    \"businessZip\": \"12345\",\n    \"referenceNumber\": \"32asdfaasd0823\",\n    \"reportDate\": \"2022-03-16T21:28:38-07:00\",\n    \"reportId\": \"8ff8b4b2-706f-45c3-8d66-857bdb516214\"\n  },\n  \"requesterName\": \"Mortgage ABC LLC\",\n  \"title\": \"Fincity Balance Analytics\"\n}"},{"id":"a284f822-b697-4729-b48e-113b37244789","name":"Unauthorized request","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"a7584ab0-dc54-4b69-b1df-ea1152a5a416","name":"Access forbidden","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"7aa58525-6de9-40ba-adf9-349de80ba5af","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"82d887c9-6bbd-4485-a266-bf53e1f0f131","description":"Balance Analytics for businesses"},{"name":"Bank Statements","item":[{"name":"Get Customer Account Statement","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equal(200)\r","})"],"type":"text/javascript","id":"ba48bb92-bf38-4224-b055-b815fa0936e1"}}],"id":"94e902e8-98a8-4239-8c12-278238a61dd9","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{accountId}}/statement?index=1","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{accountId}}","statement"],"query":[{"key":"index","value":"1","description":"Request statements from 1-24. By default, 1 is the most recent statement. Increase the index value to count back (by month) and retrieve its most recent statement."},{"key":"type","value":"taxStatement","description":"The type of statement to retrieve","disabled":true}]},"description":"Retrieve the customer's bank statements in PDF format. Up to 24 months of history is available depending on the financial institution. Since this is a premium service, charges incur per each successful statement retrieved. \n\nFor certified financial institutions, statements are available for the following account types: \n* Checking\n* Savings\n* Money market\n* CDs\n* Investments\n* Mortgage\n* Credit cards\n* Loans\n* Line of credit\n* Student Loans\n\nNote: setting the timeout to 180 seconds is recommended to allow enough time for a response.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"f0a6f63d-1ff9-445b-abbd-5b0c1e9c1791","name":"The statement was successfully downloaded as a PDF file","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/statement?index=1","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","statement"],"query":[{"key":"index","value":"1"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"application/octet-stream"}],"cookie":[],"responseTime":null,"body":""},{"id":"70849069-8aff-4481-90fc-0a4a390991b4","name":"The response contains an MFA challenge in XML or JSON format. Contact your Account Manager or Systems Engineers to determine the best route to handle this error.","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/statement?index=1","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","statement"],"query":[{"key":"index","value":"1"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Non-Authoritative Information (since HTTP/1.1)","code":203,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"d929cfe2-2acd-4520-9296-a692dc45f3ab","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/statement?index=1","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","statement"],"query":[{"key":"index","value":"1"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"8985db50-22da-463d-8b64-ee42276a63e1","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/statement?index=1","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","statement"],"query":[{"key":"index","value":"1"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"a7b27df1-b12b-4c0a-a73a-7db2857ae236","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/statement?index=1","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","statement"],"query":[{"key":"index","value":"1"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate Statement Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"20a48be7-864f-4c57-8e4c-e7b6cea6b159"}},{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const customerId = pm.environment.get(\"customerId\")\r","const appKey = pm.environment.get(\"appKey\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","// A consumer is needed for this API\r","createConsumer()\r","\t\r","function createConsumer() {\r","    const consumerExists = pm.globals.get(\"consumerExists\")\r","    if (consumerExists) {\r","        // A consumer was already created\r","        return\r","    }\r","\r","    console.log(\"Creating consumer ... \")\r","    const options = {\r","        url:  baseUrl + \"/decisioning/v1/customers/\" + customerId + \"/consumer\", \r","        method: 'POST',\r","        header: {\r","            \"Accept\": \"application/json\",\r","            \"Content-type\": \"application/json\",\r","            \"Finicity-App-Key\": appKey,\r","            \"Finicity-App-Token\": appToken\r","        },\r","        body: JSON.stringify({\r","            \"firstName\": \"Homer\",\r","            \"lastName\": \"Loanseeke\",\r","            \"address\": \"434 W Ascension Way\",\r","            \"city\": \"Murray\",\r","            \"state\": \"UT\",\r","            \"zip\": \"84123\",\r","            \"phone\": \"1-800-986-3343\",\r","            \"ssn\": \"999601111\",\r","            \"birthday\": {\r","                \"year\": 1970,\r","                \"month\": 7,\r","                \"dayOfMonth\": 4\r","            },\r","            \"email\": \"finicity@test.com\",\r","            \"suffix\": \"Mr\"\r","        })\r","    }\r","    pm.sendRequest(options, function (err, response) {\r","        pm.expect(err).to.be.null\r","        pm.expect(response.code).to.be.oneOf([200, 201, 409])\r","        pm.globals.set(\"consumerExists\", true)\r","    })\r","}"],"type":"text/javascript","id":"40e40d1a-eeda-4b68-ade3-610396f1374f"}}],"id":"2d9811c2-00ee-48bb-9e7c-a257e090d911","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"statementReportData\": {\n        \"accountId\": {{accountId}},\n        \"statementIndex\": 1\n    },\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/statement","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","statement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate a Statement Report report for the given accounts under the given customer.\n\nThis is a premium service. A billable event will be created upon the successful generation of the Statement Report. \n\nBefore calling this API, a consumer must be created for the given customer ID (see Consumers APIs).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"c752c362-6699-41fc-a34e-8621b684d59e","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/statement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","statement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"10aed0ae-1b95-4019-92bb-d1addc3a462f","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/statement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","statement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"9609cfb2-cdeb-4cde-aa1c-fc8714824f4c","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/statement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","statement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"744b639e-347a-4cda-aa13-eba5772fd413","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/statement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","statement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"de478968-63c9-4120-8663-ff1e4af7351c","description":"Fetch account statements and generate reports asynchronously","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","","const accountId = pm.variables.get(\"accountId\")","if (accountId) {","    return","}","","console.log(\"Fetching account ID ...\")","const options = {","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts\",","    method: 'GET',","    header: {","        \"Accept\": \"application/json\",","        \"Finicity-App-Key\": appKey,","        \"Finicity-App-Token\": appToken","    }","}","pm.sendRequest(options, function (err, response) {","    pm.expect(err).to.be.null","    pm.expect(response.code).to.equals(200)","    pm.variables.set(\"accountId\", response.json().accounts[0].id)","})"],"id":"d301b956-c492-49b9-872e-1ac167cd1720"}}]},{"name":"Businesses API","item":[{"name":"Create a New Business for a Customer","event":[{"listen":"test","script":{"id":"1cbed0f1-bba9-4223-84bf-05eac1670b24","exec":["pm.test(\"Check status code\", function () {","    pm.expect(pm.response.code).to.equal(200)","    const businessId = pm.response.json().businessId","    pm.environment.set(\"businessId\", businessId)","})"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"d03ea053-8fbe-45c8-9092-13683357f3ea","exec":[""],"type":"text/javascript"}}],"id":"51e878ae-6058-4af7-a11b-ee58314e0835","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"ABC Tires Inc\",\n  \"personallyLiable\": true,\n  \"address\": {\n    \"addressLine1\": \"434 W Ascension Way\",\n    \"addressLine2\": \"Suite #200\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"country\": \"US\",\n    \"postalCode\": \"84123\"\n  },\n  \"phoneNumber\": {\n    \"countryCode\": \"1\",\n    \"phoneNo\": \"8042221111\"\n  },\n  \"url\": \"https://www.finicity.com/\",\n  \"email\": \"myname@mycompany.com\",\n  \"type\": \"Nonprofit\",\n  \"taxId\": \"A1234561Z\"\n}","options":{"raw":{"headerFamily":"json","language":"json"}}},"url":{"raw":"{{baseUrl}}/business-services/customers/{{customerId}}/businesses","host":["{{baseUrl}}"],"path":["business-services","customers","{{customerId}}","businesses"]},"description":"Create a new business record for the associated customer.\nA customer can have one business record associated.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"f3cd46e8-4f95-4c92-ac66-84d22a834731","name":"The business was successfully created.","originalRequest":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"ABC Tires Inc\",\n  \"personallyLiable\": true,\n  \"address\": {\n    \"addressLine1\": \"434 W Ascension Way\",\n    \"addressLine2\": \"Suite #200\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"country\": \"US\",\n    \"postalCode\": \"84123\"\n  },\n  \"phoneNumber\": {\n    \"countryCode\": \"141\",\n    \"phoneNo\": \"7992222\"\n  },\n  \"url\": \"https://www.finicity.com/\",\n  \"email\": \"myname@mycompany.com\",\n  \"type\": \"Nonprofit\",\n  \"taxId\": \"A1234561Z\"\n}","options":{"raw":{"headerFamily":"json","language":"json"}}},"url":{"raw":"{{baseUrl}}/business-services/customers/{{customerId}}/businesses","host":["{{baseUrl}}"],"path":["business-services","customers","{{customerId}}","businesses"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"name\": \"ABC Tires Inc\",\n  \"personallyLiable\": true,\n  \"address\": {\n    \"addressLine1\": \"434 W Ascension Way\",\n    \"addressLine2\": \"Suite #200\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"country\": \"US\",\n    \"postalCode\": \"84123\"\n  },\n  \"phoneNumber\": {\n    \"countryCode\": \"141\",\n    \"phoneNo\": \"7992222\"\n  },\n  \"url\": \"https://www.finicity.com/\",\n  \"email\": \"myname@mycompany.com\",\n  \"type\": \"Nonprofit\",\n  \"taxId\": \"A1234561Z\",\n  \"businessId\": \"1112\",\n  \"createdDate\": \"2022-04-12T11:51:23\",\n  \"modifiedDate\": \"2022-04-12T11:51:23\"\n}"},{"id":"d2360884-8013-46e8-8d2c-500d1c81d028","name":"The customer does not exist","originalRequest":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"ABC Tires Inc\",\n  \"personallyLiable\": true,\n  \"address\": {\n    \"addressLine1\": \"434 W Ascension Way\",\n    \"addressLine2\": \"Suite #200\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"country\": \"US\",\n    \"postalCode\": \"84123\"\n  },\n  \"phoneNumber\": {\n    \"countryCode\": \"141\",\n    \"phoneNo\": \"7992222\"\n  },\n  \"url\": \"https://www.finicity.com/\",\n  \"email\": \"myname@mycompany.com\",\n  \"type\": \"Nonprofit\",\n  \"taxId\": \"A1234561Z\"\n}","options":{"raw":{"headerFamily":"json","language":"json"}}},"url":{"raw":"{{baseUrl}}/business-services/customers/{{customerId}}/businesses","host":["{{baseUrl}}"],"path":["business-services","customers","{{customerId}}","businesses"]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n    \"code\": 10002,\n    \"status\": \"404\",\n    \"title\": \"Customer ID was not found.\",\n    \"level\": null,\n    \"message\": \"Customer ID was not found.\",\n    \"user_message\": \"Customer ID was not found.\",\n    \"assetId\": null,\n    \"accountId\": null\n}"},{"id":"9f7ff9b3-e815-4da5-a60d-75762784fc8e","name":"The resource already exists","originalRequest":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"ABC Tires Inc\",\n  \"personallyLiable\": true,\n  \"address\": {\n    \"addressLine1\": \"434 W Ascension Way\",\n    \"addressLine2\": \"Suite #200\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"country\": \"US\",\n    \"postalCode\": \"84123\"\n  },\n  \"phoneNumber\": {\n    \"countryCode\": \"141\",\n    \"phoneNo\": \"7992222\"\n  },\n  \"url\": \"https://www.finicity.com/\",\n  \"email\": \"myname@mycompany.com\",\n  \"type\": \"Nonprofit\",\n  \"taxId\": \"A1234561Z\"\n}","options":{"raw":{"headerFamily":"json","language":"json"}}},"url":{"raw":"{{baseUrl}}/business-services/customers/{{customerId}}/businesses","host":["{{baseUrl}}"],"path":["business-services","customers","{{customerId}}","businesses"]}},"status":"Conflict","code":409,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n    \"code\": 10004,\n    \"status\": \"409\",\n    \"title\": \"Business already exists for the given customer ID.\",\n    \"level\": null,\n    \"message\": \"Business already exists for the given customer ID.\",\n    \"user_message\": \"Business already exists for the given customer ID.\",\n    \"assetId\": null,\n    \"accountId\": null\n}"}]},{"name":"Get Business by ID","event":[{"listen":"test","script":{"id":"6a657119-f122-4f7e-896c-5fc99164ff32","exec":["pm.test(\"Check status code\", function () {","    pm.expect(pm.response.code).to.equal(200)","})"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"c2c6ba88-e3f3-49bb-b315-e4f4ed638a8a","exec":["const businessId = pm.environment.get(\"businessId\")"],"type":"text/javascript"}}],"id":"2b507d36-351b-49e8-9175-4932c88a5283","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/business-services/businesses/{{businessId}}","host":["{{baseUrl}}"],"path":["business-services","businesses","{{businessId}}"]},"description":"Retrieve business details.\n\n_Supported regions_: ![\\U0001F1FA\\U0001F1F8](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"9424f132-e86f-4748-88db-e6b8589b339d","name":"The business information was successfully retrieved.","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/business-services/businesses/:business_id","host":["{{baseUrl}}"],"path":["business-services","businesses",":business_id"],"variable":[{"key":"business_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"[\n  {\n    \"name\": \"ABC Tires Inc\",\n    \"personallyLiable\": true,\n    \"address\": {\n      \"addressLine1\": \"434 W Ascension Way\",\n      \"addressLine2\": \"Suite #200\",\n      \"city\": \"Murray\",\n      \"state\": \"UT\",\n      \"country\": \"US\",\n      \"postalCode\": \"84123\"\n    },\n    \"phoneNumber\": {\n      \"countryCode\": \"141\",\n      \"phoneNo\": \"7992222\"\n    },\n    \"url\": \"https://www.finicity.com/\",\n    \"email\": \"myname@mycompany.com\",\n    \"type\": \"Nonprofit\",\n    \"taxId\": \"A1234561Z\",\n    \"businessId\": \"1112\",\n    \"createdDate\": \"2022-04-12T11:51:23\",\n    \"modifiedDate\": \"2022-04-12T11:51:23\"\n  }\n]"},{"id":"609cfd14-82c9-499a-920a-7cdc2ca68f18","name":"The business does not exist","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/business-services/businesses/:business_id","host":["{{baseUrl}}"],"path":["business-services","businesses",":business_id"],"variable":[{"key":"business_id"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10003,\n  \"message\": \"Business ID was not found.\",\n  \"status\": \"404\",\n  \"title\": \"Business ID was not found.\",\n  \"user_message\": \"Business ID was not found.\"\n}"}]},{"name":"Get Business for Customer","event":[{"listen":"test","script":{"id":"0f433864-b506-413a-8080-cdbe20defe51","exec":["pm.test(\"Check status code\", function () {","    pm.expect(pm.response.code).to.equal(200)","})"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"56f0f931-91d0-4038-bb48-cb22d9ae5ee4","exec":[""],"type":"text/javascript"}}],"id":"bf520407-2123-41a3-888a-62fc69487a78","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/business-services/customers/{{customerId}}/businesses","host":["{{baseUrl}}"],"path":["business-services","customers","{{customerId}}","businesses"]},"description":"Retrieve business details associated with a specific customer. By providing the unique customer identifier, details about the associated business can be accessed.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"29b46fbf-8ac9-4557-9d09-1c7287e7edb9","name":"The business information was successfully retrieved.","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/business-services/customers/:customer_id/businesses","host":["{{baseUrl}}"],"path":["business-services","customers",":customer_id","businesses"],"variable":[{"key":"customer_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"[\n  {\n    \"name\": \"ABC Tires Inc\",\n    \"personallyLiable\": true,\n    \"address\": {\n      \"addressLine1\": \"434 W Ascension Way\",\n      \"addressLine2\": \"Suite #200\",\n      \"city\": \"Murray\",\n      \"state\": \"UT\",\n      \"country\": \"US\",\n      \"postalCode\": \"84123\"\n    },\n    \"phoneNumber\": {\n      \"countryCode\": \"141\",\n      \"phoneNo\": \"7992222\"\n    },\n    \"url\": \"https://www.finicity.com/\",\n    \"email\": \"myname@mycompany.com\",\n    \"type\": \"Nonprofit\",\n    \"taxId\": \"A1234561Z\",\n    \"businessId\": \"1112\",\n    \"createdDate\": \"2022-04-12T11:51:23\",\n    \"modifiedDate\": \"2022-04-12T11:51:23\"\n  }\n]"},{"id":"500d9459-1ba6-47e2-a2d4-0c813c423e9a","name":"The customer does not exist","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/business-services/customers/:customer_id/businesses","host":["{{baseUrl}}"],"path":["business-services","customers",":customer_id","businesses"],"variable":[{"key":"customer_id"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10002,\n  \"message\": \"Customer ID was not found.\",\n  \"status\": \"404\",\n  \"title\": \"Customer ID was not found.\",\n  \"user_message\": \"Customer ID was not found.\"\n}"}]},{"name":"Update Business by ID","event":[{"listen":"prerequest","script":{"id":"2f2d192d-73c1-43d4-8043-dabcde1647fd","exec":["const businessId = pm.environment.get(\"businessId\")"],"type":"text/javascript"}}],"id":"bfecfb9d-d2b6-4122-b851-daa52f1c2f53","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"ABC Tires Inc\",\n  \"personallyLiable\": true,\n  \"address\": {\n    \"addressLine1\": \"434 W Ascension Way\",\n    \"addressLine2\": \"Suite #200\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"country\": \"US\",\n    \"postalCode\": \"84123\"\n  },\n  \"phoneNumber\": {\n    \"countryCode\": \"1\",\n    \"phoneNo\": \"8042221111\"\n  },\n  \"url\": \"https://www.finicity.com/\",\n  \"email\": \"myname@mycompany.com\",\n  \"type\": \"Nonprofit\",\n  \"taxId\": \"A1234561Z\"\n}","options":{"raw":{"headerFamily":"json","language":"json"}}},"url":{"raw":"{{baseUrl}}/business-services/businesses/{{businessId}}","host":["{{baseUrl}}"],"path":["business-services","businesses","{{businessId}}"]},"description":"Update the details of a business based on its unique identifier. By providing the specific business ID and the updated information in the request, modifications can be made to the business's profile.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"372641cf-0547-4588-8df8-07a6428d9d93","name":"The business information was updated.","originalRequest":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"ABC Tires Inc\",\n  \"personallyLiable\": true,\n  \"address\": {\n    \"addressLine1\": \"434 W Ascension Way\",\n    \"addressLine2\": \"Suite #200\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"country\": \"US\",\n    \"postalCode\": \"84123\"\n  },\n  \"phoneNumber\": {\n    \"countryCode\": \"141\",\n    \"phoneNo\": \"7992222\"\n  },\n  \"url\": \"https://www.finicity.com/\",\n  \"email\": \"myname@mycompany.com\",\n  \"type\": \"Nonprofit\",\n  \"taxId\": \"A1234561Z\"\n}","options":{"raw":{"headerFamily":"json","language":"json"}}},"url":{"raw":"{{baseUrl}}/business-services/businesses/{{businessId}}","host":["{{baseUrl}}"],"path":["business-services","businesses","{{businessId}}"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n    \"businessId\": \"193\",\n    \"name\": \"ABC Tires Inc\",\n    \"personallyLiable\": true,\n    \"address\": {\n        \"addressLine1\": \"434 W Ascension Way\",\n        \"addressLine2\": \"Suite #200\",\n        \"city\": \"Murray\",\n        \"state\": \"UT\",\n        \"country\": \"US\",\n        \"postalCode\": \"84123\"\n    },\n    \"phoneNumber\": {\n        \"countryCode\": \"1\",\n        \"phoneNo\": \"8042221111\"\n    },\n    \"taxId\": \"A1234561Z\",\n    \"url\": \"https://www.finicity.com/\",\n    \"email\": \"myname@mycompany.com\",\n    \"type\": \"Nonprofit\",\n    \"createdDate\": \"2024-02-01T17:13:39Z\",\n    \"modifiedDate\": \"2024-02-01T17:20:35Z\"\n}"},{"id":"dce65b06-2379-4c64-8162-f1547c3ab11b","name":"The business does not exist","originalRequest":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"ABC Tires Inc\",\n  \"personallyLiable\": true,\n  \"address\": {\n    \"addressLine1\": \"434 W Ascension Way\",\n    \"addressLine2\": \"Suite #200\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"country\": \"US\",\n    \"postalCode\": \"84123\"\n  },\n  \"phoneNumber\": {\n    \"countryCode\": \"141\",\n    \"phoneNo\": \"7992222\"\n  },\n  \"url\": \"https://www.finicity.com/\",\n  \"email\": \"myname@mycompany.com\",\n  \"type\": \"Nonprofit\",\n  \"taxId\": \"A1234561Z\"\n}","options":{"raw":{"headerFamily":"json","language":"json"}}},"url":{"raw":"{{baseUrl}}/business-services/businesses/{{businessId}}","host":["{{baseUrl}}"],"path":["business-services","businesses","{{businessId}}"]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n    \"code\": 10003,\n    \"status\": \"404\",\n    \"title\": \"Business ID was not found.\",\n    \"level\": null,\n    \"message\": \"Business ID was not found.\",\n    \"user_message\": \"Business ID was not found.\",\n    \"assetId\": null,\n    \"accountId\": null\n}"}]}],"id":"e49c6b81-f74e-496a-a919-6d1a7d72d88e","event":[{"listen":"prerequest","script":{"id":"04fb0bb6-1b79-4160-8304-8ec54068007f","type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","",""]}},{"listen":"test","script":{"id":"789bad8e-b279-4df5-9b88-b8319514bbc2","type":"text/javascript","exec":[""]}}]},{"name":"Cash Flow","item":[{"name":"Generate Cash Flow Report - Business","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"47a6b3c2-cb3a-4f39-a2a0-5ab0e00db8dc"}}],"id":"ec3c9714-a21d-4ff4-bb14-7630e86972b8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"showNsf\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/cashFlowBusiness","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","cashFlowBusiness"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate a Cash Flow Report (Business) report for all checking and savings under the given customer. This service retrieves up to two years of transaction history for the given account. It then uses this information to generate the CFR report. A consumer is not required to generate this report.\n\nThis report is not provided under FCRA rules, and this report is not available in the Finicity Consumer Portal for the borrower to view.\n\nIf no account type of checking or savings is found, the service will return HTTP 400 Bad Request.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"091d5295-41af-4de6-a842-34bee8f93748","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/cashFlowBusiness?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","cashFlowBusiness"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"ba3655f2-644d-4e3b-bdcd-0bb8106dac28","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/cashFlowBusiness?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","cashFlowBusiness"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"97ce12e2-2a13-4eb2-9e14-f9fd4fa56c09","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/cashFlowBusiness?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","cashFlowBusiness"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"be86eaba-67eb-433e-815d-f87477b0ed49","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/cashFlowBusiness?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","cashFlowBusiness"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate Cash Flow Report - Personal","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"7af699b0-ba98-4875-909a-1c899b575166"}}],"id":"d65987a2-485b-41f5-b050-89e9f86f9c55","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"showNsf\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/cashFlowPersonal","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","cashFlowPersonal"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate a Cash Flow Report (Personal) report for all checking and savings under the given customer. This service retrieves up to two years of transaction history for the given account. It then uses this information to generate the CFR report.\n\nThis report is provided under FCRA rules, with Finicity acting as the CRA (Consumer Reporting Agency). If an individual account is included in the report - for example, with an individual acting as an personal guarantor on the loan - then this version of the report should be used. In case of an adverse action on the loan where the decision was based on this report, then the borrower can be referred to the [Finicity Consumer Portal](https://consumer.finicityreports.com) where they can view this report and submit a dispute if they feel any information in this report is inaccurate.\n\nBefore calling this API, a consumer must be created for the given customer ID (see Consumers APIs).\n\nIf no account type of checking or savings is found, the service will return HTTP 400 Bad Request.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"20ef5dda-425c-44ae-bbe9-4ad439813221","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/cashFlowPersonal?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","cashFlowPersonal"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"72a78e50-d9d8-441e-b174-dd001b86e442","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/cashFlowPersonal?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","cashFlowPersonal"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"7ba7ed8d-b6db-478f-8d45-cbaf22fb7227","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/cashFlowPersonal?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","cashFlowPersonal"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"1c9ac54a-5729-4f39-a278-a0d42c9f12a2","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/cashFlowPersonal?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","cashFlowPersonal"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"7306c09e-1889-4577-b61c-9ca3131b0977","description":"Generate cash flow reports asynchronously","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["// A consumer is needed for these APIs","createConsumer()","\t","function createConsumer() {","    const baseUrl = pm.collectionVariables.get(\"baseUrl\")","    const customerId = pm.environment.get(\"customerId\")","    const appKey = pm.environment.get(\"appKey\")","    const appToken = pm.globals.get(\"appToken\")","","    const consumerExists = pm.globals.get(\"consumerExists\")","    if (consumerExists) {","        // A consumer was already created","        return","    }","","    console.log(\"Creating consumer ... \")","    const options = {","        url:  baseUrl + \"/decisioning/v1/customers/\" + customerId + \"/consumer\", ","        method: 'POST',","        header: {","            \"Accept\": \"application/json\",","            \"Content-type\": \"application/json\",","            \"Finicity-App-Key\": appKey,","            \"Finicity-App-Token\": appToken","        },","        body: JSON.stringify({","            \"firstName\": \"Homer\",","            \"lastName\": \"Loanseeke\",","            \"address\": \"434 W Ascension Way\",","            \"city\": \"Murray\",","            \"state\": \"UT\",","            \"zip\": \"84123\",","            \"phone\": \"1-800-986-3343\",","            \"ssn\": \"999601111\",","            \"birthday\": {","                \"year\": 1970,","                \"month\": 7,","                \"dayOfMonth\": 4","            },","            \"email\": \"finicity@test.com\",","            \"suffix\": \"Mr\"","        })","    }","    pm.sendRequest(options, function (err, response) {","        pm.expect(err).to.be.null","        pm.expect(response.code).to.be.oneOf([200, 201, 409])","        pm.globals.set(\"consumerExists\", true)","    })","}"],"id":"0c5df629-8107-4d1d-ba09-9921683cc8fa"}}]},{"name":"Cash Flow Analytics","item":[{"name":"Generate Cash Flow Analytics","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","\r","    /* Store the report ID */\r","    const reportId = pm.response.json().reportId\r","    pm.globals.set(\"obbReportId\", reportId)\r","})"],"type":"text/javascript","id":"bbf1f127-38ce-48b3-8839-2f79198afd2b"}}],"id":"d02778cb-bd78-4598-8df1-cbca932b9a08","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/{{customerId}}?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer","{{customerId}}"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}]},"description":"Cash Flow Analytics for Business analyzes cash flow over time to report metrics and identify behavior that may indicate risk.\n\nCalculated metrics include:\n* Average transaction value by month over the requested time period\n* Net cash flow over the requested time period and broken down by month\n* Count and report of weeks in the requested time period where there\n  were zero transactions posted to the customer's accounts\n\n* Minimum/maximum/average/sum/count of deposits by month\n* Minimum/maximum/average/sum/count of withdrawals by month\n* Estimated amount of deposits that can be classified as business\n  revenue\n\n* Number of transactions posted incurring a non-sufficient funds (NSF)\n  fee, and net amount charged in NSF fees\n\n\nThis version of the API is intended for piloting and integration testing your application with the Cash Flow Analytics product. It does not adhere to FCRA requirements, and should not be used for production/lending purposes. See _Generate Cash Flow Analytics - FCRA_ for the FCRA compliant version of this API.\n\nA successful call to this API will generate analytics and store a report within Finicity. The report can be retrieved via _Get Cash Flow Analytics Report_ (operation: _GetCashFlowAnalyticsReport_).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"47659668-c564-4db5-964b-fc6b2d17114c","name":"Response given when cash flow analytics were generated successfully, providing the caller with a report ID which can be used to retrieve the report as JSON or a PDF.","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountIds\": [\n    10001,\n    10002,\n    10003\n  ],\n  \"businessId\": 123,\n  \"createdDate\": \"2022-02-10T05:00:00-07:00\",\n  \"customerId\": 10001,\n  \"reportId\": \"145cabe0-2b38-4175-9b7e-115431359839\",\n  \"reportPin\": \"qert\",\n  \"requesterName\": \"Mortage ABC LLC\",\n  \"title\": \"Finicity Cashflow Analytics\"\n}"},{"id":"9fc0f241-e981-479f-a629-859bc30b74f8","name":"A bad request was provided","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 400,\n  \"message\": \"Missing required parameter 'customerId'\"\n}"},{"id":"56596202-8b9a-4d15-870e-38ccc8d570b5","name":"Unauthorized request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"42267ccd-3491-4227-8ef5-80f1664b91f2","name":"Access forbidden","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"692b6a48-3d74-44fd-b8cb-b94ce610ce2a","name":"Resource not found","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 404,\n  \"message\": \"Customer not found\"\n}"},{"id":"c4e1e337-87f5-4c56-aa29-3e9432bb5900","name":"Resource conflict","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Conflict","code":409,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 409,\n  \"message\": \"Customer is not registered as a business\"\n}"}]},{"name":"Generate Cash Flow Analytics - FCRA","event":[{"listen":"test","script":{"exec":["if (pm.response.code === 200) {\r","    /* Store the report ID */\r","    const reportId = pm.response.json().reportId\r","    pm.globals.set(\"obbFcraReportId\", reportId)\r","}"],"type":"text/javascript","id":"0b6a1004-22ee-4558-af7e-ae9414110be5"}}],"id":"c563e35d-1b80-40ee-b30e-66a02c716367","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/{{customerId}}/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer","{{customerId}}","fcra"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}]},"description":"Cash Flow Analytics for Business analyzes cash flow over time to report metrics and identify behavior that may indicate risk.\n\nCalculated metrics include:\n* Average transaction value by month over the requested time period\n* Net cash flow over the requested time period and broken down by month\n* Count and report of weeks in the requested time period where there\n  were zero transactions posted to the customer's accounts\n\n* Minimum/maximum/average/sum/count of deposits by month\n* Minimum/maximum/average/sum/count of withdrawals by month\n* Estimated amount of deposits that can be classified as business\n  revenue\n\n* Number of transactions posted incurring a non-sufficient funds (NSF)\n  fee, and net amount charged in NSF fees\n\n\nThis version of the API is intended for production use. It maintains and enforces all compliance with FCRA rules and requirements.\n\n*Note:* this is a premium service, billable per every successful API call for non-testing customers.\n\nA successful call to this API will generate analytics and store a report within Finicity. The report can be retrieved via _Get Cash Flow Analytics Report - FCRA_ (operation: _GetCashFlowAnalyticsReportFCRA_).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"611cdf03-fdef-40cd-8218-7a69152870f1","name":"Response given when cash flow analytics (FCRA) were generated successfully, providing the caller with a report ID which can be used to retrieve the report as JSON or a PDF.","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountIds\": [\n    10001,\n    10002,\n    10003\n  ],\n  \"businessId\": 123,\n  \"createdDate\": \"2022-02-10T05:00:00-07:00\",\n  \"customerId\": 10001,\n  \"reportId\": \"145cabe0-2b38-4175-9b7e-115431359839\",\n  \"reportPin\": \"qert\",\n  \"requesterName\": \"Mortage ABC LLC\",\n  \"title\": \"Finicity Cashflow Analytics\"\n}"},{"id":"161bf116-be88-479c-a058-0f875ea3d358","name":"A bad request was provided","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 400,\n  \"message\": \"Missing required parameter 'customerId'\"\n}"},{"id":"db738bb7-0f16-4a62-8f2c-29083a2c668d","name":"Unauthorized request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"3f064d00-f8d3-40b0-afc0-8b5f55fb0fcf","name":"Access forbidden","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"d447e994-a06e-490f-807e-3fb35517336c","name":"Resource not found","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 404,\n  \"message\": \"Customer not found\"\n}"},{"id":"c9c358fc-021e-4796-91c2-b19dfaa2feb7","name":"Resource conflict","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/cashflow/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","cashflow","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Conflict","code":409,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 409,\n  \"message\": \"Customer is not registered as a business\"\n}"}]},{"name":"Get OBB Analytics Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"d1d26aca-5aba-4046-bd1a-a406a2c81189"}}],"id":"1987d120-829a-4d6b-8e59-c208f7ebdd72","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/{{obbReportId}}","host":["{{baseUrl}}"],"path":["analytics","data","v1","{{obbReportId}}"]},"description":"Retrieve the report saved by _Generate Balance Analytics_, _Generate Cash Flow Analytics_, or _Generate Payment History_. Requires the report ID generated by the previous call.\n\nReport data can either be retrieved as a JSON document or PDF file.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"b8e55301-15c5-4a61-90f6-a121dc3dfec3","name":"OBB Analytics report data as JSON or PDF","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountResults\": [\n    {\n      \"accountDetails\": {\n        \"accountNumberDisplay\": \"8888\",\n        \"accountOwner\": {\n          \"address\": \"123 Main St, Portland, OR 12345\",\n          \"name\": \"Johnny Appleseed\"\n        },\n        \"aggregationAttemptDate\": \"2022-03-30T14:47:19-07:00\",\n        \"aggregationStatusCode\": 0,\n        \"aggregationSuccessDate\": \"2022-03-30T14:47:19-07:00\",\n        \"currency\": \"USD\",\n        \"currentBalance\": 2239.22,\n        \"id\": \"1234902309er\",\n        \"institution\": {\n          \"institutionIconUrl\": \"https://prod-carpintero-branding.s3.us-west-2.amazonaws.com/101732/icon.svg\",\n          \"institutionId\": 12345,\n          \"institutionName\": \"Wells Fargo\",\n          \"institutionPrimaryColor\": \"#1B3E4A\"\n        },\n        \"institutionLoginId\": 1007302745,\n        \"name\": \"Super Checking\",\n        \"realAccountNumberLast4\": 5678,\n        \"status\": \"active\",\n        \"type\": \"checking\"\n      },\n      \"accountId\": 5001127492,\n      \"balanceAnalyticsMetrics\": {\n        \"availableBalance\": {\n          \"description\": \"Available Balance\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"availableBalanceDate\": {\n          \"description\": \"Available Balance date\",\n          \"example\": \"2022-02-18T02:34:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"averageDailyBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Daily Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"averageWeekdayBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Weekday Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n          {\n            \"count\": 5,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"currentRunningBalance\": {\n          \"description\": \"Current Running Balance Date\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"currentRunningBalanceDate\": {\n          \"description\": \"Current Running Balance date\",\n          \"example\": \"2022-02-10T05:00:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"dailyBalancesForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n          \"historicAverageWeeklyBalances\": [\n            {\n              \"amount\": 679.07,\n              \"fromDate\": \"2020-01-01\",\n              \"toDate\": \"2020-01-07\",\n              \"week\": 1\n            }\n          ],\n          \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n          \"historicNumberOfWeeksWithDataAvailable\": 4\n        },\n        \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n        \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n      },\n      \"currentReportRequest\": {\n        \"reportBeginDate\": \"2022-03-01\",\n        \"reportEndDate\": \"2022-03-30\",\n        \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n        \"requestedDaysForReport\": 90,\n        \"requestedReportBeginDate\": \"2022-01-01\"\n      },\n      \"historicDataAvailability\": {\n        \"historicAvailabilityBeginDate\": \"2022-03-01\",\n        \"historicAvailabilityEndDate\": \"2022-03-30\",\n        \"historicAvailableDays\": 30,\n        \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n      }\n    }\n  ],\n  \"businessId\": 4444,\n  \"businessSummary\": {\n    \"balanceAnalyticsMetrics\": {\n      \"availableBalance\": {\n        \"description\": \"Available Balance\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"availableBalanceDate\": {\n        \"description\": \"Available Balance date\",\n        \"example\": \"2022-02-18T02:34:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"averageDailyBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Daily Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"averageWeekdayBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Weekday Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n        {\n          \"count\": 5,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"currentRunningBalance\": {\n        \"description\": \"Current Running Balance Date\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"currentRunningBalanceDate\": {\n        \"description\": \"Current Running Balance date\",\n        \"example\": \"2022-02-10T05:00:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"dailyBalancesForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n        \"historicAverageWeeklyBalances\": [\n          {\n            \"amount\": 679.07,\n            \"fromDate\": \"2020-01-01\",\n            \"toDate\": \"2020-01-07\",\n            \"week\": 1\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n        \"historicNumberOfWeeksWithDataAvailable\": 4\n      },\n      \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n      \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n    },\n    \"currentReportRequest\": {\n      \"reportBeginDate\": \"2022-03-01\",\n      \"reportEndDate\": \"2022-03-30\",\n      \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n      \"requestedDaysForReport\": 90,\n      \"requestedReportBeginDate\": \"2022-01-01\"\n    },\n    \"historicDataAvailability\": {\n      \"historicAvailabilityBeginDate\": \"2022-03-01\",\n      \"historicAvailabilityEndDate\": \"2022-03-30\",\n      \"historicAvailableDays\": 30,\n      \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n    }\n  },\n  \"customerId\": 10001,\n  \"reportHeader\": {\n    \"businessAddress\": \"123 Main St\",\n    \"businessCity\": \"Portland\",\n    \"businessName\": \"B&G Construction\",\n    \"businessState\": \"OR\",\n    \"businessZip\": \"12345\",\n    \"referenceNumber\": \"32asdfaasd0823\",\n    \"reportDate\": \"2022-03-16T21:28:38-07:00\",\n    \"reportId\": \"8ff8b4b2-706f-45c3-8d66-857bdb516214\"\n  },\n  \"requesterName\": \"Mortgage ABC LLC\",\n  \"title\": \"Fincity Balance Analytics\"\n}"},{"id":"0fc2058c-bcfb-4172-bb43-59b7ce81fd4b","name":"Unauthorized request","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"61c80d36-f03a-4106-809e-a9dc3f1f8d8b","name":"Access forbidden","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"b5260384-4c33-4730-bbc0-83a0e7156003","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get OBB Analytics Report - FCRA","id":"a58c7681-371b-423d-b8ee-41460af27aa1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/{{obbFcraReportId}}/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1","{{obbFcraReportId}}","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}]},"description":"Retrieve the report saved by _Generate Balance Analytics - FCRA_, _Generate Cash Flow Analytics - FCRA_, or _Generate Payment History - FCRA_. Requires the report ID generated by the previous call.\n\nReport data can either be retrieved as a JSON document or PDF file.\n\n_Note:_ this is a premium service, billable per every successful API call for non-testing customers.\n\n_Supported regions_:\n\n<img src=\"https://flagcdn.com/20x15/us.png\" alt=\"ðŸ‡ºðŸ‡¸\">"},"response":[{"id":"50d97786-c480-4f19-96bf-251577b90a82","name":"OBB Analytics FCRA report data as JSON or PDF","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountResults\": [\n    {\n      \"accountDetails\": {\n        \"accountNumberDisplay\": \"8888\",\n        \"accountOwner\": {\n          \"address\": \"123 Main St, Portland, OR 12345\",\n          \"name\": \"Johnny Appleseed\"\n        },\n        \"aggregationAttemptDate\": \"2022-03-30T14:47:19-07:00\",\n        \"aggregationStatusCode\": 0,\n        \"aggregationSuccessDate\": \"2022-03-30T14:47:19-07:00\",\n        \"currency\": \"USD\",\n        \"currentBalance\": 2239.22,\n        \"id\": \"1234902309er\",\n        \"institution\": {\n          \"institutionIconUrl\": \"https://prod-carpintero-branding.s3.us-west-2.amazonaws.com/101732/icon.svg\",\n          \"institutionId\": 12345,\n          \"institutionName\": \"Wells Fargo\",\n          \"institutionPrimaryColor\": \"#1B3E4A\"\n        },\n        \"institutionLoginId\": 1007302745,\n        \"name\": \"Super Checking\",\n        \"realAccountNumberLast4\": 5678,\n        \"status\": \"active\",\n        \"type\": \"checking\"\n      },\n      \"accountId\": 5001127492,\n      \"balanceAnalyticsMetrics\": {\n        \"availableBalance\": {\n          \"description\": \"Available Balance\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"availableBalanceDate\": {\n          \"description\": \"Available Balance date\",\n          \"example\": \"2022-02-18T02:34:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"averageDailyBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Daily Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"averageWeekdayBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Weekday Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n          {\n            \"count\": 5,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"currentRunningBalance\": {\n          \"description\": \"Current Running Balance Date\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"currentRunningBalanceDate\": {\n          \"description\": \"Current Running Balance date\",\n          \"example\": \"2022-02-10T05:00:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"dailyBalancesForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n          \"historicAverageWeeklyBalances\": [\n            {\n              \"amount\": 679.07,\n              \"fromDate\": \"2020-01-01\",\n              \"toDate\": \"2020-01-07\",\n              \"week\": 1\n            }\n          ],\n          \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n          \"historicNumberOfWeeksWithDataAvailable\": 4\n        },\n        \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n        \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n      },\n      \"currentReportRequest\": {\n        \"reportBeginDate\": \"2022-03-01\",\n        \"reportEndDate\": \"2022-03-30\",\n        \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n        \"requestedDaysForReport\": 90,\n        \"requestedReportBeginDate\": \"2022-01-01\"\n      },\n      \"historicDataAvailability\": {\n        \"historicAvailabilityBeginDate\": \"2022-03-01\",\n        \"historicAvailabilityEndDate\": \"2022-03-30\",\n        \"historicAvailableDays\": 30,\n        \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n      }\n    }\n  ],\n  \"businessId\": 4444,\n  \"businessSummary\": {\n    \"balanceAnalyticsMetrics\": {\n      \"availableBalance\": {\n        \"description\": \"Available Balance\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"availableBalanceDate\": {\n        \"description\": \"Available Balance date\",\n        \"example\": \"2022-02-18T02:34:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"averageDailyBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Daily Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"averageWeekdayBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Weekday Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n        {\n          \"count\": 5,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"currentRunningBalance\": {\n        \"description\": \"Current Running Balance Date\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"currentRunningBalanceDate\": {\n        \"description\": \"Current Running Balance date\",\n        \"example\": \"2022-02-10T05:00:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"dailyBalancesForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n        \"historicAverageWeeklyBalances\": [\n          {\n            \"amount\": 679.07,\n            \"fromDate\": \"2020-01-01\",\n            \"toDate\": \"2020-01-07\",\n            \"week\": 1\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n        \"historicNumberOfWeeksWithDataAvailable\": 4\n      },\n      \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n      \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n    },\n    \"currentReportRequest\": {\n      \"reportBeginDate\": \"2022-03-01\",\n      \"reportEndDate\": \"2022-03-30\",\n      \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n      \"requestedDaysForReport\": 90,\n      \"requestedReportBeginDate\": \"2022-01-01\"\n    },\n    \"historicDataAvailability\": {\n      \"historicAvailabilityBeginDate\": \"2022-03-01\",\n      \"historicAvailabilityEndDate\": \"2022-03-30\",\n      \"historicAvailableDays\": 30,\n      \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n    }\n  },\n  \"customerId\": 10001,\n  \"reportHeader\": {\n    \"businessAddress\": \"123 Main St\",\n    \"businessCity\": \"Portland\",\n    \"businessName\": \"B&G Construction\",\n    \"businessState\": \"OR\",\n    \"businessZip\": \"12345\",\n    \"referenceNumber\": \"32asdfaasd0823\",\n    \"reportDate\": \"2022-03-16T21:28:38-07:00\",\n    \"reportId\": \"8ff8b4b2-706f-45c3-8d66-857bdb516214\"\n  },\n  \"requesterName\": \"Mortgage ABC LLC\",\n  \"title\": \"Fincity Balance Analytics\"\n}"},{"id":"c5f0c0e2-986d-402c-abdc-d504ce8b3c23","name":"Unauthorized request","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"2d6eee73-c64e-41d3-8b52-b51723787341","name":"Access forbidden","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"e48a73cb-9dfe-414f-83a8-edcc18e6cfcd","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"483b72ea-bd8d-42c1-972f-7d9294175a62","description":"Cash Flow Analytics for business"},{"name":"Connect ðŸ”—","item":[{"name":"Generate Connect URL","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"33a06e34-6adf-43da-a2ff-5c867813c470"}}],"id":"ad52be87-40f1-44bc-a28c-6e98ec0b628f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"customerId\": \"{{customerId}}\",\n    \"language\": \"en\",\n    \"consumerId\": \"0bf46322c167b562e6cbed9d40e19a4c\",\n    \"redirectUri\": \"https://www.finicity.com/connect/\",\n    \"webhookContentType\": \"application/json\",\n    \"webhookData\": {},\n    \"webhookHeaders\": {},\n    \"optionalConsumerInfo\": {\n        \"ssn\": \"999999999\",\n        \"dob\": 1607450357\n    },\n    \"singleUseUrl\": true,\n    \"institutionSettings\": {},\n    \"fromDate\": 1607450357,\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"isWebView\": true\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/connect/v2/generate","host":["{{baseUrl}}"],"path":["connect","v2","generate"]},"description":"Generate a Connect 2.0 URL link to add within your own applications.\n\nIn option, use the `experience` parameter to call Connect (per session) in the body of the request. Configure the `experience` parameter to change the brand color, logo, icon, which credit decisioning report to generate when the Connect application completes, and more.\n\nNote: contact your Sales Account Team to set up the `experience` parameter.\n\n \nMVS Developers: You can pre-populate the consumer's SSN on the \"Find employment records\" page at the beginning of the MVS payroll app. Pass the SSN value for the consumer in the body of the request call.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"c753b16d-fa51-4d42-b061-e4b65160e1d1","name":"The URL link was successfully generated","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate","host":["{{baseUrl}}"],"path":["connect","v2","generate"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"3c5ab919-bbfd-443e-ae10-717986e57157","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate","host":["{{baseUrl}}"],"path":["connect","v2","generate"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"d0b645d9-b0bf-4f9c-ac8f-dead86732b90","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate","host":["{{baseUrl}}"],"path":["connect","v2","generate"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Generate Lite Connect URL","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"5297fe2e-bb58-47ab-a023-fd5c0b48052b"}}],"id":"41803163-f972-4f00-a31d-176dc8a80d1e","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"customerId\": \"{{customerId}}\",\n    \"language\": \"en\",\n    \"institutionId\": 4222,\n    \"redirectUri\": \"https://www.finicity.com/connect/\",\n    \"webhookContentType\": \"application/json\",\n    \"webhookData\": {},\n    \"webhookHeaders\": {},\n    \"singleUseUrl\": true,\n    \"isWebView\": true\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/connect/v2/generate/lite","host":["{{baseUrl}}"],"path":["connect","v2","generate","lite"]},"description":"Connect Lite is a variation of Connect Full (`POST /connect/v2/generate`), which has a limited set of features.\n* Sign in, user's credentials, and Multi-Factor Authentication (MFA)\n* No user account management\n\nThe Connect Web SDK isn't a requirement when using Connect lite. However, if you want to use the SDK events, routes, and user events, then you must integrate with the Connect Web SDK.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"76c6a959-0c2e-48f4-b5f4-199af14f5147","name":"The URL link was successfully generated","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/lite","host":["{{baseUrl}}"],"path":["connect","v2","generate","lite"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"fbd42ff0-6d85-4aba-8f6f-cbefb3be851a","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/lite","host":["{{baseUrl}}"],"path":["connect","v2","generate","lite"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"986a42e5-4f20-4905-b1e7-4d3a0a9a5aa1","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/lite","host":["{{baseUrl}}"],"path":["connect","v2","generate","lite"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Generate Fix Connect URL","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    // \"Customer does not have any accounts associated with institutionLoginId.\"\"\r","    pm.expect(pm.response.code).to.equals(404)\r","})"],"type":"text/javascript","id":"3ea44737-a994-441a-b297-c80ddf845cca"}}],"id":"8ddea034-ee9a-498e-811f-d07b11ed610c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"customerId\": \"{{customerId}}\",\n    \"language\": \"en\",\n    \"institutionLoginId\": \"1007302745\",\n    \"redirectUri\": \"https://www.finicity.com/connect/\",\n    \"webhookContentType\": \"application/json\",\n    \"webhookData\": {},\n    \"webhookHeaders\": {},\n    \"singleUseUrl\": true,\n    \"isWebView\": true\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/connect/v2/generate/fix","host":["{{baseUrl}}"],"path":["connect","v2","generate","fix"]},"description":"Use the Connect Fix API when the following conditions occur:\n* The connection to the user's financial institution is lost\n* The user's credentials were updated (for any number of reasons)\n* The user's MFA challenge has expired\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"f574bb16-beb0-47cf-9231-83cbd60f9363","name":"The URL link was successfully generated","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/fix","host":["{{baseUrl}}"],"path":["connect","v2","generate","fix"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"73b734e7-aceb-4e8c-a08e-dc6913a591c0","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/fix","host":["{{baseUrl}}"],"path":["connect","v2","generate","fix"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"1a75905e-fc32-465c-bc34-68ba0f6e3878","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/fix","host":["{{baseUrl}}"],"path":["connect","v2","generate","fix"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"518b0301-da7d-42ed-8cf0-e89422e064cb","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/fix","host":["{{baseUrl}}"],"path":["connect","v2","generate","fix"]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Send Connect Email","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"38074a9b-ccb0-41fe-b816-a7cb776f8ff8"}}],"id":"8080fc9e-58e5-44d6-ba68-73693a0a6475","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"customerId\": \"{{customerId}}\",\n    \"language\": \"en\",\n    \"consumerId\": \"0bf46322c167b562e6cbed9d40e19a4c\",\n    \"email\": {\n        \"to\": \"bob@example.com\",\n        \"supportPhone\": \"800-555-5555\",\n        \"subject\": \"Verify your income\",\n        \"firstName\": \"Bob\",\n        \"institutionName\": \"Acme Lending\",\n        \"institutionAddress\": \"222 Winipeg Drive SLC UT, 84109\",\n        \"signature\": [\n            \"Cindy Mayfield\",\n            \"Senior Loan Officer\",\n            \"Direct 123-456-7890\"\n        ]\n    },\n    \"redirectUri\": \"https://www.finicity.com/connect/\",\n    \"webhookContentType\": \"application/json\",\n    \"webhookData\": {},\n    \"webhookHeaders\": {},\n    \"institutionSettings\": {},\n    \"singleUseUrl\": true,\n    \"fromDate\": 1607450357,\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"optionalConsumerInfo\": {\n        \"ssn\": \"999999999\",\n        \"dob\": 1607450357\n    }\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/connect/v2/send/email","host":["{{baseUrl}}"],"path":["connect","v2","send","email"]},"description":"Same as Connect Full (`POST /connect/v2/generate`) but send a Connect email to a consumer.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"08e1e686-76cb-46fc-ad96-fa18747c7e27","name":"The URL link was successfully generated and the email sent","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/send/email","host":["{{baseUrl}}"],"path":["connect","v2","send","email"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"f10e8c68-21b7-4afd-9697-45107a541a1c","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/send/email","host":["{{baseUrl}}"],"path":["connect","v2","send","email"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"a7011c71-4f60-43ab-8aca-5dc4df11223e","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/send/email","host":["{{baseUrl}}"],"path":["connect","v2","send","email"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Generate Connect URL - Joint Borrower","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"02af9592-c412-4407-889d-02c0ce29bcc4"}}],"id":"8df1cf28-4cda-470d-b445-a0d8d4b1503f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"language\": \"en\",\n    \"borrowers\": [\n        {\n            \"customerId\": \"{{customerId}}\",\n            \"consumerId\": \"0bf46322c167b562e6cbed9d40e19a4c\",\n            \"type\": \"primary\",\n            \"optionalConsumerInfo\": {\n                \"ssn\": \"999999999\",\n                \"dob\": 1607450357\n            }\n        },\n        {\n            \"customerId\": \"{{customerId}}\",\n            \"consumerId\": \"0bf46322c167b562e6cbed9d40e19a4c\",\n            \"type\": \"jointBorrower\",\n            \"optionalConsumerInfo\": {\n                \"ssn\": \"999999999\",\n                \"dob\": 1607450357\n            }\n        }\n    ],\n    \"redirectUri\": \"https://www.finicity.com/connect/\",\n    \"webhookContentType\": \"application/json\",\n    \"webhookData\": {},\n    \"webhookHeaders\": {},\n    \"institutionSettings\": {},\n    \"fromDate\": 1607450357,\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"singleUseUrl\": true\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/connect/v2/generate/jointBorrower","host":["{{baseUrl}}"],"path":["connect","v2","generate","jointBorrower"]},"description":"Same as Connect Full (`POST /connect/v2/generate`) but for joint borrowers.\n\nMVS prompts both the primary and joint borrower to enter each of their financial, payroll, and paystub information in the same Connect session.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"657349a4-374b-4596-acff-697e9ea42108","name":"The URL link was successfully generated","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/jointBorrower","host":["{{baseUrl}}"],"path":["connect","v2","generate","jointBorrower"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"b47fa5e4-77ed-403d-b88f-bf26dd1bac91","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/jointBorrower","host":["{{baseUrl}}"],"path":["connect","v2","generate","jointBorrower"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"b2e1c9d6-3ebb-4250-b5c0-1491c61475d7","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/generate/jointBorrower","host":["{{baseUrl}}"],"path":["connect","v2","generate","jointBorrower"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Send Connect Email - Joint Borrower","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"eb1a7945-9d45-4f74-b892-298a62b52949"}}],"id":"e311e866-30f2-4bd4-a7f6-efe60c4d1170","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"partnerId\": \"{{partnerId}}\",\n    \"language\": \"en\",\n    \"borrowers\": [\n        {\n            \"customerId\": \"{{customerId}}\",\n            \"consumerId\": \"0bf46322c167b562e6cbed9d40e19a4c\",\n            \"type\": \"primary\",\n            \"optionalConsumerInfo\": {\n                \"ssn\": \"999999999\",\n                \"dob\": 1607450357\n            }\n        },\n        {\n            \"customerId\": \"{{customerId}}\",\n            \"consumerId\": \"0bf46322c167b562e6cbed9d40e19a4c\",\n            \"type\": \"jointBorrower\",\n            \"optionalConsumerInfo\": {\n                \"ssn\": \"999999999\",\n                \"dob\": 1607450357\n            }\n        }\n    ],\n    \"email\": {\n        \"to\": \"bob@example.com\",\n        \"supportPhone\": \"800-555-5555\",\n        \"subject\": \"Verify your income\",\n        \"firstName\": \"Bob\",\n        \"institutionName\": \"Acme Lending\",\n        \"institutionAddress\": \"222 Winipeg Drive SLC UT, 84109\",\n        \"signature\": [\n            \"Cindy Mayfield\",\n            \"Senior Loan Officer\",\n            \"Direct 123-456-7890\"\n        ]\n    },\n    \"redirectUri\": \"https://www.finicity.com/connect/\",\n    \"webhookContentType\": \"application/json\",\n    \"webhookData\": {},\n    \"webhookHeaders\": {},\n    \"institutionSettings\": {},\n    \"fromDate\": 1607450357,\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"singleUseUrl\": true\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/connect/v2/send/email/jointBorrower","host":["{{baseUrl}}"],"path":["connect","v2","send","email","jointBorrower"]},"description":"Same as Connect Joint Borrower (`POST /connect/v2/generate/jointBorrower`) but send a Connect email  to at least one of the joint borrower's email addresses. \n\nWhen the consumer opens the email, MVS prompts both the primary and joint borrower to enter each of their financial, payroll, and paystub information in the same Connect session.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"dbc7049d-6e1a-4d8c-a675-5a767ca4a4a2","name":"The URL link was successfully generated and the email sent.","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/send/email/jointBorrower","host":["{{baseUrl}}"],"path":["connect","v2","send","email","jointBorrower"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"764fa1e4-9baa-46b8-9562-b1343a5658c5","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/send/email/jointBorrower","host":["{{baseUrl}}"],"path":["connect","v2","send","email","jointBorrower"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"7f7cd795-a360-499b-8011-e7d30347223d","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/connect/v2/send/email/jointBorrower","host":["{{baseUrl}}"],"path":["connect","v2","send","email","jointBorrower"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]}],"id":"375e0f05-2eff-4c9b-9c44-05e1bc142383","description":"Allow customers to log into their financial institutions and grant Finicity authorization"},{"name":"Consumers","item":[{"name":"Create Consumer","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    // \"A consumer already exists for customer 5025024821\"\r","    pm.expect(pm.response.code).to.be.oneOf([200, 201, 409])\r","})"],"type":"text/javascript","id":"26e3ea09-9bcb-4ea1-a9c5-1a927c68ea0f"}}],"id":"f03df821-022d-471a-a129-ca636433a6fa","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"firstName\": \"Homer\",\n    \"lastName\": \"Loanseeke\",\n    \"address\": \"434 W Ascension Way\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"zip\": \"84123\",\n    \"phone\": \"1-800-986-3343\",\n    \"ssn\": \"999601111\",\n    \"birthday\": {\n        \"year\": 1970,\n        \"month\": 7,\n        \"dayOfMonth\": 4\n    },\n    \"email\": \"finicity@test.com\",\n    \"suffix\": \"Mr\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/{{customerId}}/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers","{{customerId}}","consumer"]},"description":"Create a consumer record associated with the given customer. A consumer persists as the owner of any reports that are generated, even after the original customer is deleted from the system.\n\nA consumer must be created for the given customer before calling any of the Generate Report services.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"ecb389a0-dc81-4b39-a3cb-a6525d42faf5","name":"The consumer was successfully created","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","consumer"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": \"0bf46322c167b562e6cbed9d40e19a4c\",\n \"createdDate\": 1607450357,\n \"customerId\": 1005061234\n}"},{"id":"ba9079b9-0b50-4c12-83bd-fcc6989fec61","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","consumer"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"733ac77d-8d38-4f5e-9b95-787fa3daee0e","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","consumer"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"604ddd6c-d357-403d-a8db-592da7aca386","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","consumer"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"},{"id":"12e820da-0e0e-4ec0-b613-44ddacd0e042","name":"The resource already exists","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","consumer"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Conflict","code":409,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 11000,\n \"message\": \"A consumer already exists for customer 4025024821\"\n}"}]},{"name":"Get Consumer For Customer","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"3fe41c3f-a151-47de-bcb1-457fa385067b"}}],"id":"45d9dd0d-4bca-43bd-85b3-0d9b2dc0f21e","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/{{customerId}}/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers","{{customerId}}","consumer"]},"description":"Get the details of a consumer record by customer ID.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"76b4249c-f14a-49c8-a151-89319d953b61","name":"The consumer was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","consumer"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"bd9c8207-3c9e-45ea-8138-94db918abcc0","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","consumer"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"1558f244-e474-4f6f-84f1-edf6f2abdcda","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","consumer"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"49af27a1-ecf5-468a-a2c8-cd12d7a4a2f8","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/consumer","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","consumer"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Consumer by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"5c943988-fb24-411e-a9a5-8c0192b3d423"}},{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const customerId = pm.environment.get(\"customerId\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","console.log(\"Fetching consumer ID ...\")\r","const options = {\r","    url:  baseUrl + \"/decisioning/v1/customers/\"+ customerId + \"/consumer\", \r","    method: 'GET',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    }\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(200)\r","    pm.variables.set(\"consumerId\", response.json().id)\r","})"],"type":"text/javascript","id":"ab0dd4bb-d70e-4429-811f-75c098467a7f"}}],"id":"e7452fee-faf5-4b5f-aa5d-00632ebe8290","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/{{consumerId}}","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers","{{consumerId}}"]},"description":"Get the details of a consumer record by consumer ID.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"7daaa843-291d-4546-8b9a-e071b6009d86","name":"The consumer was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"8e53aa37-5174-42e4-9cf3-6975a5717fc1","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"a7733f4c-f7a5-4ca3-97f1-d0592a1825ea","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"c418b984-a4cc-42bf-a08e-ee063ba531ad","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Modify Consumer by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(204)\r","})"],"type":"text/javascript","id":"866ff140-942c-4f73-8144-849ee2b572b3"}},{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const customerId = pm.environment.get(\"customerId\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","console.log(\"Fetching consumer ID ...\")\r","const options = {\r","    url:  baseUrl + \"/decisioning/v1/customers/\"+ customerId + \"/consumer\", \r","    method: 'GET',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    }\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(200)\r","    pm.variables.set(\"consumerId\", response.json().id)\r","})"],"type":"text/javascript","id":"d99c40a5-a97f-42d5-af93-243f521660b6"}}],"id":"0bb18620-974c-4a68-8325-b6b9f0374a8b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"firstName\": \"John\",\n    \"lastName\": \"Smith\",\n    \"address\": \"434 W Ascension Way\",\n    \"city\": \"Murray\",\n    \"state\": \"UT\",\n    \"zip\": \"84123\",\n    \"phone\": \"1-800-986-3343\",\n    \"ssn\": \"999601111\",\n    \"birthday\": {\n        \"year\": 1970,\n        \"month\": 7,\n        \"dayOfMonth\": 4\n    },\n    \"email\": \"finicity@test.com\",\n    \"suffix\": \"Mr\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/{{consumerId}}","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers","{{consumerId}}"]},"description":"Modify an existing consumer. All fields are required for a consumer record, but individual fields for this call are optional because fields that are not specified will be left unchanged.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"14cee421-17a9-4128-aaf7-16566d1d587f","name":"The consumer was successfully updated","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"26543cde-ca91-4f93-aab9-19bfa2d26c16","name":"The request was rejected","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"d2c56a2a-be29-4e2b-a951-fb2c120113f1","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"14e4c817-eeb2-46b6-959f-6b4fcf06d7d4","name":"The resource doesn't exist","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"76f365fd-0a28-4b3f-aa3d-610d04f4d300","description":"Create and manage consumers associated with customers in order to use report services"},{"name":"Customers","item":[{"name":"Add Testing Customer","event":[{"listen":"test","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(201)\r","})\r","\r","if (pm.response.code !== 201) {\r","    // Nothing to do\r","    return\r","}\r","\r","console.log(\"Request successful. Deleting created customer ...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v1/customers/\" + pm.response.json().id, \r","    method: 'DELETE',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    }\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.test(\"Clean-up\", function () {\r","        pm.expect(err).to.be.null\r","        pm.expect(response.code).to.equal(204)\r","    })\r","})"],"type":"text/javascript","id":"d33188dd-4343-4aab-bcd6-515c7f5dab64"}}],"id":"c54b66d0-def8-412d-9ded-35a187896568","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"username\": \"customer_{{$timestamp}}\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Smith\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/testing","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","testing"]},"description":"Enroll a testing customer ([Test Drive](https://signup.finicity.com/) accounts).\n\nFor using testing customers with FinBank OAuth, you must register a test application with your systems engineer or account manager. Then, use that testing `applicationId` when creating testing customers.\n\nTesting Customers can access FinBank profiles (except \"FinBank Billable\" profiles), and cannot access live financial institutions.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"5efd633e-141f-4d8d-a7ab-2a92daf6d59f","name":"The customer was successfully created","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/testing","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","testing"]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": \"1005061234\",\n \"username\": \"customerusername1\",\n \"createdDate\": 1607450357\n}"},{"id":"6fe3905d-ec43-461c-b010-6a99f7b13bb0","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/testing","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","testing"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"250f1516-a13d-4996-a6d8-4bf72ab9163e","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/testing","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","testing"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Add Customer","event":[{"listen":"test","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","pm.test(\"Check status code\", function () {\r","    // HTTP 401: \"Invalid (Finicity-App-Key)\", not available from the Test Drive\r","    pm.expect([201, 401]).contain(pm.response.code)\r","})\r","\r","if (pm.response.code !== 201) {\r","    // Nothing to do\r","    return\r","}\r","\r","console.log(\"Request successful. Deleting created customer ...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v1/customers/\" + pm.response.json().id, \r","    method: 'DELETE',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    }\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.test(\"Clean-up\", function () {\r","        pm.expect(err).to.be.null\r","        pm.expect(response.code).to.equal(204)\r","    })\r","})"],"type":"text/javascript","id":"a7698eb7-f056-4cf5-b961-fdf4162a2bd4"}}],"id":"a1cc3e63-095b-4689-90b5-051706ae7def","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"username\": \"customer_{{$timestamp}}\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Smith\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/active","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","active"]},"description":"Enroll an active customer, which is the actual owner of one or more real-world accounts. This is a billable customer.\n\nActive customers must use the \"FinBank Billable\" profiles for testing purposes.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"6e633d99-6683-43cf-bdcf-c968ee5efa09","name":"The customer was successfully created","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/active","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","active"]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": \"1005061234\",\n \"username\": \"customerusername1\",\n \"createdDate\": 1607450357\n}"},{"id":"dedc8783-b90e-47b4-9cae-32cf38dd1afe","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/active","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","active"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"865eb813-f6d4-45d8-968b-179fb91ec11a","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/active","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","active"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"09106949-f30c-4009-95fe-31f888494f80","name":"The service can't accept more requests or is not available from the [Test Drive](https://signup.finicity.com/).","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/active","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","active"]}},"status":"Too Many Requests","code":429,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""}]},{"name":"Get Customers","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"54e362ec-c6de-40f5-8a31-33aed22adf1c"}}],"id":"59c4d8e4-1bba-4f87-bd50-23befaf0d474","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers?username=&type=&search=&start=1&limit=25","host":["{{baseUrl}}"],"path":["aggregation","v1","customers"],"query":[{"key":"username","value":"","description":"Username for exact match (will return 0 or 1 record)"},{"key":"type","value":"","description":"\"testing\" or \"active\" to return only customers of that type, or leave empty to return all customers"},{"key":"search","value":"","description":"The text you wish to match. Leave this empty if you wish to return all customers. Must be URL-encoded (see: [Handling Spaces in Queries](https://docs.finicity.com/endpoint-syntax-and-format/))."},{"key":"start","value":"1","description":"Index of the page of results to return"},{"key":"limit","value":"25","description":"Maximum number of results per page"}]},"description":"Find all customers enrolled by the current partner, where the search text is found in the customer's username or any combination of `firstName` and `lastName` fields. If no search text is provided, all customers will be returned.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"7bf064f1-63aa-4f4c-98c0-26a52a5ccc79","name":"Customers were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers?username=customerusername1&type=active&search=searchvalue&start=1&limit=25","host":["{{baseUrl}}"],"path":["aggregation","v1","customers"],"query":[{"key":"username","value":"customerusername1"},{"key":"type","value":"active"},{"key":"search","value":"searchvalue"},{"key":"start","value":"1"},{"key":"limit","value":"25"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"ebbebc7d-a9ca-4a6d-aee1-6396bebbaae2","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers?username=customerusername1&type=active&search=searchvalue&start=1&limit=25","host":["{{baseUrl}}"],"path":["aggregation","v1","customers"],"query":[{"key":"username","value":"customerusername1"},{"key":"type","value":"active"},{"key":"search","value":"searchvalue"},{"key":"start","value":"1"},{"key":"limit","value":"25"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"4158beed-b506-4a8c-8185-632bcf07d395","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers?username=customerusername1&type=active&search=searchvalue&start=1&limit=25","host":["{{baseUrl}}"],"path":["aggregation","v1","customers"],"query":[{"key":"username","value":"customerusername1"},{"key":"type","value":"active"},{"key":"search","value":"searchvalue"},{"key":"start","value":"1"},{"key":"limit","value":"25"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Get Customer With App Data by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    // No registered partner applications found\r","    pm.expect(pm.response.code).to.equals(404)\r","})"],"type":"text/javascript","id":"075e4bce-93c3-4b2e-b0c5-38b29093dbba"}}],"id":"a81f6dac-bf0d-40f4-a13f-218807734a4b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/application","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","application"]},"description":"Retrieve a customer along with additional details about the OAuth application.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"5115c202-ebf8-4b9a-bddf-5f8bcbf712c7","name":"The customer was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/application","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","application"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"87f26053-5eb0-4e2c-b7af-80089368ba8a","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/application","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","application"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"a6671025-cd1e-4195-a4e9-057ce638a4f0","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/application","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","application"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"55d2df24-37ae-4ccc-b75c-b81c4ecff8f2","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/application","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","application"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Customer by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"ec1df260-2cca-4d76-b8a5-cfe3bf3d6048"}}],"id":"9d369e90-7a22-40a1-994f-90374c2393a2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}"]},"description":"Retrieve a customer by ID.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"d38fd678-9362-414d-9136-56dd3b68fa50","name":"The customer was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"30c8bc4d-513a-4fe9-9e5d-41f00ae2201a","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"20580f75-1cf1-462b-8777-916c32b29938","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"583c841e-98d6-4b3e-b293-16de78ece7cf","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Modify Customer by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(204)\r","})"],"type":"text/javascript","id":"cf02b5c3-4142-43e7-91bf-8f0c38135ff4"}}],"id":"9722f274-43b1-4c7a-89fa-78ac30abf31b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"firstName\": \"New First Name\",\n    \"lastName\": \"New Last Name\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}"]},"description":"Modify an enrolled customer by ID.\n\nYou must specify either `firstName`, `lastName`, or both in the request.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"7677e240-c8e3-4448-9fa3-cfb87bb3e8ab","name":"The customer was successfully updated","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"ffd1a10d-45ff-429c-b741-48ef9a8dc226","name":"The request was rejected","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"a73c7510-c8d6-4b3c-a53f-7cb82ad02fb9","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"515a469e-d2be-4929-b9b9-2f41f7621e27","name":"The resource doesn't exist","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Delete Customer by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(204)\r","})"],"type":"text/javascript","id":"800f7c76-90de-4fc8-911b-1c9c1a1d815a"}},{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","// Create a test customer we will delete later\r","console.log(\"Creating test customer ...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v2/customers/testing\", \r","    method: 'POST',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Content-type\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    },\r","    body: JSON.stringify({\r","        \"username\": \"customer\" + pm.variables.replaceIn(\"{{$timestamp}}\"),\r","        \"firstName\": \"John\",\r","        \"lastName\": \"Smith\"\r","    })\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(201)\r","    pm.variables.set(\"createdCustomerId\", response.json().id)\r","})"],"type":"text/javascript","id":"a50a693e-8ef8-45a8-bb3a-e1b6c8640d54"}}],"id":"16889d9d-cd68-46e4-8f24-448f0efc3eaf","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{createdCustomerId}}","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{createdCustomerId}}"]},"description":"Completely remove a customer from the system. This will remove the customer and all associated accounts and transactions.\n\nâš ï¸ Use this service carefully! It will not pause for confirmation before performing the operation!\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"bf831beb-2c29-4fd1-b912-779d54380ccf","name":"The customer was successfully deleted","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"7a67960e-5764-4457-928b-87e5ffb12ed6","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"d9e76e0f-6c24-4e72-9935-0705a47981a4","name":"The resource doesn't exist","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"a852c0ae-ac91-46d3-833f-3781fe91bf32","description":"Enroll and manage customers"},{"name":"Institutions","item":[{"name":"Get Certified Institutions With RSSD","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"e093d747-c958-42e7-b414-144e531b6b6c"}}],"id":"dc36556a-887b-44ae-b0e5-f61f45e3a88b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/institution/v2/certifiedInstitutions/rssd?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","certifiedInstitutions","rssd"],"query":[{"key":"search","value":"finbank","description":"Search term (financial institution `name` field). Leave empty for all FIs."},{"key":"start","value":"1","description":"Index of the page of results to return"},{"key":"limit","value":"25","description":"Maximum number of results per page"},{"key":"type","value":"voa","description":"A product type: \"transAgg\", \"ach\", \"stateAgg\", \"voi\", \"voa\", \"aha\", \"availBalance\", \"accountOwner\""}]},"description":"Search for certified financial institutions w/RSSD.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"59022166-3aba-4559-b7d2-888d29245af1","name":"Institutions were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/certifiedInstitutions/rssd?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","certifiedInstitutions","rssd"],"query":[{"key":"search","value":"finbank"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"type","value":"voa"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"bc914cce-5299-4981-bd70-400f3ed075a0","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/certifiedInstitutions/rssd?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","certifiedInstitutions","rssd"],"query":[{"key":"search","value":"finbank"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"type","value":"voa"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"1ad4f4e9-d8ed-48dc-85fb-21ade1cef98b","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/certifiedInstitutions/rssd?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","certifiedInstitutions","rssd"],"query":[{"key":"search","value":"finbank"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"type","value":"voa"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Get Institutions","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"4af4d2a2-8c68-4a0a-ad52-853abe7dfc52"}}],"id":"8dd8814b-d655-4862-aa7c-66087a604d63","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","institutions"],"query":[{"key":"search","value":"finbank","description":"Search term (financial institution `name` field). Leave empty for all FIs."},{"key":"start","value":"1","description":"Index of the page of results to return"},{"key":"limit","value":"25","description":"Maximum number of results per page"},{"key":"type","value":"voa","description":"A product type: \"transAgg\", \"ach\", \"stateAgg\", \"voi\", \"voa\", \"aha\", \"availBalance\", \"accountOwner\""}]},"description":"Search for financial institutions.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"44ecb6db-6406-4cbf-a0df-c1328140aad6","name":"Institutions were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","institutions"],"query":[{"key":"search","value":"finbank"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"type","value":"voa"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"0478f1f2-158c-403e-81df-fc5c40415111","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","institutions"],"query":[{"key":"search","value":"finbank"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"type","value":"voa"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"10b480d3-96a4-409d-8f7a-2d5a471a1c20","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","institutions"],"query":[{"key":"search","value":"finbank"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"type","value":"voa"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Get Certified Institutions","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"b79a1dae-0fe1-4de8-b8ed-98200353e21f"}}],"id":"3ec6c925-c8bb-4266-8cfa-c5527b6fd6b5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/institution/v2/certifiedInstitutions?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","certifiedInstitutions"],"query":[{"key":"search","value":"finbank","description":"Search term (financial institution `name` field). Leave empty for all FIs."},{"key":"start","value":"1","description":"Index of the page of results to return"},{"key":"limit","value":"25","description":"Maximum number of results per page"},{"key":"type","value":"voa","description":"A product type: \"transAgg\", \"ach\", \"stateAgg\", \"voi\", \"voa\", \"aha\", \"availBalance\", \"accountOwner\""}]},"description":"Search for financial institutions by certified product.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"9b0f4801-9700-4090-a333-54087507d762","name":"Institutions were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/certifiedInstitutions?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","certifiedInstitutions"],"query":[{"key":"search","value":"finbank"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"type","value":"voa"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"e7bd85a0-f922-4124-ba30-02ea4c99c7a9","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/certifiedInstitutions?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","certifiedInstitutions"],"query":[{"key":"search","value":"finbank"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"type","value":"voa"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"5d2eb037-37a2-4d69-ac77-2322b79f83a3","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/certifiedInstitutions?search=finbank&start=1&limit=25&type=voa","host":["{{baseUrl}}"],"path":["institution","v2","certifiedInstitutions"],"query":[{"key":"search","value":"finbank"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"type","value":"voa"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"}]},{"name":"Get Institution by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"825029e6-3a3d-47cc-b851-0393a3ddb35d"}}],"id":"ad94d24a-c8e4-49d3-a6e8-73dd248a25e3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/{{institutionId}}","host":["{{baseUrl}}"],"path":["institution","v2","institutions","{{institutionId}}"]},"description":"Get financial institution details by ID.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"dfb97b96-385b-438c-b2e3-384a8eba9afa","name":"Institution was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/:institutionId","host":["{{baseUrl}}"],"path":["institution","v2","institutions",":institutionId"],"variable":[{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"48bbe257-45d7-4e6f-9134-6201bb721d9f","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/:institutionId","host":["{{baseUrl}}"],"path":["institution","v2","institutions",":institutionId"],"variable":[{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"3bed2b78-0c33-4d81-8404-621eec0d534a","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/:institutionId","host":["{{baseUrl}}"],"path":["institution","v2","institutions",":institutionId"],"variable":[{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"fb571ad0-186d-4541-86a5-ae200283469f","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/:institutionId","host":["{{baseUrl}}"],"path":["institution","v2","institutions",":institutionId"],"variable":[{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Institution Branding by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"8e7d86ba-79ed-44f4-9671-863ec0b74034"}}],"id":"6b5e21ed-99c4-4e01-a2f7-ef3aa92e865a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/{{institutionId}}/branding","host":["{{baseUrl}}"],"path":["institution","v2","institutions","{{institutionId}}","branding"]},"description":"Return the branding information for a financial institution.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"f4aea387-84ac-44ad-9030-3f7217a7c628","name":"Institution branding was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/:institutionId/branding","host":["{{baseUrl}}"],"path":["institution","v2","institutions",":institutionId","branding"],"variable":[{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"f7675eb6-b277-47fd-872e-4bacf729270b","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/:institutionId/branding","host":["{{baseUrl}}"],"path":["institution","v2","institutions",":institutionId","branding"],"variable":[{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"9a0b3dd8-5a93-4cb7-a07d-069fa817d7ad","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/:institutionId/branding","host":["{{baseUrl}}"],"path":["institution","v2","institutions",":institutionId","branding"],"variable":[{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"70b42d13-7463-41de-8159-924921971831","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/institution/v2/institutions/:institutionId/branding","host":["{{baseUrl}}"],"path":["institution","v2","institutions",":institutionId","branding"],"variable":[{"key":"institutionId","value":"4222","description":"(Required) The institution ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"53ecde59-2aef-4780-a5dd-d492cb56a7d0","description":"Search and fetch financial institutions","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","pm.variables.set(\"institutionId\", \"4222\") // Principal Financial - Retirement (Personal)"],"id":"064404ec-42c7-4fd5-b1ce-e1c8dd54dfbb"}}]},{"name":"Pay Statements","item":[{"name":"Store Customer Pay Statement","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"45a0c4ab-681e-4cc0-9c90-7bbd587036b8"}}],"id":"7669df23-cc6f-4b5d-9e64-4142df167a65","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"label\": \"lastPayPeriod\",\n    \"statement\": \"VGhpcyBtdXN0IGJlIGFuIGltYWdl\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/payStatements","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","payStatements"]},"description":"Use this service to upload pay statements for a customer.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"8b16b5b3-a02e-41bb-8ca6-fa70259fb132","name":"The pay statement was successfully uploaded","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/payStatements","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","payStatements"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"08240dbb-7991-4f14-a51a-8f60d59c7d23","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/payStatements","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","payStatements"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"84cde913-0ae2-4742-a040-0785226b5dd3","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/payStatements","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","payStatements"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"5fd0de91-731e-4290-8c68-1982ac49ca3e","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/payStatements","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","payStatements"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"18268860-cd6a-4d95-8491-486cb8a95b7b","description":"Upload pay statements"},{"name":"Payments","item":[{"name":"Get Account Owner","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"417aef02-203a-4c29-ae49-d32d1636c70e"}}],"id":"63505b01-88cf-4207-a8b8-21365f8c6ab5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{accountId}}/owner","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{accountId}}","owner"]},"description":"Retrieve the names and addresses of the account owner from a financial institution.\n\nNote: this is a premium service, billable per every successful API call.\n\nThis service retrieves account data from the institution. This usually returns quickly, but in some scenarios may take a few minutes to complete. In the event of a timeout condition, retry the call.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"a188d806-7343-4412-8671-719cda3869f3","name":"The account owner was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/owner","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","owner"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"50ed461f-b9a7-4400-ab70-00e5c311e8db","name":"The response contains an MFA challenge in XML or JSON format. Contact your Account Manager or Systems Engineers to determine the best route to handle this error.","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/owner","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","owner"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Non-Authoritative Information (since HTTP/1.1)","code":203,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"f6155712-bcd9-4fdb-889d-29eb75849476","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/owner","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","owner"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"877dceb4-e579-4f25-98a7-2c4c2893d836","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/owner","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","owner"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"9f06ed3c-ea52-47cb-a7c4-08161d802ef4","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/owner","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","owner"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Account Owner Details","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"4a6a8d9e-6b97-4737-8c5a-42040820f855"}}],"id":"967bfbbf-60e7-4582-ab29-75cbc79a91ae","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/{{customerId}}/accounts/{{accountId}}/owner?withInsights=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers","{{customerId}}","accounts","{{accountId}}","owner"],"query":[{"key":"withInsights","value":"true","description":"If this parameter is true, Identity Insights data will be returned along with the account owner information"}]},"description":"This service retrieves the account details for an account holder from an institution. The following data objects are available.\n* Account holders\n* Addresses\n* Emails\n* Phones\n* Documentations\n* Identity Insights\n\nNote: the data returned varies from institution to institution as not all of them make the same data available. This is a premium service, billable per each successful API call.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"886788f7-3b4e-4184-a0b9-93f2177f8679","name":"The account owner was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/accounts/:accountId/owner?withInsights=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","accounts",":accountId","owner"],"query":[{"key":"withInsights","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"8286f1b5-1139-479e-a5be-66f6e20d2c31","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/accounts/:accountId/owner?withInsights=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","accounts",":accountId","owner"],"query":[{"key":"withInsights","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"8aa37058-d40d-47bd-b0fd-84ff968d2586","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/accounts/:accountId/owner?withInsights=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","accounts",":accountId","owner"],"query":[{"key":"withInsights","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"}]},{"name":"Get Loan Payment Details","event":[{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const customerId = pm.environment.get(\"customerId\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","const loanAccountId = pm.variables.get(\"loanAccountId\")\r","if (loanAccountId) {\r","    return\r","}\r","\r","console.log(\"Fetching account ID ...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts\",\r","    method: 'GET',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    }\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(200)\r","    const account = response.json().accounts[0]\r","    pm.variables.set(\"loanAccountId\", account.id)\r","})"],"type":"text/javascript","id":"3a1acb68-0a9f-4b05-8560-736812012460"}}],"id":"92f4e7ed-0e5c-4068-b2e0-a8bc87df8665","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/{{customerId}}/accounts/{{loanAccountId}}/loanDetails","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","{{customerId}}","accounts","{{loanAccountId}}","loanDetails"]},"description":"Return the loan payment details of the customer for a loan-type account.\n\nNote: this is a premium service, billable per every successful API call.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"c7373fa8-1da2-438e-8426-2036d3601635","name":"The loan payment details were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/accounts/:accountId/loanDetails","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","accounts",":accountId","loanDetails"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"ec6d73e3-4f1c-44e9-a768-3a37485543d0","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/accounts/:accountId/loanDetails","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","accounts",":accountId","loanDetails"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"b8eeb132-6c96-4641-9a3d-f0c882886ddf","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/accounts/:accountId/loanDetails","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","accounts",":accountId","loanDetails"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"c49b888e-4a53-4185-b028-6f9395a1b39d","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/accounts/:accountId/loanDetails","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","accounts",":accountId","loanDetails"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Account ACH Details","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"9a0d8129-86f5-4357-be93-b89d303ecb07"}}],"id":"bb399996-58ab-440b-add0-9189476fc2ea","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{savingAccountId}}/details","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{savingAccountId}}","details"]},"description":"Return the real account number and routing number details for an ACH payment.\n\nNote: this is a premium service, billable per every successful API call.\n\n_Supported account types_: \"checking\", \"savings\", \"moneyMarket\", \"loan\"\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"86359630-a830-4151-a420-0cd1cae2a10b","name":"Account ACH details were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/details","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","details"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"8420d78e-1cf8-4b4f-bae7-0666c9682a96","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/details","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","details"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"8d65861d-d637-482f-8e4a-98936f0fd072","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/details","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","details"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"0adae420-88b6-48ce-983a-70c48f174958","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/details","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","details"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Available Balance - Live","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"1b9d76f2-be89-424e-9ed4-3779f8540001"}}],"id":"12dbdc7e-ab48-4758-af62-d378e333539f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{savingAccountId}}/availableBalance/live","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{savingAccountId}}","availableBalance","live"]},"description":"Retrieve the available and cleared account balances for a single account in real-time directly from a financial institution.\n\nNote: this is a premium service, billable per every successful API call.\n\n_Supported account types_: \"checking\", \"savings\", \"moneyMarket\", \"cd\"\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"7a4e6e4e-8533-4bc6-a629-f789819b751e","name":"The live balance was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/availableBalance/live","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","availableBalance","live"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"5fa6abc8-f7a1-450b-b340-1f179a9647c9","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/availableBalance/live","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","availableBalance","live"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"4f8e1261-c4b8-4507-a6fc-d62284777c29","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/availableBalance/live","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","availableBalance","live"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"0bf0cbff-be98-4cbb-8f72-f47fe27d49f0","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/availableBalance/live","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","availableBalance","live"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Available Balance","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"aa5fd4d7-2d5e-4658-82bf-8cdc07433c41"}}],"id":"2ef43f75-0ee5-4181-9d36-c20561530ae7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{savingAccountId}}/availableBalance","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{savingAccountId}}","availableBalance"]},"description":"Retrieve the latest cached available and cleared account balances for a customer. Since we update and store balances throughout the day, this is the most accurate balance information available when a connection to a financial institution is unavailable or when a faster response is needed. Only deposit account types are supported: Checking, Savings, Money Market, and CD.\n\nNote: this is a premium service, billable per every successful API call. Enrollment is required.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"db348e4f-ce6b-4199-b265-2e5db3f366bf","name":"The balance was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/availableBalance","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","availableBalance"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"fdeafcaf-b5a2-41f3-9bb2-cc33a05fd2be","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/availableBalance","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","availableBalance"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"7c10d7ee-ae14-4483-a095-1b1a0124d056","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/availableBalance","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","availableBalance"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"02829967-6e83-45d4-84ae-98a0928d185e","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/availableBalance","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","availableBalance"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"1092b432-2c5e-4e11-aa3c-b0e1eb3beb4a","description":"Fetch ACH details and account balances","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","","const savingAccountId = pm.variables.get(\"savingAccountId\")","const accountId = pm.variables.get(\"accountId\")","if (savingAccountId && accountId) {","    return","}","","console.log(\"Fetching account IDs\")","const options = {","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts\",","    method: 'GET',","    header: {","        \"Accept\": \"application/json\",","        \"Finicity-App-Key\": appKey,","        \"Finicity-App-Token\": appToken","    }","}","pm.sendRequest(options, function (err, response) {","    pm.expect(err).to.be.null","    pm.expect(response.code).to.equals(200)","    const accounts = response.json().accounts;","    const account = accounts.filter(a => a.type === \"savings\")[0]","    pm.variables.set(\"savingAccountId\", account.id)","    pm.variables.set(\"accountId\", accounts[0].id)","})"],"id":"b411adb0-2732-4ae7-8551-e1ddae9aa2e2"}}]},{"name":"Payment History","item":[{"name":"Generate Payment History","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","\r","    /* Store the report ID */\r","    const reportId = pm.response.json().reportId\r","    pm.globals.set(\"obbReportId\", reportId)\r","})"],"type":"text/javascript","id":"f8409ce8-6c95-47e7-8276-412192cf1fdb"}}],"id":"a2fff031-70db-4212-a412-18017aad6193","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/{{customerId}}?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer","{{customerId}}"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}]},"description":"Payment history report analyzes up to 12-months of transactions and predicts the probability that a SMB will experience a payment risk event, such as NSF/Overdraft or missed recurring payments, in the near future when making a payment. The Risk Score provided in the report is a 2-digit ranking with four levels of risk going from low to high.\n\nSome of the highlights of calculated risk present in the report include:\n* Risk Score representing the likelihood of a missed payment\n  based on analysis of permissioned open-banking data\n\n* Monthly average balance for all accounts by month in the requested\n  time period\n\n* Total deposit amount by month for all accounts in the requested time\n  period\n\n* Total withdrawal amounts by month for all accounts in the requested\n  time period\n\n* Number of NSF counts and aggregate amount per month in the requested\n  time period\n\n* Recurring loan payment amounts per month in the requested time period\n* Insurance payment amount per month in the requested time period\n* Tax payment amounts per month in the requested time period\n\nThis version of the API is intended for piloting and integration testing your application with the Payment History product. It does not adhere to FCRA requirements, and should not be used for production/lending purposes. See _Generate Payment History - FCRA_ for the FCRA compliant version of this API.\n\n*Note:* this is a premium service, billable per every successful API call for non-testing customers.\n\nA successful call to this API will generate analytics and store a report within Finicity. The report can be retrieved via _Get OBB Analytics Report_ (operation: _GetObbAnalyticsReport_).\n*Note:* this is a premium service, billable per every successful API call for non-testing customers.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"c1be4e30-4aad-4107-aec9-8fb129e7fb12","name":"Response given when payment history was generated successfully, providing the caller with a report ID which can be used to retrieve the report as JSON or a PDF.","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"reportId\": \"145cabe0-2b38-4175-9b7e-115431359839\",\n  \"reportPin\": \"qert\",\n  \"customerId\": 10001,\n  \"accountIds\": [\n    10001,\n    10002,\n    10003\n  ],\n  \"title\": \"Finicity Payment History\",\n  \"createdDate\": \"2022-02-10T05:00:00-07:00\",\n  \"businessId\": 123,\n  \"requesterName\": \"Mortage ABC LLC\"\n}"},{"id":"b78c2971-5c07-43b2-bd97-c4b09b9b635b","name":"A bad request was provided","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 400,\n  \"message\": \"Missing required parameter 'customerId'\"\n}"},{"id":"7c636082-c02e-4d2a-a460-1cdac5da1dc9","name":"Unauthorized request","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"fdd32309-bad8-4740-9b4b-08ef31a595fe","name":"Access forbidden","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"da33f129-052e-4ebd-a355-cddecf1d79a9","name":"Resource not found","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 404,\n  \"message\": \"Customer not found\"\n}"}]},{"name":"Generate Payment History - FCRA","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(409)\r","    const body = pm.response.json()\r","    pm.expect(body.errorCode).to.equals(409)\r","    pm.expect(body.message).to.equals(\"requested customer is not registered as a business\")\r","})\r","\r","if (pm.response.code === 200) {\r","    /* Store the report ID */\r","    const reportId = pm.response.json().reportId\r","    pm.globals.set(\"obbFcraReportId\", reportId)\r","}"],"type":"text/javascript","id":"be9f7abb-cca9-4c87-8c99-a3fd51027772"}}],"id":"562d3909-fc65-46b4-badb-d2ab7290b18c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Accept","value":"application/json","type":"text"},{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/{{customerId}}/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer","{{customerId}}","fcra"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}]},"description":"Payment history report analyzes up to 12-months of transactions and predicts the probability that a SMB will experience a payment risk event, such as NSF/Overdraft or missed recurring payments, in the near future when making a payment. The Risk Score provided in the report is a 2-digit ranking with four levels of risk going from low to high.\n\nSome of the highlights of calculated risk present in the report include:\n* Risk Score representing the likelihood of a missed payment\n  based on analysis of permissioned open-banking data\n\n* Monthly average balance for all accounts by month in the requested\n  time period\n\n* Total deposit amount by month for all accounts in the requested time\n  period\n\n* Total withdrawal amounts by month for all accounts in the requested\n  time period\n\n* Number of NSF counts and aggregate amount per month in the requested\n  time period\n\n* Recurring loan payment amounts per month in the requested time period\n* Insurance payment amount per month in the requested time period\n* Tax payment amounts per month in the requested time period\n\nThis version of the API is intended for production use. It maintains and\n enforces all compliance iwth FCRA rules and requirements.\n\n\n*Note:* this is a premium service, billable per every successful API call for non-testing customers.\n\nA successful call to this API will generate analytics and store a report within Finicity. The report can be retrieved via _Get OBB Analytics Report - FCRA_  (operation: _GetObbAnalyticsReportFcra_).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"8f84a2e4-6025-4e66-99fe-157f549da2bb","name":"Response given when payment history (FCRA) was generated successfully, providing the caller with a report ID which can be used to retrieve the report as JSON or a PDF.","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"reportId\": \"145cabe0-2b38-4175-9b7e-115431359839\",\n  \"reportPin\": \"qert\",\n  \"customerId\": 10001,\n  \"accountIds\": [\n    10001,\n    10002,\n    10003\n  ],\n  \"title\": \"Finicity Payment History\",\n  \"createdDate\": \"2022-02-10T05:00:00-07:00\",\n  \"businessId\": 123,\n  \"requesterName\": \"Mortage ABC LLC\"\n}"},{"id":"dac94191-79d4-401d-a439-d964080e8a90","name":"A bad request was provided","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 400,\n  \"message\": \"Missing required parameter 'customerId'\"\n}"},{"id":"ff6fd710-fc88-4aed-9012-296b9978cbac","name":"Unauthorized request","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"2ca4be53-1e8c-493d-b9a4-2aeb1790173b","name":"Access forbidden","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"37c62f47-d798-4920-801d-4d6679939812","name":"Resource not found","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 404,\n  \"message\": \"Customer not found\"\n}"},{"id":"a081db5c-fe86-432d-a3ed-dff01a384d1b","name":"Resource conflict","originalRequest":{"method":"POST","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/payment-history/v1/customer/:customerId/fcra?reference-number=abc123","host":["{{baseUrl}}"],"path":["analytics","payment-history","v1","customer",":customerId","fcra"],"query":[{"key":"reference-number","value":"abc123","description":"Partner-provided reference number to correlate reports."}],"variable":[{"key":"customerId"}]}},"status":"Conflict","code":409,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 409,\n  \"message\": \"Customer is not registered as a business\"\n}"}]},{"name":"Get OBB Analytics Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"84fa6160-a910-4f99-8c06-d405c95e6f0c"}}],"id":"1ade54ed-260d-4aa4-8cae-d3ee5638e12a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/{{obbReportId}}","host":["{{baseUrl}}"],"path":["analytics","data","v1","{{obbReportId}}"]},"description":"Retrieve the report saved by _Generate Balance Analytics_, _Generate Cash Flow Analytics_, or _Generate Payment History_. Requires the report ID generated by the previous call.\n\nReport data can either be retrieved as a JSON document or PDF file.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"8978fb8e-9c44-4168-8a70-916716ff6eca","name":"OBB Analytics report data as JSON or PDF","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountResults\": [\n    {\n      \"accountDetails\": {\n        \"accountNumberDisplay\": \"8888\",\n        \"accountOwner\": {\n          \"address\": \"123 Main St, Portland, OR 12345\",\n          \"name\": \"Johnny Appleseed\"\n        },\n        \"aggregationAttemptDate\": \"2022-03-30T14:47:19-07:00\",\n        \"aggregationStatusCode\": 0,\n        \"aggregationSuccessDate\": \"2022-03-30T14:47:19-07:00\",\n        \"currency\": \"USD\",\n        \"currentBalance\": 2239.22,\n        \"id\": \"1234902309er\",\n        \"institution\": {\n          \"institutionIconUrl\": \"https://prod-carpintero-branding.s3.us-west-2.amazonaws.com/101732/icon.svg\",\n          \"institutionId\": 12345,\n          \"institutionName\": \"Wells Fargo\",\n          \"institutionPrimaryColor\": \"#1B3E4A\"\n        },\n        \"institutionLoginId\": 1007302745,\n        \"name\": \"Super Checking\",\n        \"realAccountNumberLast4\": 5678,\n        \"status\": \"active\",\n        \"type\": \"checking\"\n      },\n      \"accountId\": 5001127492,\n      \"balanceAnalyticsMetrics\": {\n        \"availableBalance\": {\n          \"description\": \"Available Balance\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"availableBalanceDate\": {\n          \"description\": \"Available Balance date\",\n          \"example\": \"2022-02-18T02:34:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"averageDailyBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Daily Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"averageWeekdayBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Weekday Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n          {\n            \"count\": 5,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"currentRunningBalance\": {\n          \"description\": \"Current Running Balance Date\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"currentRunningBalanceDate\": {\n          \"description\": \"Current Running Balance date\",\n          \"example\": \"2022-02-10T05:00:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"dailyBalancesForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n          \"historicAverageWeeklyBalances\": [\n            {\n              \"amount\": 679.07,\n              \"fromDate\": \"2020-01-01\",\n              \"toDate\": \"2020-01-07\",\n              \"week\": 1\n            }\n          ],\n          \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n          \"historicNumberOfWeeksWithDataAvailable\": 4\n        },\n        \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n        \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n      },\n      \"currentReportRequest\": {\n        \"reportBeginDate\": \"2022-03-01\",\n        \"reportEndDate\": \"2022-03-30\",\n        \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n        \"requestedDaysForReport\": 90,\n        \"requestedReportBeginDate\": \"2022-01-01\"\n      },\n      \"historicDataAvailability\": {\n        \"historicAvailabilityBeginDate\": \"2022-03-01\",\n        \"historicAvailabilityEndDate\": \"2022-03-30\",\n        \"historicAvailableDays\": 30,\n        \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n      }\n    }\n  ],\n  \"businessId\": 4444,\n  \"businessSummary\": {\n    \"balanceAnalyticsMetrics\": {\n      \"availableBalance\": {\n        \"description\": \"Available Balance\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"availableBalanceDate\": {\n        \"description\": \"Available Balance date\",\n        \"example\": \"2022-02-18T02:34:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"averageDailyBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Daily Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"averageWeekdayBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Weekday Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n        {\n          \"count\": 5,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"currentRunningBalance\": {\n        \"description\": \"Current Running Balance Date\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"currentRunningBalanceDate\": {\n        \"description\": \"Current Running Balance date\",\n        \"example\": \"2022-02-10T05:00:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"dailyBalancesForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n        \"historicAverageWeeklyBalances\": [\n          {\n            \"amount\": 679.07,\n            \"fromDate\": \"2020-01-01\",\n            \"toDate\": \"2020-01-07\",\n            \"week\": 1\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n        \"historicNumberOfWeeksWithDataAvailable\": 4\n      },\n      \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n      \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n    },\n    \"currentReportRequest\": {\n      \"reportBeginDate\": \"2022-03-01\",\n      \"reportEndDate\": \"2022-03-30\",\n      \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n      \"requestedDaysForReport\": 90,\n      \"requestedReportBeginDate\": \"2022-01-01\"\n    },\n    \"historicDataAvailability\": {\n      \"historicAvailabilityBeginDate\": \"2022-03-01\",\n      \"historicAvailabilityEndDate\": \"2022-03-30\",\n      \"historicAvailableDays\": 30,\n      \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n    }\n  },\n  \"customerId\": 10001,\n  \"reportHeader\": {\n    \"businessAddress\": \"123 Main St\",\n    \"businessCity\": \"Portland\",\n    \"businessName\": \"B&G Construction\",\n    \"businessState\": \"OR\",\n    \"businessZip\": \"12345\",\n    \"referenceNumber\": \"32asdfaasd0823\",\n    \"reportDate\": \"2022-03-16T21:28:38-07:00\",\n    \"reportId\": \"8ff8b4b2-706f-45c3-8d66-857bdb516214\"\n  },\n  \"requesterName\": \"Mortgage ABC LLC\",\n  \"title\": \"Fincity Balance Analytics\"\n}"},{"id":"79b5ff04-968b-4888-a8a5-19cbba28fcf3","name":"Unauthorized request","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"418d0ea6-222f-41ef-b0f1-6bed38a57c11","name":"Access forbidden","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"4b88a8c3-0180-4281-9073-f4b2579459bc","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id"],"variable":[{"key":"obb_report_id"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get OBB Analytics Report - FCRA","id":"ef799fa2-c3f3-4e3b-9dad-04b4814e9650","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/{{obbFcraReportId}}/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1","{{obbFcraReportId}}","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}]},"description":"Retrieve the report saved by _Generate Balance Analytics - FCRA_, _Generate Cash Flow Analytics - FCRA_, or _Generate Payment History - FCRA_. Requires the report ID generated by the previous call.\n\nReport data can either be retrieved as a JSON document or PDF file.\n\n_Note:_ this is a premium service, billable per every successful API call for non-testing customers.\n\n_Supported regions_:\n\n<img src=\"https://flagcdn.com/20x15/us.png\" alt=\"ðŸ‡ºðŸ‡¸\">"},"response":[{"id":"d95e0814-dfe3-4f23-8e58-189ac7f1b991","name":"OBB Analytics FCRA report data as JSON or PDF","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"accountResults\": [\n    {\n      \"accountDetails\": {\n        \"accountNumberDisplay\": \"8888\",\n        \"accountOwner\": {\n          \"address\": \"123 Main St, Portland, OR 12345\",\n          \"name\": \"Johnny Appleseed\"\n        },\n        \"aggregationAttemptDate\": \"2022-03-30T14:47:19-07:00\",\n        \"aggregationStatusCode\": 0,\n        \"aggregationSuccessDate\": \"2022-03-30T14:47:19-07:00\",\n        \"currency\": \"USD\",\n        \"currentBalance\": 2239.22,\n        \"id\": \"1234902309er\",\n        \"institution\": {\n          \"institutionIconUrl\": \"https://prod-carpintero-branding.s3.us-west-2.amazonaws.com/101732/icon.svg\",\n          \"institutionId\": 12345,\n          \"institutionName\": \"Wells Fargo\",\n          \"institutionPrimaryColor\": \"#1B3E4A\"\n        },\n        \"institutionLoginId\": 1007302745,\n        \"name\": \"Super Checking\",\n        \"realAccountNumberLast4\": 5678,\n        \"status\": \"active\",\n        \"type\": \"checking\"\n      },\n      \"accountId\": 5001127492,\n      \"balanceAnalyticsMetrics\": {\n        \"availableBalance\": {\n          \"description\": \"Available Balance\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"availableBalanceDate\": {\n          \"description\": \"Available Balance date\",\n          \"example\": \"2022-02-18T02:34:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"averageDailyBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Daily Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"averageWeekdayBalanceForTheReportTimePeriod\": {\n          \"description\": \"Average Weekday Balance\",\n          \"example\": -10442.53,\n          \"type\": \"number\"\n        },\n        \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n          {\n            \"count\": 5,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"currentRunningBalance\": {\n          \"description\": \"Current Running Balance Date\",\n          \"example\": 1000.01,\n          \"type\": \"number\"\n        },\n        \"currentRunningBalanceDate\": {\n          \"description\": \"Current Running Balance date\",\n          \"example\": \"2022-02-10T05:00:00-07:00\",\n          \"type\": \"string\",\n          \"minLength\": 25,\n          \"maxLength\": 25\n        },\n        \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"dailyBalancesForTheReportTimePeriod\": [\n          {\n            \"date\": \"2021-10-11\",\n            \"dayOfWeek\": \"Monday\",\n            \"endingBalance\": 21527.3\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n          \"historicAverageWeeklyBalances\": [\n            {\n              \"amount\": 679.07,\n              \"fromDate\": \"2020-01-01\",\n              \"toDate\": \"2020-01-07\",\n              \"week\": 1\n            }\n          ],\n          \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n          \"historicNumberOfWeeksWithDataAvailable\": 4\n        },\n        \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n        \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n          {\n            \"amount\": 890.99,\n            \"period\": \"last30to1\",\n            \"periodBeginDate\": \"2022-03-01\",\n            \"periodEndDate\": \"2022-03-30\"\n          }\n        ],\n        \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n      },\n      \"currentReportRequest\": {\n        \"reportBeginDate\": \"2022-03-01\",\n        \"reportEndDate\": \"2022-03-30\",\n        \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n        \"requestedDaysForReport\": 90,\n        \"requestedReportBeginDate\": \"2022-01-01\"\n      },\n      \"historicDataAvailability\": {\n        \"historicAvailabilityBeginDate\": \"2022-03-01\",\n        \"historicAvailabilityEndDate\": \"2022-03-30\",\n        \"historicAvailableDays\": 30,\n        \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n      }\n    }\n  ],\n  \"businessId\": 4444,\n  \"businessSummary\": {\n    \"balanceAnalyticsMetrics\": {\n      \"availableBalance\": {\n        \"description\": \"Available Balance\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"availableBalanceDate\": {\n        \"description\": \"Available Balance date\",\n        \"example\": \"2022-02-18T02:34:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"averageDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"averageDailyBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Daily Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"averageWeekdayBalanceForTheReportTimePeriod\": {\n        \"description\": \"Average Weekday Balance\",\n        \"example\": -10442.53,\n        \"type\": \"number\"\n      },\n      \"countDailyNegativeBalancesByMonthForTheReportTimePeriod\": [\n        {\n          \"count\": 5,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"currentRunningBalance\": {\n        \"description\": \"Current Running Balance Date\",\n        \"example\": 1000.01,\n        \"type\": \"number\"\n      },\n      \"currentRunningBalanceDate\": {\n        \"description\": \"Current Running Balance date\",\n        \"example\": \"2022-02-10T05:00:00-07:00\",\n        \"type\": \"string\",\n        \"minLength\": 25,\n        \"maxLength\": 25\n      },\n      \"dailyBalancesByWeekdayForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"dailyBalancesForTheReportTimePeriod\": [\n        {\n          \"date\": \"2021-10-11\",\n          \"dayOfWeek\": \"Monday\",\n          \"endingBalance\": 21527.3\n        }\n      ],\n      \"historicNumberOfWeeksAverageBalanceIncreasing\": {\n        \"historicAverageWeeklyBalances\": [\n          {\n            \"amount\": 679.07,\n            \"fromDate\": \"2020-01-01\",\n            \"toDate\": \"2020-01-07\",\n            \"week\": 1\n          }\n        ],\n        \"historicNumberOfWeeksAverageBalanceIncreasing\": 3,\n        \"historicNumberOfWeeksWithDataAvailable\": 4\n      },\n      \"maximumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"maximumRunningBalanceForTheReportTimePeriod\": -28749.44,\n      \"minimumDailyBalanceByMonthForTheReportTimePeriod\": [\n        {\n          \"amount\": 890.99,\n          \"period\": \"last30to1\",\n          \"periodBeginDate\": \"2022-03-01\",\n          \"periodEndDate\": \"2022-03-30\"\n        }\n      ],\n      \"minimumRunningBalanceForTheReportTimePeriod\": -28749.44\n    },\n    \"currentReportRequest\": {\n      \"reportBeginDate\": \"2022-03-01\",\n      \"reportEndDate\": \"2022-03-30\",\n      \"reportRequestDate\": \"2022-03-30T14:47:19-07:00\",\n      \"requestedDaysForReport\": 90,\n      \"requestedReportBeginDate\": \"2022-01-01\"\n    },\n    \"historicDataAvailability\": {\n      \"historicAvailabilityBeginDate\": \"2022-03-01\",\n      \"historicAvailabilityEndDate\": \"2022-03-30\",\n      \"historicAvailableDays\": 30,\n      \"historicDataAvailability\": \"Data is available from 2022-03-01 to 2022-03-30\"\n    }\n  },\n  \"customerId\": 10001,\n  \"reportHeader\": {\n    \"businessAddress\": \"123 Main St\",\n    \"businessCity\": \"Portland\",\n    \"businessName\": \"B&G Construction\",\n    \"businessState\": \"OR\",\n    \"businessZip\": \"12345\",\n    \"referenceNumber\": \"32asdfaasd0823\",\n    \"reportDate\": \"2022-03-16T21:28:38-07:00\",\n    \"reportId\": \"8ff8b4b2-706f-45c3-8d66-857bdb516214\"\n  },\n  \"requesterName\": \"Mortgage ABC LLC\",\n  \"title\": \"Fincity Balance Analytics\"\n}"},{"id":"6d26b3b8-4131-40ec-9da5-4b99bde8cd0b","name":"Unauthorized request","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 401,\n  \"message\": \"Invalid Finicity-App-Key\"\n}"},{"id":"26220220-dab4-419c-a368-eb99f375db37","name":"Access forbidden","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"errorCode\": 403,\n  \"message\": \"Partner does not have access to this resource\"\n}"},{"id":"353a0c7e-8d57-4ade-b22b-54128ed7d041","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"key":"Accept","value":"application/json"},{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/analytics/data/v1/:obb_report_id/fcra?purpose=31","host":["{{baseUrl}}"],"path":["analytics","data","v1",":obb_report_id","fcra"],"query":[{"key":"purpose","value":"31","description":"(Required) 2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}],"variable":[{"key":"obb_report_id"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"e1350ebc-82e8-4460-a004-8a34abe52c85","description":"Payment History for business"},{"name":"Portfolios","item":[{"name":"Get Portfolio by Customer","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    // HTTP 404: report not yet ready\r","    pm.expect([200, 404]).contain(pm.response.code)\r","})"],"type":"text/javascript","id":"c8068224-c537-4be9-9489-b79529c0086d"}}],"id":"c9cf841d-91e2-47e8-8892-290dd4948135","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/{{customerId}}/portfolios/{{portfolioId}}","host":["{{baseUrl}}"],"path":["decisioning","v1","customers","{{customerId}}","portfolios","{{portfolioId}}"]},"description":"Return a portfolio of most recently generated reports for each report type for the given customer. If there are multiple reports that were generated for a report type (VOA, VOI, etc.), only the most recently generated report for the type will be returned.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"f0ef1746-716c-4d0e-9943-48d5e84f363b","name":"The portfolio was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/portfolios/:portfolioId","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","portfolios",":portfolioId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"portfolioId","value":"y4zsgccj4xpw-6-port","description":"(Required) A portfolio ID with the portfolio version number. Using the portfolio number without a version number will return the most recently generated reports."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"0cc490e8-d0da-40ec-8047-5a9ea9e06200","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/portfolios/:portfolioId","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","portfolios",":portfolioId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"portfolioId","value":"y4zsgccj4xpw-6-port","description":"(Required) A portfolio ID with the portfolio version number. Using the portfolio number without a version number will return the most recently generated reports."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"eba9e119-e313-41ec-962b-53fb7f85cd52","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/portfolios/:portfolioId","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","portfolios",":portfolioId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"portfolioId","value":"y4zsgccj4xpw-6-port","description":"(Required) A portfolio ID with the portfolio version number. Using the portfolio number without a version number will return the most recently generated reports."}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"2d324d67-dab2-4ecc-9b4a-6a8ebb659d48","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/portfolios/:portfolioId","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","portfolios",":portfolioId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"portfolioId","value":"y4zsgccj4xpw-6-port","description":"(Required) A portfolio ID with the portfolio version number. Using the portfolio number without a version number will return the most recently generated reports."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Portfolio by Consumer","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    // HTTP 404: report not yet ready\r","    pm.expect([200, 404]).contain(pm.response.code)\r","})"],"type":"text/javascript","id":"da3038dc-58ce-44de-a7cf-63778105dd00"}}],"id":"032b3976-a12d-49b2-ab8c-633eea9ffd9d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/{{consumerId}}/portfolios/{{portfolioId}}","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers","{{consumerId}}","portfolios","{{portfolioId}}"]},"description":"Return a portfolio of most recently generated reports for each report type for a given consumer. If there are multiple reports that were generated for a report type (VOA, VOI, etc.), only the most recently generated report for the type will be returned.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"1ee70270-6c31-4c56-a108-7dcc767be3a5","name":"The portfolio was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId/portfolios/:portfolioId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId","portfolios",":portfolioId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"},{"key":"portfolioId","value":"y4zsgccj4xpw-6-port","description":"(Required) A portfolio ID with the portfolio version number. Using the portfolio number without a version number will return the most recently generated reports."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"ed27cd22-bbe5-412b-94f9-ea7f117c78d3","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId/portfolios/:portfolioId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId","portfolios",":portfolioId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"},{"key":"portfolioId","value":"y4zsgccj4xpw-6-port","description":"(Required) A portfolio ID with the portfolio version number. Using the portfolio number without a version number will return the most recently generated reports."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"428c8013-f448-4ad5-aa12-86a46edec51e","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId/portfolios/:portfolioId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId","portfolios",":portfolioId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"},{"key":"portfolioId","value":"y4zsgccj4xpw-6-port","description":"(Required) A portfolio ID with the portfolio version number. Using the portfolio number without a version number will return the most recently generated reports."}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"bea36e16-af74-4a7c-96c5-732ebddbfdcf","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId/portfolios/:portfolioId","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId","portfolios",":portfolioId"],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"},{"key":"portfolioId","value":"y4zsgccj4xpw-6-port","description":"(Required) A portfolio ID with the portfolio version number. Using the portfolio number without a version number will return the most recently generated reports."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"9b237c3f-bdd1-4ee9-bf97-ec24213e5156","description":"Generate portfolios of the most recent reports","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","","const portfolioId = pm.variables.get(\"portfolioId\")","const consumerId = pm.variables.get(\"consumerId\")","if (portfolioId && consumerId) {","    return","}","","console.log(\"Fetching portfolio ID and consumer ID ...\")","const options = {","    url:  baseUrl + \"/decisioning/v2/customers/\" + customerId + \"/voa\",","    method: 'POST',","    header: {","        \"Accept\": \"application/json\",","        \"Content-Type\": \"application/json\",","        \"Finicity-App-Key\": appKey,","        \"Finicity-App-Token\": appToken","    },","    body: JSON.stringify({})","}","pm.sendRequest(options, function (err, response) {","    pm.expect(err).to.be.null","    pm.expect(response.code).to.equals(202)","    pm.variables.set(\"portfolioId\", response.json().portfolioId)","    pm.variables.set(\"consumerId\", response.json().consumerId)","})"],"id":"7be43257-e420-4c56-9785-ce21a23a0a8b"}}]},{"name":"Reports","item":[{"name":"Get Report by Customer and ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([200, 429])\r","})"],"type":"text/javascript","id":"30ec5c77-e91e-439f-9c0c-508f26390fb3"}}],"id":"8ca6adcd-1210-4294-85c0-6290f3822188","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/customers/{{customerId}}/reports/{{reportId}}?onBehalfOf=Some entity&purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v3","customers","{{customerId}}","reports","{{reportId}}"],"query":[{"key":"onBehalfOf","value":"Some entity","description":"(Required) The name of the entity you are retrieving the report on behalf of"},{"key":"purpose","value":"99","description":"2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."}]},"description":"Get a report that has been generated by a previous call to one of the Generate Report services.\n\nThe report's `status` field contains \"inProgress\", \"failure\", or \"success\". If the status shows \"inProgress\", the client app should wait 20 seconds and then call this API again.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"e9b30091-b97b-4d2c-87fd-089269b3e617","name":"The report was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/customers/:customerId/reports/:reportId?onBehalfOf=Some entity&purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v3","customers",":customerId","reports",":reportId"],"query":[{"key":"onBehalfOf","value":"Some entity"},{"key":"purpose","value":"99"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"reportId","value":"u4hstnnak45g","description":"(Required) ID of the report"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"bc88c435-a93c-402b-ba71-e5632cdaa3ed","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/customers/:customerId/reports/:reportId?onBehalfOf=Some entity&purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v3","customers",":customerId","reports",":reportId"],"query":[{"key":"onBehalfOf","value":"Some entity"},{"key":"purpose","value":"99"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"reportId","value":"u4hstnnak45g","description":"(Required) ID of the report"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"9be4cbb4-7f39-4aba-a859-fb4e9b8b4cda","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/customers/:customerId/reports/:reportId?onBehalfOf=Some entity&purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v3","customers",":customerId","reports",":reportId"],"query":[{"key":"onBehalfOf","value":"Some entity"},{"key":"purpose","value":"99"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"reportId","value":"u4hstnnak45g","description":"(Required) ID of the report"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"f395da1e-4df3-4eaf-9440-9eac9c8f67be","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/customers/:customerId/reports/:reportId?onBehalfOf=Some entity&purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v3","customers",":customerId","reports",":reportId"],"query":[{"key":"onBehalfOf","value":"Some entity"},{"key":"purpose","value":"99"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"reportId","value":"u4hstnnak45g","description":"(Required) ID of the report"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Report by Consumer and ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([200, 429])\r","})"],"type":"text/javascript","id":"71dfc73f-cde4-4d97-a91e-398e03b2128e"}}],"id":"ebea45c0-ae1b-4d4c-b392-5726e4183970","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/consumers/{{consumerId}}/reports/{{reportId}}?purpose=99&onBehalfOf=Some entity","host":["{{baseUrl}}"],"path":["decisioning","v3","consumers","{{consumerId}}","reports","{{reportId}}"],"query":[{"key":"purpose","value":"99","description":"2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports."},{"key":"onBehalfOf","value":"Some entity","description":"(Required) The name of the entity you are retrieving the report on behalf of"}]},"description":"Get a report that has been generated by a previous call to one of the Generate Report services.\n\nThe report's `status` field contains \"inProgress\", \"failure\", or \"success\". If the status shows \"inProgress\", the client app should wait 20 seconds and then call this API again.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"c19c9fe5-aae7-4303-834f-68441acf8b9a","name":"The report was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/consumers/:consumerId/reports/:reportId?purpose=99&onBehalfOf=Some entity","host":["{{baseUrl}}"],"path":["decisioning","v3","consumers",":consumerId","reports",":reportId"],"query":[{"key":"purpose","value":"99"},{"key":"onBehalfOf","value":"Some entity"}],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"},{"key":"reportId","value":"u4hstnnak45g","description":"(Required) ID of the report"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"7155e522-71d6-4e5a-bfc8-cf44c00f7c75","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/consumers/:consumerId/reports/:reportId?purpose=99&onBehalfOf=Some entity","host":["{{baseUrl}}"],"path":["decisioning","v3","consumers",":consumerId","reports",":reportId"],"query":[{"key":"purpose","value":"99"},{"key":"onBehalfOf","value":"Some entity"}],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"},{"key":"reportId","value":"u4hstnnak45g","description":"(Required) ID of the report"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"0c36b5ef-3567-4496-9b32-34eda0be5ff6","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/consumers/:consumerId/reports/:reportId?purpose=99&onBehalfOf=Some entity","host":["{{baseUrl}}"],"path":["decisioning","v3","consumers",":consumerId","reports",":reportId"],"query":[{"key":"purpose","value":"99"},{"key":"onBehalfOf","value":"Some entity"}],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"},{"key":"reportId","value":"u4hstnnak45g","description":"(Required) ID of the report"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"fe9e0c27-b9a0-4f46-a3d5-c441c5b5fba5","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v3/consumers/:consumerId/reports/:reportId?purpose=99&onBehalfOf=Some entity","host":["{{baseUrl}}"],"path":["decisioning","v3","consumers",":consumerId","reports",":reportId"],"query":[{"key":"purpose","value":"99"},{"key":"onBehalfOf","value":"Some entity"}],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"},{"key":"reportId","value":"u4hstnnak45g","description":"(Required) ID of the report"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Reports by Customer ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([200, 429])\r","})"],"type":"text/javascript","id":"21d3354b-953c-4170-83a2-3ffca3f03ed5"}}],"id":"fc04a5b4-8f78-4c12-ad25-86e0a04f038b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/{{customerId}}/reports","host":["{{baseUrl}}"],"path":["decisioning","v1","customers","{{customerId}}","reports"],"query":[{"key":"purpose","value":"99","description":"2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports.","disabled":true}]},"description":"Get all reports that have been generated by previous calls to Generate Report services for the given customer.\n\nThe `status` fields in the returned contain \"inProgress\", \"failure\", or \"success\". If the status shows \"inProgress\", the client app should wait 20 seconds and then call this API again.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"df1cd279-08f9-4fce-b088-5994af0e13b3","name":"The reports summaries were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"5e82d79c-f626-42c2-bcc6-0bff868de8dc","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"fd78e24a-8acb-48cb-a547-4bdf64b8816a","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"3835596f-2403-462e-9401-5fbabb44d53e","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"},{"id":"d808c8d1-930c-41ff-bd0d-8a28511a943b","name":"The service can't accept more requests or is not available from the [Test Drive](https://signup.finicity.com/).","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/customers/:customerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","customers",":customerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Too Many Requests","code":429,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""}]},{"name":"Get Reports by Consumer ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([200, 429])\r","})"],"type":"text/javascript","id":"7632939e-4546-47cd-bf98-fb7ad77a6fe8"}}],"id":"e6017e40-adbe-415d-a295-2c896ef85677","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/{{consumerId}}/reports","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers","{{consumerId}}","reports"],"query":[{"key":"purpose","value":"99","description":"2-digit code from [Permissible Purpose Codes](https://docs.finicity.com/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports.","disabled":true}]},"description":"Get all reports that have been generated by previous calls to Generate Report services for the given consumer.\n\nThe `status` fields in the returned contain \"inProgress\", \"failure\", or \"success\". If the status shows \"inProgress\", the client app should wait 20 seconds and then call this API again.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"00409788-5433-4ae2-9367-034204004f09","name":"The reports summaries were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"fc49ebe1-bcc2-4ec8-90eb-81eea44c6d55","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"d0fcb06e-325b-491d-b0cc-19152d5defaa","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"405a2ccc-e0d3-4a2b-ae1e-2b11c63ed279","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"},{"id":"7a23796e-7efd-48f5-ac6a-4b71e908f57d","name":"The service can't accept more requests or is not available from the [Test Drive](https://signup.finicity.com/).","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v1/consumers/:consumerId/reports?purpose=99","host":["{{baseUrl}}"],"path":["decisioning","v1","consumers",":consumerId","reports"],"query":[{"key":"purpose","value":"99"}],"variable":[{"key":"consumerId","value":"0bf46322c167b562e6cbed9d40e19a4c","description":"(Required) The consumer ID"}]}},"status":"Too Many Requests","code":429,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""}]}],"id":"87da3f78-db67-4fc3-b599-150ce7fc3afd","description":"Fetch generated reports when ready","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","const accountId = pm.variables.get(\"accountId\")","const reportId = pm.variables.get(\"reportId\")","const consumerId = pm.variables.get(\"consumerId\")","","createConsumer()","fetchReportIdAndConsumerId()","","function createConsumer() {","    const consumerExists = pm.globals.get(\"consumerExists\")","    if (consumerExists) {","        // A consumer was already created","        return","    }","","    console.log(\"Creating consumer ... \")","    const options = {","        url:  baseUrl + \"/decisioning/v1/customers/\" + customerId + \"/consumer\", ","        method: 'POST',","        header: {","            \"Accept\": \"application/json\",","            \"Content-type\": \"application/json\",","            \"Finicity-App-Key\": appKey,","            \"Finicity-App-Token\": appToken","        },","        body: JSON.stringify({","            \"firstName\": \"Homer\",","            \"lastName\": \"Loanseeke\",","            \"address\": \"434 W Ascension Way\",","            \"city\": \"Murray\",","            \"state\": \"UT\",","            \"zip\": \"84123\",","            \"phone\": \"1-800-986-3343\",","            \"ssn\": \"999601111\",","            \"birthday\": {","                \"year\": 1970,","                \"month\": 7,","                \"dayOfMonth\": 4","            },","            \"email\": \"finicity@test.com\",","            \"suffix\": \"Mr\"","        })","    }","    pm.sendRequest(options, function (err, response) {","        pm.expect(err).to.be.null","        pm.expect(response.code).to.be.oneOf([200, 201, 409])","        pm.globals.set(\"consumerExists\", true)","    })","}","","function fetchReportIdAndConsumerId() {","    if (reportId && consumerId) {","        return","    }","    ","    console.log(\"Fetching report ID and consumer ID ...\")","    const options = {","        url:  baseUrl + \"/decisioning/v2/customers/\" + customerId + \"/voa\",","        method: 'POST',","        header: {","            \"Accept\": \"application/json\",","            \"Content-Type\": \"application/json\",","            \"Finicity-App-Key\": appKey,","            \"Finicity-App-Token\": appToken","        },","        body: JSON.stringify({})","    }","    pm.sendRequest(options, function (err, response) {","        pm.expect(err).to.be.null","        pm.expect(response.code).to.equals(202)","        pm.variables.set(\"reportId\", response.json().id)","        pm.variables.set(\"consumerId\", response.json().consumerId)","    })","}",""],"id":"aeb77ab3-75da-4026-a523-bfafd8644f59"}}]},{"name":"Third Party Access","item":[{"name":"Generate Third Party Access Key","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","\r","    /* Store the receipt ID */\r","    const receiptId = pm.response.json().data[0].receipt.receiptId\r","    pm.globals.set(\"receiptId\", receiptId)\r","})"],"type":"text/javascript","id":"36ed9890-b9ce-45a3-9196-3883e5eecb3a"}}],"id":"909730e4-1689-404b-b86c-d79a78600e69","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"customerId\": \"{{customerId}}\",\r\n  \"partnerId\": \"{{partnerId}}\",\r\n  \"thirdPartyPartnerId\": \"1234583871234\",\r\n  \"provenance\": {\r\n    \"clientFingerprint\": \"LU9ZYxcDNQCwEmAxH52XFzaRiGMAAAAABclSKxW5S9P8pUMDV4fbpg\",\r\n    \"ipAddress\": \"8.8.8.8\",\r\n    \"token\": \"P9YbR+srNVyQI35893d+BzPrhGMAAAAAuacVUt+3m4svbaFjVSbHEA==\"\r\n  },\r\n  \"products\": [\r\n    {\r\n      \"product\": \"moneyTransferDetails\",\r\n      \"payorId\": \"2445581559892\",\r\n      \"maxCalls\": 200,\r\n      \"accountId\": \"{{accountId}}\",\r\n      \"accessPeriod\": {\r\n        \"type\": \"timeframe\",\r\n        \"startTime\": \"{{nowIso8601}}\",\r\n        \"endTime\": \"{{tomorrowIso8601}}\"\r\n      }\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey"]},"description":"Generate access key for third party partners.\n   \nA partner can provide access to third party partners with this access key."},"response":[{"id":"c020b4f6-d913-4c6a-94a0-a94749faab06","name":"The third party access key was successfully generated","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"3a1809f4-5115-47c9-8114-6cf0134597c4","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"d34249aa-b461-444a-828d-b02853897b43","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"},{"id":"36273951-2296-4570-a4d5-bab86426bee3","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey"]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Update Third Party Access","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(200)\r","})"],"type":"text/javascript","id":"5aa41946-249a-4d52-98a2-ef7c91f8f532"}}],"id":"3cd28e8f-19bf-4b58-890d-0e83cd7a26f9","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"customerId\": \"{{customerId}}\",\r\n  \"partnerId\": \"{{partnerId}}\",\r\n  \"thirdPartyPartnerId\": \"1234583871234\",\r\n  \"provenance\": {\r\n    \"clientFingerprint\": \"LU9ZYxcDNQCwEmAxH52XFzaRiGMAAAAABclSKxW5S9P8pUMDV4fbpg\",\r\n    \"ipAddress\": \"8.8.8.8\",\r\n    \"token\": \"P9YbR+srNVyQI35893d+BzPrhGMAAAAAuacVUt+3m4svbaFjVSbHEA==\"\r\n  },\r\n  \"products\": [\r\n    {\r\n      \"product\": \"moneyTransferDetails\",\r\n      \"payorId\": \"2445581559892\",\r\n      \"maxCalls\": 200,\r\n      \"accountId\": \"{{accountId}}\",\r\n      \"accessPeriod\": {\r\n        \"type\": \"timeframe\",\r\n        \"startTime\": \"{{nowIso8601}}\",\r\n        \"endTime\": \"{{tomorrowIso8601}}\"\r\n      }\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/{{receiptId}}","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey","{{receiptId}}"]},"description":"Update access for third party partners"},"response":[{"id":"74b70e38-710c-4192-aacb-f988488cd7a5","name":"The third party access key was successfully updated","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/:consentReceiptId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey",":consentReceiptId"],"variable":[{"key":"consentReceiptId","value":"cr_dcfvygbhunjimk","description":"(Required) Third party access key receipt ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"3340fafd-789f-40b1-b931-9dc041582fbb","name":"The request was rejected","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/:consentReceiptId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey",":consentReceiptId"],"variable":[{"key":"consentReceiptId","value":"cr_dcfvygbhunjimk","description":"(Required) Third party access key receipt ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"3d600be0-25fe-4d81-a5fe-a4b706850f2c","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/:consentReceiptId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey",":consentReceiptId"],"variable":[{"key":"consentReceiptId","value":"cr_dcfvygbhunjimk","description":"(Required) Third party access key receipt ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"},{"id":"f72ea200-e2a8-45b3-b654-58ccb52e0547","name":"The resource doesn't exist","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/:consentReceiptId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey",":consentReceiptId"],"variable":[{"key":"consentReceiptId","value":"cr_dcfvygbhunjimk","description":"(Required) Third party access key receipt ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Revoke Third Party Access","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(204)\r","})"],"type":"text/javascript","id":"e4e23834-b240-4175-9e88-faa84c11a635"}}],"id":"32a75f22-891b-4a5d-96da-15431f5de8be","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/{{receiptId}}","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey","{{receiptId}}"]},"description":"Revoke access of third party partners"},"response":[{"id":"84664ab9-a0cf-4d12-aa2d-458ac66345fd","name":"The third party access key was successfully revoked","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/:consentReceiptId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey",":consentReceiptId"],"variable":[{"key":"consentReceiptId","value":"cr_dcfvygbhunjimk","description":"(Required) Third party access key receipt ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"340e4884-4fc3-4946-a0cf-dbe012d3ff99","name":"The request was rejected","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/:consentReceiptId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey",":consentReceiptId"],"variable":[{"key":"consentReceiptId","value":"cr_dcfvygbhunjimk","description":"(Required) Third party access key receipt ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10010\",\n  \"status\": \"400\",\n  \"message\": \"\\\"partnerId\\\" is required\",\n  \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n  \"tags\": \"\"\n}"},{"id":"60bde0f6-c8f4-4757-83dd-8a700310a1f6","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/:consentReceiptId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey",":consentReceiptId"],"variable":[{"key":"consentReceiptId","value":"cr_dcfvygbhunjimk","description":"(Required) Third party access key receipt ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": \"10022\",\n  \"status\": \"401\",\n  \"message\": \"Invalid authorization credentials\",\n  \"user_message\": \"The session has expired or is invalid\",\n  \"tags\": \"\"\n}"},{"id":"5d4492f0-898f-4ad1-abbe-7df23f627486","name":"The resource doesn't exist","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/partners/accessKey/:consentReceiptId","host":["{{baseUrl}}"],"path":["aggregation","v1","partners","accessKey",":consentReceiptId"],"variable":[{"key":"consentReceiptId","value":"cr_dcfvygbhunjimk","description":"(Required) Third party access key receipt ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"code\": 10100,\n  \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"b79a1b6e-6671-4fad-8f5f-8517df95c2a3","description":"Generate and manage access keys for other partners","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","","const accountId = pm.variables.get(\"accountId\")","if (accountId) {","    return","}","","console.log(\"Fetching account ID ...\")","const options = {","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts\",","    method: 'GET',","    header: {","        \"Accept\": \"application/json\",","        \"Finicity-App-Key\": appKey,","        \"Finicity-App-Token\": appToken","    }","}","pm.sendRequest(options, function (err, response) {","    pm.expect(err).to.be.null","    pm.expect(response.code).to.equals(200)","    const account = response.json().accounts[0]","    pm.variables.set(\"accountId\", account.id)","})"],"id":"eaf2f7c8-8bb0-47dd-b7d1-cb9a2fb74cf0"}}]},{"name":"Transactions","item":[{"name":"Load Historic Transactions for Customer Account","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(204)\r","})"],"type":"text/javascript","id":"48f39f83-868c-4848-9481-b6421f49431a"}}],"id":"7abc3bae-8004-4487-b6b9-352eb5bb9b6e","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{accountId}}/transactions/historic","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{accountId}}","transactions","historic"]},"description":"Connect to the account's financial institution and load up to 24 months of historic transactions for the account. Length of history varies by institution.\n\nThis is a premium service. The billable event is a call to this service specifying a customer ID that has not been seen before by this service. (If this service is called multiple times with the same customer ID, to load transactions from multiple accounts, only one billable event has occurred.)\n\nThe recommended timeout setting for this request is 180 seconds in order to receive a response. However, you can terminate the connection after making the call the operation will still complete. You will have to pull the account records to check for an updated aggregation attempt date to know when the refresh is complete.\n\nThe date range sent to the institution is calculated from the account's `createdDate`. This means that calling this service a second time for the same account normally will not add any new transactions for the account. For this reason, a second call to this service for a known account ID will usually return immediately.\n\nIn a few specific scenarios, it may be desirable to force a second connection to the institution for a known account ID. Some examples are:\n\n* The institution's policy has changed, making more transactions available\n* Finicity has now added a longer transaction history support for the institution\n* The first call encountered an error, and the resulting Aggregation Ticket has now been fixed by the Finicity Support Team\n\nIn these cases, the POST request can contain the parameter `force=true` in the request body to force the second connection.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"7c901d01-066f-40b4-82d0-7527e3efe693","name":"The response contains an MFA challenge in XML or JSON format. Contact your Account Manager or Systems Engineers to determine the best route to handle this error.","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/transactions/historic","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","transactions","historic"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Non-Authoritative Information (since HTTP/1.1)","code":203,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"2e32dd6e-d6f3-4f1c-b10f-7c730772b10b","name":"Historic transactions have been loaded successfully. The transactions are now available by calling the Get Customer Account Transactions API.","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/transactions/historic","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","transactions","historic"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"9c3b9ee1-2401-4014-a997-712eb0948b75","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/transactions/historic","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","transactions","historic"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"427a439e-4d33-4b39-a0ac-b126798c84f0","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/transactions/historic","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","transactions","historic"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"743a4c6d-fb93-4816-8a73-537083dae9bb","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/transactions/historic","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","transactions","historic"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get All Customer Transactions","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equal(200)\r","})"],"type":"text/javascript","id":"b24bf87a-204a-4f10-8176-3c7343c28311"}}],"id":"c13a2b23-0750-4e47-9fe5-003d72769e08","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/{{customerId}}/transactions?fromDate=1000000000&includePending=true&toDate=1665309262","host":["{{baseUrl}}"],"path":["aggregation","v3","customers","{{customerId}}","transactions"],"query":[{"key":"fromDate","value":"1000000000","description":"(Required) A start date"},{"key":"start","value":"1","description":"Index of the page of results to return","disabled":true},{"key":"limit","value":"25","description":"Maximum number of results per page","disabled":true},{"key":"sort","value":"desc","description":"Date sort order: \"asc\" for ascending, \"desc\" for descending","disabled":true},{"key":"includePending","value":"true","description":"If pending transactions must be included"},{"key":"toDate","value":"1665309262","description":"(Required) A end date"}]},"description":"Get all transactions available for this customer within the given date range, across all accounts. This service supports paging and sorting by `transactionDate` (or `postedDate` if no transaction date is provided), with a maximum of 1000 transactions per request.\n\nStandard consumer aggregation provides up to 180 days of transactions prior to the date each account was added to the Finicity system. To access older transactions, you must first call the service Load Historic Transactions for Account.\n\nThere is no limit for the size of the window between `fromDate` and `toDate`, however, the maximum number of transactions returned on one page is 1000.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"03070469-0dde-4004-af69-851adc2ee767","name":"The transactions were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/transactions?fromDate=1607450357&toDate=1607450357&start=1&limit=25&sort=desc&includePending=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","transactions"],"query":[{"key":"fromDate","value":"1607450357"},{"key":"toDate","value":"1607450357"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"sort","value":"desc"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"a8ae57fb-11cf-41bb-8b2e-f628f360fdb3","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/transactions?fromDate=1607450357&toDate=1607450357&start=1&limit=25&sort=desc&includePending=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","transactions"],"query":[{"key":"fromDate","value":"1607450357"},{"key":"toDate","value":"1607450357"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"sort","value":"desc"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"311614e1-2840-4871-8c1d-af3560a4d24d","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/transactions?fromDate=1607450357&toDate=1607450357&start=1&limit=25&sort=desc&includePending=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","transactions"],"query":[{"key":"fromDate","value":"1607450357"},{"key":"toDate","value":"1607450357"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"sort","value":"desc"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"53151615-1b0e-4df2-b6ea-c132721dee23","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/transactions?fromDate=1607450357&toDate=1607450357&start=1&limit=25&sort=desc&includePending=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","transactions"],"query":[{"key":"fromDate","value":"1607450357"},{"key":"toDate","value":"1607450357"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"sort","value":"desc"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Customer Transaction by ID","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equal(404)\r","})"],"type":"text/javascript","id":"79f93a7a-4bf7-4003-9f5c-65a2edd9c16a"}}],"id":"72b46891-cfd9-4863-b59f-c0a0e57ff9a2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/{{customerId}}/transactions/1234","host":["{{baseUrl}}"],"path":["aggregation","v2","customers","{{customerId}}","transactions","1234"]},"description":"Get details for the given transaction.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"524ed07a-45d8-47ce-9624-9c110275770f","name":"The transaction was successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/transactions/:transactionId","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","transactions",":transactionId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"transactionId","value":"21284820852","description":"(Required) A transaction ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"8994c5ad-6982-4126-b741-d73fd0b8ec5b","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/transactions/:transactionId","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","transactions",":transactionId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"transactionId","value":"21284820852","description":"(Required) A transaction ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"c7fbc82f-d204-453f-be12-64de7348311c","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/transactions/:transactionId","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","transactions",":transactionId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"transactionId","value":"21284820852","description":"(Required) A transaction ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"f3dda1bd-7b5f-4b8a-9455-93908476cfa3","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v2/customers/:customerId/transactions/:transactionId","host":["{{baseUrl}}"],"path":["aggregation","v2","customers",":customerId","transactions",":transactionId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"transactionId","value":"21284820852","description":"(Required) A transaction ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Get Customer Account Transactions","event":[{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const customerId = pm.environment.get(\"customerId\")\r","const appToken = pm.globals.get(\"appToken\")\r","\r","const accountId = pm.variables.get(\"accountId\")\r","if (accountId) {\r","    return\r","}\r","\r","console.log(\"Fetching account ID ...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts\",\r","    method: 'GET',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    }\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(200)\r","    pm.variables.set(\"accountId\", response.json().accounts[0].id)\r","})"],"type":"text/javascript","id":"2caeaef5-3fec-41d9-9b55-0bfa73f9f168"}},{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equal(200)\r","})"],"type":"text/javascript","id":"ba90908a-c492-4dda-9e0c-40efc60b291a"}}],"id":"8e9bba2e-8eee-4574-ad31-7ce87d624b4f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v4/customers/{{customerId}}/accounts/{{accountId}}/transactions?fromDate=1000000000&includePending=true&toDate=1665309262","host":["{{baseUrl}}"],"path":["aggregation","v4","customers","{{customerId}}","accounts","{{accountId}}","transactions"],"query":[{"key":"fromDate","value":"1000000000","description":"(Required) A start date"},{"key":"start","value":"1","description":"Index of the page of results to return","disabled":true},{"key":"limit","value":"25","description":"Maximum number of results per page","disabled":true},{"key":"sort","value":"desc","description":"Date sort order: \"asc\" for ascending, \"desc\" for descending","disabled":true},{"key":"includePending","value":"true","description":"If pending transactions must be included"},{"key":"toDate","value":"1665309262","description":"(Required) A end date"}]},"description":"Get all transactions available for this customer account within the given date range. This service supports paging and sorting by `transactionDate` (or `postedDate` if no transaction date is provided), with a maximum of 1000 transactions per request.\n\nStandard consumer aggregation provides up to 180 days of transactions prior to the date each account was added to the Finicity system. To access older transactions, you must first call the Cash Flow Verification service Load Historic Transactions for Account.\n\nThere is no limit for the size of the window between `fromDate` and `toDate`, however, the maximum number of transactions returned on one page is 1000.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"f18f0545-4941-45b4-9ae0-3aeb7b4e17eb","name":"The transactions were successfully retrieved","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/accounts/:accountId/transactions?fromDate=1607450357&toDate=1607450357&start=1&limit=25&sort=desc&includePending=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","accounts",":accountId","transactions"],"query":[{"key":"fromDate","value":"1607450357"},{"key":"toDate","value":"1607450357"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"sort","value":"desc"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"181638cc-38a9-49b5-babb-326b8af7c99a","name":"The request was rejected","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/accounts/:accountId/transactions?fromDate=1607450357&toDate=1607450357&start=1&limit=25&sort=desc&includePending=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","accounts",":accountId","transactions"],"query":[{"key":"fromDate","value":"1607450357"},{"key":"toDate","value":"1607450357"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"sort","value":"desc"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"8954e819-2fba-4292-98e5-f08d09f660cc","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/accounts/:accountId/transactions?fromDate=1607450357&toDate=1607450357&start=1&limit=25&sort=desc&includePending=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","accounts",":accountId","transactions"],"query":[{"key":"fromDate","value":"1607450357"},{"key":"toDate","value":"1607450357"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"sort","value":"desc"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"e2da558c-57dd-42c4-a40c-4d3eb6bdd865","name":"The resource doesn't exist","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v3/customers/:customerId/accounts/:accountId/transactions?fromDate=1607450357&toDate=1607450357&start=1&limit=25&sort=desc&includePending=true","host":["{{baseUrl}}"],"path":["aggregation","v3","customers",":customerId","accounts",":accountId","transactions"],"query":[{"key":"fromDate","value":"1607450357"},{"key":"toDate","value":"1607450357"},{"key":"start","value":"1"},{"key":"limit","value":"25"},{"key":"sort","value":"desc"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate Transactions Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"5f75d38e-5806-4cd4-9c06-6795429786d3"}},{"listen":"prerequest","script":{"exec":["// A consumer is needed for this API\r","createConsumer()\r","\t\r","function createConsumer() {\r","    const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","    const customerId = pm.environment.get(\"customerId\")\r","    const appKey = pm.environment.get(\"appKey\")\r","    const appToken = pm.globals.get(\"appToken\")\r","\r","    const consumerExists = pm.globals.get(\"consumerExists\")\r","    if (consumerExists) {\r","        // A consumer was already created\r","        return\r","    }\r","\r","    console.log(\"Creating consumer ... \")\r","    const options = {\r","        url:  baseUrl + \"/decisioning/v1/customers/\" + customerId + \"/consumer\", \r","        method: 'POST',\r","        header: {\r","            \"Accept\": \"application/json\",\r","            \"Content-type\": \"application/json\",\r","            \"Finicity-App-Key\": appKey,\r","            \"Finicity-App-Token\": appToken\r","        },\r","        body: JSON.stringify({\r","            \"firstName\": \"Homer\",\r","            \"lastName\": \"Loanseeke\",\r","            \"address\": \"434 W Ascension Way\",\r","            \"city\": \"Murray\",\r","            \"state\": \"UT\",\r","            \"zip\": \"84123\",\r","            \"phone\": \"1-800-986-3343\",\r","            \"ssn\": \"999601111\",\r","            \"birthday\": {\r","                \"year\": 1970,\r","                \"month\": 7,\r","                \"dayOfMonth\": 4\r","            },\r","            \"email\": \"finicity@test.com\",\r","            \"suffix\": \"Mr\"\r","        })\r","    }\r","    pm.sendRequest(options, function (err, response) {\r","        pm.expect(err).to.be.null\r","        pm.expect(response.code).to.be.oneOf([200, 201, 409])\r","        pm.globals.set(\"consumerExists\", true)\r","    })\r","}"],"type":"text/javascript","id":"cf83eaf4-4bfc-4568-bec9-bc421d58dc9b"}}],"id":"f48f150b-357a-4545-bee5-80245b291ec3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"showNsf\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/transactions","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","transactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true},{"key":"toDate","value":"1607450357","description":"(Required) A end date","disabled":true},{"key":"includePending","value":"true","description":"If pending transactions must be included","disabled":true}]},"description":"Generate a Transaction Report for the given accounts under the given customer. This service retrieves up to 24 months of transaction history for the given customer. It then uses this information to generate the Transaction Report. \n\nThis is a premium service. A billable event will be created upon the successful generation of the Transactions Report. \n\nBefore calling this API, a consumer must be created for the given customer ID (see Consumers APIs).\n\nThere cannot be more than 24 months between `fromDate` and `toDate`.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"73eff1ef-50ca-4558-9909-b28ce51e47cc","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/transactions?callbackUrl=https://finicity-test/webhook&toDate=1607450357&includePending=true","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","transactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"},{"key":"toDate","value":"1607450357"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"eaf8f46f-76f5-4b13-8cdf-8d6b5dfb6b5b","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/transactions?callbackUrl=https://finicity-test/webhook&toDate=1607450357&includePending=true","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","transactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"},{"key":"toDate","value":"1607450357"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"89fe3c6f-1d77-4fec-892b-c6d57c18a792","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/transactions?callbackUrl=https://finicity-test/webhook&toDate=1607450357&includePending=true","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","transactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"},{"key":"toDate","value":"1607450357"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"35955692-61f5-4ac2-9c41-289f2a925165","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/transactions?callbackUrl=https://finicity-test/webhook&toDate=1607450357&includePending=true","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","transactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"},{"key":"toDate","value":"1607450357"},{"key":"includePending","value":"true"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"443368a7-8508-414c-be21-125ddc5823a1","description":"Fetch customer and account transactions and generate reports asynchronously"},{"name":"TxPush","item":[{"name":"Subscribe to TxPush Notifications","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(201)\r","})"],"type":"text/javascript","id":"b08488ea-fc5b-44f6-b601-ff889bc5bd5c"}}],"id":"9a72b7b4-ec4b-4c2c-85d8-783b8e7925d0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"callbackUrl\": \"https://eo309tmtekubcq.m.pipedream.net/\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{accountId}}/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{accountId}}","txpush"]},"description":"Register a client app's TxPush Listener to receive TxPush notifications related to the given account.\n\nEach call to this service will return two records, one with class account and one with class transaction. Account events are sent when values change in the account's fields (such as `balance` or `interestRate`). Transaction events are sent whenever a new transaction is posted for the account. For institutions that do not provide TxPush services, notifications are sent as soon as Finicity finds a new transaction or new account data through regular aggregation processes.\n\nThe listener's URL must be secure (HTTPS) for any real-world account. In addition, the client's TxPush Listener will need to be verified. HTTP and HTTPS connections are only allowed on the standard ports 80 (HTTP) and 443 (HTTPS). The use of other ports will result with the call failing.\n\nFor additional details on this process, see [TxPush Listener Service](https://docs.finicity.com/txpush-listener-service/).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"6148e1af-4d0d-4667-b344-113a315609d2","name":"The subscription was successfully created","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","txpush"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"subscriptions\": [\n  {\n   \"id\": 17554874,\n   \"accountId\": 5011648377,\n   \"type\": \"account\",\n   \"callbackUrl\": \"https://www.mydomain.com/txpush/listener\",\n   \"signingKey\": \"zg4U0v1IvTzFEHIXzJMxPHnfUwWZAMVpXrUuNuL9IvZI0QzkDdwp39IAKuNOFxOVqCOgHLMS1Zpe4ZL40NX83aJkqI6v0Ez5B7BLBtvr7Ag11kPH3uG1taTeOV0CTyI4LOg7ohSHn0DqaRu2aBq26KI90nYe0CecTCzzhu4yMXL43JV8YfydAexNdkzfg8tY44MlhBPUh2neHW2EFTT2ja4s4Ul10JgID03un8WBSrIm2adHw3QYJB4jk4k1e\"\n  },\n  {\n   \"id\": 17554874,\n   \"accountId\": 5011648377,\n   \"type\": \"account\",\n   \"callbackUrl\": \"https://www.mydomain.com/txpush/listener\",\n   \"signingKey\": \"zg4U0v1IvTzFEHIXzJMxPHnfUwWZAMVpXrUuNuL9IvZI0QzkDdwp39IAKuNOFxOVqCOgHLMS1Zpe4ZL40NX83aJkqI6v0Ez5B7BLBtvr7Ag11kPH3uG1taTeOV0CTyI4LOg7ohSHn0DqaRu2aBq26KI90nYe0CecTCzzhu4yMXL43JV8YfydAexNdkzfg8tY44MlhBPUh2neHW2EFTT2ja4s4Ul10JgID03un8WBSrIm2adHw3QYJB4jk4k1e\"\n  }\n ]\n}"},{"id":"a1bb1c90-ab57-4e6f-a180-bc7693932d6f","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","txpush"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"54c1c361-d014-4183-b80e-9f03262f6db8","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","txpush"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"30b2b58b-0b90-4df9-a097-8f8ce7d840f8","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","txpush"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Disable TxPush Notifications","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(204)\r","})"],"type":"text/javascript","id":"23160eed-95f0-4c64-84aa-e8bcbd2a79c9"}},{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const customerId = pm.environment.get(\"customerId\")\r","const appToken = pm.globals.get(\"appToken\")\r","const accountId = pm.variables.get(\"accountId\")\r","\r","// Create a subscription we can delete later\r","console.log(\"Subscribing to TxPush Notifications...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts/\"+ accountId + \"/txpush\",\r","    method: 'POST',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Content-Type\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    },\r","    body: JSON.stringify({\r","        \"callbackUrl\": \"https://eo309tmtekubcq.m.pipedream.net/\"\r","    })\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(201)\r","})"],"type":"text/javascript","id":"865f3f0b-f125-41e5-a1e0-a1e73a70b935"}}],"id":"6f58c99d-f159-4182-ab63-de05752bcf45","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{accountId}}/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{accountId}}","txpush"]},"description":"Delete all TxPush subscriptions with their notifications for the given account. No more notifications will be sent for account or transaction events.\n\nFor additional details on this process, see [TxPush Listener Service](https://docs.finicity.com/txpush-listener-service/).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"f36c058f-167e-4e0b-802a-727a182fb90d","name":"Subscriptions were successfully deleted for the given account","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","txpush"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"d00b9df6-01dd-40b6-9169-32c7eee99a89","name":"The request was rejected","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","txpush"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"c4bd696c-cb90-47d5-8ec0-153d941cb12f","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","txpush"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"db368cdc-5779-49a0-ba1f-908b313d734b","name":"The resource doesn't exist","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/txpush","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","txpush"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Create TxPush Test Transaction","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.equals(201)\r","})"],"type":"text/javascript","id":"4b0abacc-7359-4141-9209-8e88142a2edb"}}],"id":"31626cc7-e1ee-4f57-b9d7-4f199444cd0d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"amount\": -4.25,\n    \"description\": \"a testing transaction description\",\n    \"transactionDate\": 1607450357,\n    \"status\": \"pending\",\n    \"postedDate\": 1607450357\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/accounts/{{accountId}}/transactions","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","accounts","{{accountId}}","transactions"]},"description":"Inject a transaction into the transaction list for a testing account. This allows an app to trigger TxPush notifications for the account in order to test the app's TxPush Listener service. This causes the platform to send one transaction event and one account event (showing that the account balance has changed). This service is only supported for testing accounts.\n\nFor additional details on this process, see [TxPush Listener Service](https://docs.finicity.com/txpush-listener-service/).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"cbf278f3-1010-473e-849f-75138e401d1a","name":"The test notification was successfully sent","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/transactions","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","transactions"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 21284820852,\n \"createdDate\": 1607450357\n}"},{"id":"00281e8c-a2da-4322-b3b5-42bb6874ec56","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/transactions","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","transactions"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"f9099b42-f306-4c9c-bd93-2b770b421efb","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/transactions","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","transactions"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"ac2ac583-b100-4ba4-b5b8-736a207d572c","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/accounts/:accountId/transactions","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","accounts",":accountId","transactions"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"accountId","value":"5011648377","description":"(Required) The account ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Delete TxPush Subscription","event":[{"listen":"prerequest","script":{"exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")\r","const appKey = pm.environment.get(\"appKey\")\r","const customerId = pm.environment.get(\"customerId\")\r","const appToken = pm.globals.get(\"appToken\")\r","const accountId = pm.variables.get(\"accountId\")\r","\r","// Create a subscription we can delete later\r","console.log(\"Subscribing to TxPush Notifications...\")\r","const options = {\r","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts/\"+ accountId + \"/txpush\",\r","    method: 'POST',\r","    header: {\r","        \"Accept\": \"application/json\",\r","        \"Content-Type\": \"application/json\",\r","        \"Finicity-App-Key\": appKey,\r","        \"Finicity-App-Token\": appToken\r","    },\r","    body: JSON.stringify({\r","        \"callbackUrl\": \"https://eo309tmtekubcq.m.pipedream.net/\"\r","    })\r","}\r","pm.sendRequest(options, function (err, response) {\r","    pm.expect(err).to.be.null\r","    pm.expect(response.code).to.equals(201)\r","    pm.variables.set(\"subscriptionId\", response.json().subscriptions[0].id)\r","})"],"type":"text/javascript","id":"3dbb815c-c565-46ee-ace6-d0a05a14beac"}}],"id":"9cd17727-7f24-4282-865c-3bfcc45141fe","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/{{customerId}}/subscriptions/{{subscriptionId}}","host":["{{baseUrl}}"],"path":["aggregation","v1","customers","{{customerId}}","subscriptions","{{subscriptionId}}"]},"description":"Delete a specific subscription to TxPush notifications for the given account. This could be individual deleting the account or transactions events. No more events will be sent for that specific subscription.\n\nFor additional details on this process, see [TxPush Listener Service](https://docs.finicity.com/txpush-listener-service/).\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"f29a0af0-44fa-4992-a9d0-720436890d41","name":"The subscription was successfully deleted","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/subscriptions/:subscriptionId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","subscriptions",":subscriptionId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"subscriptionId","value":"17554874","description":"(Required) The subscription ID"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"44f58544-f0e3-49d6-869c-192009c9b25f","name":"The request was rejected","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/subscriptions/:subscriptionId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","subscriptions",":subscriptionId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"subscriptionId","value":"17554874","description":"(Required) The subscription ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"a9b6526e-ba91-47cc-9fc3-f8e33930cf45","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/subscriptions/:subscriptionId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","subscriptions",":subscriptionId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"subscriptionId","value":"17554874","description":"(Required) The subscription ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"3913e01b-991d-467d-b7c0-e182d462d094","name":"The resource doesn't exist","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/aggregation/v1/customers/:customerId/subscriptions/:subscriptionId","host":["{{baseUrl}}"],"path":["aggregation","v1","customers",":customerId","subscriptions",":subscriptionId"],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"},{"key":"subscriptionId","value":"17554874","description":"(Required) The subscription ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"62e26b67-2069-419b-b85c-f69a940f33ba","description":"Manage TxPush subscriptions","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","","const accountId = pm.variables.get(\"accountId\")","if (accountId) {","    return","}","","console.log(\"Fetching account ID ...\")","const options = {","    url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/accounts\",","    method: 'GET',","    header: {","        \"Accept\": \"application/json\",","        \"Finicity-App-Key\": appKey,","        \"Finicity-App-Token\": appToken","    }","}","pm.sendRequest(options, function (err, response) {","    pm.expect(err).to.be.null","    pm.expect(response.code).to.equals(200)","    pm.variables.set(\"accountId\", response.json().accounts[0].id)","})"],"id":"fc96aedc-2e72-46dc-903d-c2f3f9318e34"}}]},{"name":"Verify Assets","item":[{"name":"Generate VOA Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"53ca2a59-e9e7-4994-8990-32ae9544410c"}}],"id":"cea6402f-0b35-42d5-8a7d-fb02f522ecf5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"showNsf\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/voa","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","voa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate a Verification of Assets (VOA) report for all checking, savings, money market, and investment accounts for the given customer. This service retrieves up to twelve months of transaction history for each account and uses this information to generate the VOA report.\n\nThis is a premium service. The billing rate is the variable rate for Verification of Assets under the current subscription plan. The billable event is the successful generation of a VOA report.\n\nBefore calling this API, a consumer must be created for the given customer ID (see Consumers APIs).\n\nIf no account of type checking, savings, money market, or investment is found, the service will return HTTP 400 Bad Request.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"ca5a4c6b-3dae-4c7c-83d4-e328ad523694","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voa?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"e62dcebb-5757-4bdc-85cf-550e84d39c48","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voa?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"c3be07e7-5125-46e3-9755-9c43fde5be4f","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voa?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"9453cd45-3cb3-481e-950e-742d9fde07a9","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voa?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate VOA With Income Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"de8305f7-38a4-4c75-adb1-6a8d50befa38"}}],"id":"c9a4e7ac-f4de-4d3f-93ef-f5ef15f7f3c5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"showNsf\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/voaHistory","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","voaHistory"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate a Verification of Assets with Income (VOAI) report for all checking, savings, money market, and investment accounts for the given customer. This service retrieves up to 24 months of transaction history for each account and uses this information to generate the VOAI report. The report includes 1 - 6 months of all debit and credit transactions for asset verification. By default, the history is set to 61 days, however, you can change the transaction history in this section by setting the `fromDate` parameter. The report also includes up to 24 months of income credit transactions (ordered by account and confidence level) regardless of `fromDate` for income verification.\n\nThis is a premium service. The billable event is the successful generation of a VOAI report.\n\nBefore calling this API, a consumer must be created for the given customer ID (see Consumers APIs).\n\nIf no account of type checking, savings, money market, or investment is found, the service will return HTTP 400 Bad Request.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"19640fa9-ade6-4c43-84bd-959d051a90ff","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voaHistory?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voaHistory"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"0b66808e-8d49-4546-9c22-a69b48c9df4d","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voaHistory?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voaHistory"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"710f16f8-61c8-4c18-b849-1195be27c851","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voaHistory?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voaHistory"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"b1330c7f-6dca-40f5-b2d0-b2445fcb6843","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voaHistory?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voaHistory"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate Prequalification Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"7da63974-0afb-44e0-bc89-c24746a14bed"}}],"id":"a90b206d-ee4c-4246-9ec6-abf1a1ea91a3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"showNsf\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/preQualVoa","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","preQualVoa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate a Prequalification Report (`preQualVoa`) for all checking, savings, money market, and investment accounts for the given customer. This service retrieves account and owner information as well as the number of NSFs for any account that is a checking account for the customer. \n\nThis is a premium service. The billing rate is billed per report for the Prequalification report. \n\nBefore calling this API, a consumer must be created for the given customer ID (see Consumers APIs).\n\nIf no account of type checking, savings, money market, or investment is found, the service will return HTTP 400 Bad Request.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"7f57d057-4cf9-46c5-a50f-daa0d3e0f90c","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/preQualVoa?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","preQualVoa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"0bba85f9-08f1-4886-aeda-b1beed695525","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/preQualVoa?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","preQualVoa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"da3bd902-b7c6-44f4-8e10-a422e11b5371","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/preQualVoa?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","preQualVoa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"164bd42f-4920-4eba-97d9-ef517eebc437","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/preQualVoa?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","preQualVoa"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate Prequalification (Non-CRA) Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"bb618c55-106a-43de-b8fe-92807f12e0bd"}}],"id":"94a42779-fa75-47d5-9e79-174a7d3fbac7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"showNsf\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/assetSummary","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","assetSummary"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Retrieve all checking, savings, money market, and investment accounts for a customer. The account, owner information, and the number of insufficient funds (NSFs) for checking accounts are also provided.\n\nThis is a premium service, billable per every successful API call.\n\nIf no account type of checking, savings, money market, or investment is found, the service will return HTTP 400 Bad Request.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"a79b0fab-794d-4bbd-ad08-3a7fa60e4044","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/assetSummary?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","assetSummary"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"1b7fc676-20f4-4ae4-bc68-7d23b88bca90","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/assetSummary?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","assetSummary"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"f151d1e6-f143-46cd-b6a2-3ce5ab7e896f","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/assetSummary?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","assetSummary"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"32e2bf26-0211-47f5-9b60-6a36ec42f7ad","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/assetSummary?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","assetSummary"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"53e0fc6f-46f1-4f5a-8c82-060b99e01326","description":"Generate asset reports asynchronously","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["// A consumer is needed for some of these APIs","createConsumer()","","function createConsumer() {","    const baseUrl = pm.collectionVariables.get(\"baseUrl\")","    const customerId = pm.environment.get(\"customerId\")","    const appKey = pm.environment.get(\"appKey\")","    const appToken = pm.globals.get(\"appToken\")","","    const consumerExists = pm.globals.get(\"consumerExists\")","    if (consumerExists) {","        // A consumer was already created","        return","    }","","    console.log(\"Creating consumer ... \")","    const options = {","        url:  baseUrl + \"/decisioning/v1/customers/\" + customerId + \"/consumer\", ","        method: 'POST',","        header: {","            \"Accept\": \"application/json\",","            \"Content-type\": \"application/json\",","            \"Finicity-App-Key\": appKey,","            \"Finicity-App-Token\": appToken","        },","        body: JSON.stringify({","            \"firstName\": \"Homer\",","            \"lastName\": \"Loanseeke\",","            \"address\": \"434 W Ascension Way\",","            \"city\": \"Murray\",","            \"state\": \"UT\",","            \"zip\": \"84123\",","            \"phone\": \"1-800-986-3343\",","            \"ssn\": \"999601111\",","            \"birthday\": {","                \"year\": 1970,","                \"month\": 7,","                \"dayOfMonth\": 4","            },","            \"email\": \"finicity@test.com\",","            \"suffix\": \"Mr\"","        })","    }","    pm.sendRequest(options, function (err, response) {","        pm.expect(err).to.be.null","        pm.expect(response.code).to.be.oneOf([200, 201, 409])","        pm.globals.set(\"consumerExists\", true)","    })","}"],"id":"f65a6cc9-bf48-43ca-84be-bb8b165707ee"}}]},{"name":"Verify Income and Employment","item":[{"name":"Generate VOI Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"55f1cd8d-6514-4814-babb-ef1b824ed50c"}}],"id":"149693d5-93ef-4bd0-8b64-1fb6b32b7ad6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"showNsf\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/voi?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","voi"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code."}]},"description":"Generate a Verification of Income (VOI) report for all checking, savings, and money market accounts for the given customer. This service retrieves up to two years of transaction history for each account and uses this information to generate the VOI report.\n\nThis is a premium service. The billing rate is the variable rate for Verification of Income under the current subscription plan. The billable event is the successful generation of a VOI report.\n\nIf no account of type checking, savings, or money market is found, the service will return HTTP 400 Bad Request.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"09b264d2-9e65-496a-ab49-c0296fb5a163","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voi?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voi"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"768723ff-223d-48ed-a2b8-2755985f7112","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voi?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voi"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"b897d704-9fbe-4d43-bde7-c97790b88e01","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voi?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voi"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"833129f4-f049-4102-a06f-45c1d22c0f0e","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voi?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voi"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate VOE - Payroll Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"afae7e35-8a99-40f1-869d-d50a2e92ec4d"}}],"id":"afd69d30-388b-412e-9506-2c0074b6be9b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"payrollData\": {\n        \"ssn\": \"999601111\",\n        \"dob\": 15983999\n    },\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/voePayroll","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","voePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate or refresh a VOE â€“ Payroll report. Often used as a complementary report to the VOIE-Payroll report to fulfill the pre-close VOE requirements. It retrieves the customer's employment details and employment status through the payroll source without any income information.\n\nThis is a premium service. The billable event is the successful generation of a VOE - Payroll report.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"c5759e2e-0dfe-425a-8fea-b7571e0fe378","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voePayroll?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"388de21a-28bb-4448-8765-85bc46fa8300","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voePayroll?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"f577472f-eeff-429b-a173-e6a3bbb05444","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voePayroll?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"082edfc4-d162-4122-8196-ceb6c7ae4ec5","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voePayroll?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate VOE - Transactions Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"bc9f48a8-3435-4208-b6b2-11283a6e1bc2"}}],"id":"39bd5139-ca98-4820-be8a-7652b8c7dae4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ],\n    \"incomeStreamConfidenceMinimum\": 50\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/voeTransactions","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","voeTransactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Premium Service: A billable event when the API response is successful.\n\nMVS-Direct integration developers only.\n\nUsed as a complimentary report to the VOA with Income and VOIE - Paystub (with TXVerify) reports and used to fulfill the pre-close VOE requirements. \n\nRetrieve the latest credit transaction information from the borrower's connected bank accounts and groups them into income streams so that you can view their payment history to ensure a direct deport was made within the expected cadence. The report displays transaction descriptions without any dollar amounts so that income re-verification isn't necessary.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"071b10d7-2315-4995-8a05-804ffcee46ef","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voeTransactions?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voeTransactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"bc17b19f-556b-4b1b-824b-c3a98a0c2733","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voeTransactions?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voeTransactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"950d956f-06e5-4778-803a-cc31dc737d94","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voeTransactions?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voeTransactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"dc199bbd-3aae-4351-82c7-15778fba781f","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voeTransactions?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voeTransactions"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate Pay Statement Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"505880b1-c184-4f16-8f0b-c7c033cb7337"}}],"id":"0acfd5c7-d4da-416a-a577-be4959538811","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"paystatementReport\": {\n        \"assetIds\": [\n            \"{{assetId}}\"\n        ],\n        \"extractEarnings\": true,\n        \"extractDeductions\": true,\n        \"extractDirectDeposit\": true\n    },\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/payStatement","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","payStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate Pay Statement Extraction Report for the given customer. This service accepts asset IDs of the stored pay statements to generate a Pay Statement Extraction Report. \n\nThis is a premium service. The billing rate is the variable rate for Pay Statement Extraction Report under the current subscription plan. The billable event is the successful generation of a Pay Statement Extraction Report.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"d96a2463-86ce-47d8-af30-54ed135e78c1","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/payStatement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","payStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"4f0e72af-9509-4aa3-8597-bc3dd5b42838","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/payStatement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","payStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"e1d95092-178a-4c73-a1ca-d578dc2adfb9","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/payStatement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","payStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"5de88fa0-8bc6-4c0c-9423-e76e0c901518","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/payStatement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","payStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate VOIE - Paystub (with TXVerify) Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"9f780bf8-eb7e-4bec-8f06-66564d1c165e"}}],"id":"95bf8678-3516-4c7a-bf6b-c097dc767cd3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"voieWithInterviewData\": {\n        \"txVerifyInterview\": [\n            {\n                \"assetId\": \"{{assetId}}\"\n            }\n        ],\n        \"extractEarnings\": true,\n        \"extractDeductions\": true,\n        \"extractDirectDeposit\": true\n    },\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/voieTxVerify/withInterview","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","voieTxVerify","withInterview"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate a VOIE - Paystub (with TXVerify) report for all checking and savings under the given customer. This service retrieves up to two years of transaction history for the given accounts. It then uses this information as well as the provided paystub(s), which are passed into the request body as asset IDs (generated using the Store Customer Pay Statement API) to generate the VOIE - Paystub (with TXVerify) report.\n\nNote: if you are using this API to refresh the bank transactions, use the same asset ID from the first report. A new paystub is not required unless the paystub is too old for underwriting requirements. Using the same asset ID that was on the original report and the previously extracted details will be used to speed up report generation response time.\n\nThis is a premium service. The billing rate is the variable rate for VOIE TXVerify under the current subscription plan. The billable event is the successful generation of a VOIE TXVerify Report.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"ecba2290-1cae-414f-8e0e-a6380245e1a1","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voieTxVerify/withInterview?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voieTxVerify","withInterview"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"43905530-d23f-4e70-a392-23e5f05dfb1c","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voieTxVerify/withInterview?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voieTxVerify","withInterview"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"935649b0-57ca-4315-b099-4f4a52c83b26","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voieTxVerify/withInterview?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voieTxVerify","withInterview"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"73e673d5-cf05-4e2b-9678-57c15657a0ae","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voieTxVerify/withInterview?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voieTxVerify","withInterview"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate VOIE - Paystub Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"6c17b9c6-8251-4030-b8a2-70eef1879601"}}],"id":"e1aaa525-6151-454a-9cc9-0dbc6bfaa08f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"voieWithStatementData\": {\n        \"assetIds\": [\n            \"{{assetId}}\"\n        ],\n        \"extractEarnings\": true,\n        \"extractDeductions\": true,\n        \"extractDirectDeposit\": true\n    },\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/voieTxVerify/withStatement","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","voieTxVerify","withStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate a VOIE - Paystub report. This service uses the provided paystub(s), which are passed into the request body as asset IDs (generated using the Store Customer Pay Statement API) to generate the VOIE - Paystub report with digitized paystub details.\n\nThis is a premium service. The billing rate is the variable rate for VOIE - Paystub under the current subscription plan. The billable event is the successful generation of a VOIE - Paystub Report.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"0456adc7-0bc3-42da-a164-2d724015c3d5","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voieTxVerify/withStatement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voieTxVerify","withStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"bcd34a62-2b17-43ee-b7c3-195cc3bac1c7","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voieTxVerify/withStatement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voieTxVerify","withStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"f7b29f73-f4ba-436f-97d5-f5973db450a2","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voieTxVerify/withStatement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voieTxVerify","withStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"ae2ec819-677a-42b0-9b26-1460ff8d4363","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voieTxVerify/withStatement?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voieTxVerify","withStatement"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]},{"name":"Generate VOIE - Payroll Report","event":[{"listen":"test","script":{"exec":["pm.test(\"Check status code\", function () {\r","    pm.expect(pm.response.code).to.be.oneOf([202, 429, 401])\r","})"],"type":"text/javascript","id":"40bd4dc8-6c45-4857-87f3-209c0cdeb097"}}],"id":"354940b0-c852-4609-8641-ce6367756051","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Finicity-App-Token","value":"{{appToken}}","type":"text"},{"key":"Finicity-App-Key","value":"{{appKey}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"payrollData\": {\n        \"ssn\": \"999601111\",\n        \"dob\": 15983999\n    },\n    \"reportCustomFields\": [\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        },\n        {\n            \"label\": \"loanID\",\n            \"value\": \"123456\",\n            \"shown\": true\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/{{customerId}}/voiePayroll","host":["{{baseUrl}}"],"path":["decisioning","v2","customers","{{customerId}}","voiePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook","description":"A Report Listener URL to receive notifications. The webhook must respond to the Finicity API with a 2xx HTTP status code.","disabled":true}]},"description":"Generate or refresh a VOIE â€“ Payroll report. For clients using the product via a consumer permissioning experience via Connect, the original VOIE â€“ Payroll report generates when the consumer completes the Connect experience, and this API is only used for future report refreshes without reengaging the consumer.\n\nThis is a premium service. The billable event is the successful generation of a VOIE - Payroll report.\n\n_Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)"},"response":[{"id":"f22a359e-4983-4e3c-a4de-2958af54e416","name":"The report is being generated. When finished, a notification will be sent to the specified callback URL (Report Listener Service) and the report can be fetched using Get Report APIs. If you don't use a callback URL, Get Report returns a minimal report wit","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voiePayroll?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voiePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Accepted","code":202,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{}"},{"id":"56ed8d9d-8e4b-49ad-9ecc-7b6a345e822f","name":"The request was rejected","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voiePayroll?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voiePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10010\",\n \"status\": \"400\",\n \"message\": \"\\\"partnerId\\\" is required\",\n \"user_message\": \"One or more of the fields could not be validated. Please ensure you have entered the correct data.\",\n \"tags\": \"\"\n}"},{"id":"77797b90-b720-4ea4-8443-f6c215da6542","name":"The request lacks valid authentication credentials. Check \"Finicity-App-Key\" or \"Finicity-App-Token\".","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voiePayroll?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voiePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": \"10022\",\n \"status\": \"401\",\n \"message\": \"Invalid authorization credentials\",\n \"user_message\": \"The session has expired or is invalid\",\n \"tags\": \"\"\n}"},{"id":"5c8e9f65-2de3-454b-b808-ede5ddcbbaf8","name":"The resource doesn't exist","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"Finicity-App-Key","value":"{{appKey}}"}],"url":{"raw":"{{baseUrl}}/decisioning/v2/customers/:customerId/voiePayroll?callbackUrl=https://finicity-test/webhook","host":["{{baseUrl}}"],"path":["decisioning","v2","customers",":customerId","voiePayroll"],"query":[{"key":"callbackUrl","value":"https://finicity-test/webhook"}],"variable":[{"key":"customerId","value":"1005061234","description":"(Required) A customer ID"}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"code\": 10100,\n \"message\": \"Cannot find consumer with id 1234.\"\n}"}]}],"id":"b4805dc7-a250-407e-bc6f-f8117b642819","description":"Generate income and employment reports asynchronously","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const appKey = pm.environment.get(\"appKey\")","const customerId = pm.environment.get(\"customerId\")","const appToken = pm.globals.get(\"appToken\")","","// A consumer is needed for some of these APIs","createConsumer()","createAsset()","","function createAsset() {","    const assetId = pm.variables.get(\"assetId\")","    if (assetId) {","        return","    }","","    console.log(\"Creating asset ID ...\")","    const options = {","        url:  baseUrl + \"/aggregation/v1/customers/\"+ customerId + \"/payStatements\",","        method: 'POST',","        header: {","            \"Accept\": \"application/json\",","            \"Content-Type\": \"application/json\",","            \"Finicity-App-Key\": appKey,","            \"Finicity-App-Token\": appToken","        },","        body: JSON.stringify({","            \"label\": \"lastPayPeriod\",","            \"statement\": \"VGhpcyBtdXN0IGJlIGFuIGltYWdl\"","        })","    }","    pm.sendRequest(options, function (err, response) {","        pm.expect(err).to.be.null","        pm.expect(response.code).to.equals(200)","        pm.variables.set(\"assetId\", response.json().assetId)","    })","}","","function createConsumer() {","    const consumerExists = pm.globals.get(\"consumerExists\")","    if (consumerExists) {","        // A consumer was already created","        return","    }","","    console.log(\"Creating consumer ... \")","    const options = {","        url:  baseUrl + \"/decisioning/v1/customers/\" + customerId + \"/consumer\", ","        method: 'POST',","        header: {","            \"Accept\": \"application/json\",","            \"Content-type\": \"application/json\",","            \"Finicity-App-Key\": appKey,","            \"Finicity-App-Token\": appToken","        },","        body: JSON.stringify({","            \"firstName\": \"Homer\",","            \"lastName\": \"Loanseeke\",","            \"address\": \"434 W Ascension Way\",","            \"city\": \"Murray\",","            \"state\": \"UT\",","            \"zip\": \"84123\",","            \"phone\": \"1-800-986-3343\",","            \"ssn\": \"999601111\",","            \"birthday\": {","                \"year\": 1970,","                \"month\": 7,","                \"dayOfMonth\": 4","            },","            \"email\": \"finicity@test.com\",","            \"suffix\": \"Mr\"","        })","    }","    pm.sendRequest(options, function (err, response) {","        pm.expect(err).to.be.null","        pm.expect(response.code).to.be.oneOf([200, 201, 409])","        pm.globals.set(\"consumerExists\", true)","    })","}"],"id":"b416e315-abd6-4c9b-87f2-8ff5c327f6a8"}}]}],"id":"cfc04234-2bd8-4ebb-b717-227bd8d61d18","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["console.log(pm.info.requestName + \" ...\")","","// Generate a new access token every 90 minutes","const baseUrl = pm.collectionVariables.get(\"baseUrl\")","const partnerId = pm.environment.get(\"partnerId\")","const partnerSecret = pm.environment.get(\"partnerSecret\")","const appKey = pm.environment.get(\"appKey\")","const appToken = pm.globals.get(\"appToken\")","","const now = new Date()","const expiryDate = appToken ? new Date(pm.globals.get(\"appTokenExpiry\")) : now","if (appToken && expiryDate > now) {","    // The token is still valid","    return","}","","// Create a new token","console.log(\"Creating access token ...\")","const options = {","    url:  baseUrl + \"/aggregation/v2/partners/authentication\", ","    method: 'POST',","    header: {","        \"Accept\": \"application/json\",","        \"Content-type\": \"application/json\",","        \"Finicity-App-Key\": appKey","    },","    body: JSON.stringify({","        \"partnerId\": partnerId,","        \"partnerSecret\": partnerSecret","    })","}","pm.sendRequest(options, function (err, response) {","    if (response.code == 403) {","        throw Error(\"HTTP 403. Make sure you are located in the US, UK or Canada.\")","    }","    pm.expect(err).to.be.null","    pm.expect(response.code).to.equals(200)","    const tokenValue = response.json().token","    const expiryDate = new Date()","    expiryDate.setMinutes(expiryDate.getMinutes() + 90)","    pm.globals.set(\"appToken\", tokenValue)","    pm.globals.set(\"appTokenExpiry\", expiryDate)","})"],"id":"52f4130f-1f5a-4379-a6b1-c101fbb4fd9f"}}]}],"event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["var moment = require('moment');","var ISO_8601_OFFSET = 'YYYY-MM-DDTHH:mm:ss.SSS';","pm.environment.set(\"nowIso8601\", `${moment().format(ISO_8601_OFFSET)}Z`);","pm.environment.set(\"tomorrowIso8601\", `${moment().add(1, 'days').format(ISO_8601_OFFSET)}Z`);"],"id":"e6ff1ec5-633e-4fd9-a4df-ca6bde9bc590"}}],"variable":[{"id":"eee44407-3823-4325-921f-c70f5ec881e7","key":"baseUrl","value":"https://api.finicity.com"},{"id":"a72494a3-8d72-49ea-afb5-a17acdd876fd","value":"","disabled":true},{"id":"f89777ef-48a9-415b-89a1-85b6dc461e23","key":"avaCustomerId","value":""},{"id":"2857b2fb-408c-4b6a-a6c9-80f4fd1b2887","key":"avaAccountId","value":""}]}